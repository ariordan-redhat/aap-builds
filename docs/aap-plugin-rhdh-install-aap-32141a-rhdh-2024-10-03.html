<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Installing Ansible plug-ins for Red Hat Developer Hub</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left Role ARG Spec">
<div id="header">
<h1>Installing Ansible plug-ins for Red Hat Developer Hub</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#providing-feedback">Providing feedback on Red Hat documentation</a></li>
<li><a href="#rhdh-intro_aap-plugin-rhdh-installing">1. Ansible plug-ins for Red Hat Developer Hub</a>
<ul class="sectlevel2">
<li><a href="#rhdh-about-rhdh_rhdh-intro">1.1. Red Hat Developer Hub</a></li>
<li><a href="#rhdh-about-plugins_rhdh-intro">1.2. Ansible plug-ins for Red Hat Developer Hub</a></li>
<li><a href="#rhdh-architecture_rhdh-intro">1.3. Architecture</a></li>
</ul>
</li>
<li><a href="#rhdh-install-ocp-helm_aap-plugin-rhdh-installing">2. Installing the Ansible plug-ins with a Helm chart on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-install-ocp-prereqs_rhdh-install-ocp">2.1. Prerequisites</a></li>
<li><a href="#rhdh-recommended-preconfig_rhdh-install-ocp">2.2. Recommended RHDH preconfiguration</a></li>
<li><a href="#rhdh-download-plugins_rhdh-install-ocp">2.3. Downloading the Ansible plug-ins files</a></li>
<li><a href="#rhdh-create-plugin-registry_rhdh-install-ocp">2.4. Creating a registry for the Ansible plug-ins</a></li>
<li><a href="#rhdh-ocp-required-installation_rhdh-install-ocp">2.5. Required configuration</a>
<ul class="sectlevel3">
<li><a href="#rhdh-add-plugin-config_rhdh-ocp-required-installation">2.5.1. Adding the Ansible plug-ins configuration</a></li>
<li><a href="#rhdh-devtools-sidecar_rhdh-ocp-required-installation">2.5.2. Adding the Ansible Development Tools sidecar container</a>
<ul class="sectlevel4">
<li><a href="#rhdh-add-pull-secret-helm_rhdh-ocp-required-installation">Adding a pull secret to the Red Hat Developer Hub Helm configuration</a></li>
<li><a href="#rhdh-add-devtools-container_rhdh-ocp-required-installation">Adding the Ansible Developer Tools container</a></li>
</ul>
</li>
<li><a href="#rhdh-add-custom-configmap_rhdh-ocp-required-installation">2.5.3. Adding a custom ConfigMap</a></li>
<li><a href="#rhdh-configure-devtools-server_rhdh-ocp-required-installation">2.5.4. Configuring the Ansible Dev Tools Server</a></li>
<li><a href="#rhdh-configure-aap-details_rhdh-ocp-required-installation">2.5.5. Configuring Ansible Automation Platform details</a></li>
<li><a href="#rhdh-add-plugin-software-templates_rhdh-ocp-required-installation">2.5.6. Adding Ansible plug-ins software templates</a></li>
<li><a href="#rhdh-configure-rbac_rhdh-ocp-required-installation">2.5.7. Configuring Role Based Access Control</a></li>
</ul>
</li>
<li><a href="#rhdh-ocp-configure-optional_rhdh-install-ocp">2.6. Optional configuration for Ansible plug-ins</a>
<ul class="sectlevel3">
<li><a href="#rhdh-enable-rhdh-authentication_rhdh-ocp-configure-optional_rhdh-install-ocp">2.6.1. Enabling Red Hat Developer Hub authentication</a></li>
<li><a href="#rhdh-configure-optional-integrations_rhdh-ocp-configure-optional_rhdh-install-ocp">2.6.2. Configuring Ansible plug-ins optional integrations</a>
<ul class="sectlevel4">
<li><a href="#rhdh-configure-devspaces_rhdh-ocp-configure-optional_rhdh-install-ocp">Configuring OpenShift Dev Spaces</a></li>
<li><a href="#rhdh-configure-pah-url_rhdh-ocp-configure-optional_rhdh-install-ocp">Configuring the private automation hub URL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#rhdh-ocp-full-examples_rhdh-install-ocp">2.7. Full examples</a>
<ul class="sectlevel3">
<li><a href="#rhdh-full-aap-configmap-example_rhdh-ocp-full-examples">2.7.1. Full app-config-rhdh ConfigMap example for Ansible plug-ins entries</a></li>
<li><a href="#rhdh-full-helm-chart-ansible-plugins_rhdh-ocp-full-examples">2.7.2. Full Helm chart config example for Ansible plug-ins</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#rhdh-install-ocp-operator_aap-plugin-rhdh-installing">3. Installing the Ansible plug-ins with the Operator on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-install-ocp-prereqs_rhdh-install-ocp-operator">3.1. Prerequisites</a></li>
<li><a href="#rhdh-recommended-preconfig_rhdh-install-ocp-operator">3.2. Recommended RHDH preconfiguration</a></li>
<li><a href="#rhdh-backup-operator-configmap_rhdh-install-ocp-operator">3.3. Backing up your RHDH Operator ConfigMap</a></li>
<li><a href="#rhdh-create-custom-configmap-operator-install_rhdh-install-ocp-operator">3.4. Creating a custom ConfigMap</a></li>
<li><a href="#rhdh-operator-add-custom-configmap-cr_rhdh-install-ocp-operator">3.5. Adding the rhdh-custom-config file to the RHDH Operator Custom Resource</a></li>
<li><a href="#rhdh-download-plugins_rhdh-install-ocp-operator">3.6. Downloading the Ansible plug-ins files</a></li>
<li><a href="#rhdh-create-plugin-registry_rhdh-install-ocp-operator">3.7. Creating a registry for the Ansible plug-ins</a></li>
<li><a href="#rhdh-install-dynamic-plugins-operator_rhdh-install-ocp-operator">3.8. Installing the dynamic plug-ins</a></li>
<li><a href="#rhdh-add-custom-configmap_rhdh-install-ocp-operator">3.9. Adding a custom ConfigMap</a></li>
<li><a href="#rhdh-configure-devtools-server_rhdh-install-ocp-operator">3.10. Configuring the Ansible Dev Tools Server</a></li>
<li><a href="#rhdh-configure-aap-details_rhdh-install-ocp-operator">3.11. Configuring Ansible Automation Platform details</a></li>
<li><a href="#rhdh-add-plugin-software-templates_rhdh-install-ocp-operator">3.12. Adding Ansible plug-ins software templates</a></li>
<li><a href="#rhdh-configure-rbac_rhdh-install-ocp-operator">3.13. Configuring Role Based Access Control</a></li>
<li><a href="#rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14. Optional configuration for Ansible plug-ins</a>
<ul class="sectlevel3">
<li><a href="#rhdh-enable-rhdh-authentication_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14.1. Enabling Red Hat Developer Hub authentication</a></li>
<li><a href="#rhdh-configure-optional-integrations_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14.2. Configuring Ansible plug-ins optional integrations</a>
<ul class="sectlevel4">
<li><a href="#rhdh-configure-devspaces_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">Configuring OpenShift Dev Spaces</a></li>
<li><a href="#rhdh-configure-pah-url_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">Configuring the private automation hub URL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#rhdh-full-aap-configmap-example_rhdh-install-ocp-operator">3.15. Full app-config-rhdh ConfigMap example for Ansible plug-ins entries</a></li>
</ul>
</li>
<li><a href="#rhdh-subscription-warnings_aap-plugin-rhdh-installing">4. Ansible plug-ins subscription warning messages</a>
<ul class="sectlevel2">
<li><a href="#rhdh-warning-unable-connect-aap_rhdh-subscription-warnings">4.1. Unable to connect to Ansible Automation Platform</a></li>
<li><a href="#rhdh-warning-unable-authenticate-aap_rhdh-subscription-warnings">4.2. Unable to authenticate to Ansible Automation Platform</a></li>
<li><a href="#rhdh-warning-invalid-aap-config_rhdh-subscription-warnings">4.3. Invalid Ansible Automation Platform configuration</a></li>
<li><a href="#rhdh-warning-aap-ooc_rhdh-subscription-warnings">4.4. Ansible Automation Platform subscription is out of compliance</a></li>
<li><a href="#rhdh-warning-invalid-aap-subscription_rhdh-subscription-warnings">4.5. Invalid Ansible Automation Platform subscription</a></li>
</ul>
</li>
<li><a href="#rhdh-upgrade-ocp-helm_aap-plugin-rhdh-installing">5. Upgrading the Ansible plug-ins on a Helm installation on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-download-plugins_rhdh-upgrade-ocp-helm">5.1. Downloading the Ansible plug-ins files</a></li>
<li><a href="#rhdh-update-plugin-registry_rhdh-upgrade-ocp-helm">5.2. Updating the plug-in registry</a></li>
<li><a href="#rhdh-update-plugins-helm-version-numbers_rhdh-upgrade-ocp-helm">5.3. Updating the Ansible plug-ins version numbers for a Helm installation</a></li>
</ul>
</li>
<li><a href="#rhdh-upgrade-ocp-operator_aap-plugin-rhdh-installing">6. Upgrading the Ansible plug-ins on an Operator installation on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-download-plugins_rhdh-upgrade-ocp-operator">6.1. Downloading the Ansible plug-ins files</a></li>
<li><a href="#rhdh-update-plugin-registry_rhdh-upgrade-ocp-operator">6.2. Updating the plug-in registry</a></li>
<li><a href="#rhdh-update-plugins-operator-version-numbers_rhdh-upgrade-ocp-operator">6.3. Updating the Ansible plug-ins version numbers for an Operator installation</a></li>
</ul>
</li>
<li><a href="#rhdh-uninstall-ocp-helm_aap-plugin-rhdh-installing">7. Uninstalling the Ansible plug-ins from a Helm installation on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-uninstall-ocp-helm_rhdh-uninstall-ocp-helm">7.1. Uninstalling a Helm chart installation</a></li>
</ul>
</li>
<li><a href="#rhdh-uninstall-ocp-operatoraap-plugin-rhdh-installing">8. Uninstalling an Operator installation on OpenShift Container Platform</a>
<ul class="sectlevel2">
<li><a href="#rhdh-uninstall-ocp-operator-plugins-cm_rhdh-uninstall-ocp-operator">8.1. Removing the Ansible plug-ins from the ConfigMap</a></li>
<li><a href="#_completely_remove_plug_ins">8.2. Completely remove plug-ins</a></li>
<li><a href="#rhdh-uninstall-ocp-operator-rhdh-cm_rhdh-uninstall-ocp-operator">8.3. Removing the Ansible from the ConfigMap</a></li>
<li><a href="#_remove_sidecar_from_rhdh_custom_config">8.4. Remove sidecar from rhdh-custom-config</a></li>
<li><a href="#_remove_configmaps_from_the_rhdh_operator_cr">8.5. Remove ConfigMaps from the RHDH Operator CR</a></li>
</ul>
</li>
<li><a href="#rhdh-configure-telemetry_aap-plugin-rhdh-installing">9. Red Hat Developer Hub data telemetry capturing</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Thank you for your interest in Red Hat Ansible Automation Platform. Ansible Automation Platform is a commercial offering that helps teams manage complex multi-tier deployments by adding control, knowledge, and delegation to Ansible-powered environments.</p>
</div>
<div class="paragraph">
<p>This guide describes how to install Ansible plug-ins for Red Hat Developer Hub.
This document has been updated to include information for the latest release of Ansible Automation Platform.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="providing-feedback">Providing feedback on Red Hat documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have a suggestion to improve this documentation, or find an error, you can contact technical support at <a href="https://access.redhat.com">https://access.redhat.com</a> to open a request.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-intro_aap-plugin-rhdh-installing">1. Ansible plug-ins for Red Hat Developer Hub</h2>
<div class="sectionbody">
<div class="sect2 _abstract">
<h3 id="rhdh-about-rhdh_rhdh-intro">1.1. Red Hat Developer Hub</h3>
<div class="paragraph">
<p>Red Hat Developer Hub (RHDH) serves as an open developer platform designed for building developer portals.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-about-plugins_rhdh-intro">1.2. Ansible plug-ins for Red Hat Developer Hub</h3>
<div class="paragraph">
<p>Ansible plug-ins for Red Hat Developer Hub deliver an Ansible-first Red Hat Developer Hub user experience that simplifies the automation experience for Ansible users of all skill levels.
The Ansible plug-ins provide curated content and features to accelerate Ansible learner onboarding and streamline Ansible use case adoption across your organization.</p>
</div>
<div class="paragraph">
<p>The Ansible plug-ins provide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A customized home page and navigation tailored to Ansible users.</p>
</li>
<li>
<p>Curated Ansible learning paths to help users new to Ansible.</p>
</li>
<li>
<p>Software templates for creating Ansible playbook and collection projects that follow best practices.</p>
</li>
<li>
<p>Links to supported development environments and tools with opinionated configurations.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-architecture_rhdh-intro">1.3. Architecture</h3>
<div class="imageblock">
<div class="content">
<img src="images/rhdh-ansible-plugin-architecture.png" alt="Ansible plugin for Red Hat Developer Hub architecture">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-install-ocp-helm_aap-plugin-rhdh-installing">2. Installing the Ansible plug-ins with a Helm chart on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>The following procedures describe how to install Ansible plug-ins in Red Hat Developer Hub instances on Red Hat OpenShift Container Platform using a Helm chart.</p>
</div>
<div class="paragraph">
<p>The workflow is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the Ansible plug-ins files.</p>
</li>
<li>
<p>Create a plug-in registry in your OpenShift cluster to host the Ansible plug-ins.</p>
</li>
<li>
<p>Add the plug-ins to the Helm chart.</p>
</li>
<li>
<p>Create a custom ConfigMap.</p>
</li>
<li>
<p>Add your custom ConfigMap to your Helm chart.</p>
</li>
<li>
<p>Edit your custom ConfigMap and Helm chart according to the required and optional configuration procedures.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can save changes to your Helm and ConfigMap after each update to your configuration.
You do not have to make all the changes to these files in a single session.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="rhdh-install-ocp-prereqs_rhdh-install-ocp">2.1. Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>Red Hat Developer Hub installed on Red Hat OpenShift Container Platform.</p>
<div class="ulist">
<ul>
<li>
<p>For Helm installation, follow the steps in the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/installing_red_hat_developer_hub_on_openshift_container_platform/index#assembly-install-rhdh-ocp-helm">Installing Red Hat Developer Hub on OpenShift Container Platform with the Helm chart</a>
section of <em>Installing Red Hat Developer Hub on OpenShift Container Platform</em>.</p>
</li>
<li>
<p>For Operator installation, follow the steps in the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/installing_red_hat_developer_hub_on_openshift_container_platform/index#assembly-install-rhdh-ocp-operator">Installing Red Hat Developer Hub on OpenShift Container Platform with the Operator</a>
section of <em>Installing Red Hat Developer Hub on OpenShift Container Platform</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A valid subscription to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>A user with the OpenShift Container Platform administrator role has configured the appropriate roles and permissions within your project to create an application.</p>
</li>
<li>
<p>The Red Hat Developer Hub instance can query the automation controller API.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-recommended-preconfig_rhdh-install-ocp">2.2. Recommended RHDH preconfiguration</h3>
<div class="paragraph">
<p>Red Hat recommends performing the following initial configuration tasks in RHDH.
However, you can install the Ansible plug-ins for Red Hat Developer Hub before completing these tasks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/authentication/index">Setting up authentication in RHDH</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/authorization/index">Installing and configuring RBAC in RHDH</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2 _additional-resources">
<h3 id="rhdh-download-plugins_rhdh-install-ocp">2.3. Downloading the Ansible plug-ins files</h3>
<div class="olist arabic">
<div class="title">Additional resources</div>
<ol class="arabic">
<li>
<p>Download the latest <code>.tar</code> file for the plug-ins from the <a href="https://access.redhat.com/downloads/content/480/ver=2.5/rhel---9/2.5/x86_64/product-software">Red Hat Ansible Automation Platform Product Software downloads page</a>.
The format of the filename is <code>ansible-backstage-rhaap-bundle-x.y.z.tar.gz</code>.
Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</li>
<li>
<p>Create a directory on your local machine to store the <code>.tar</code> files.</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir /path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Set an environment variable (<code>$DYNAMIC_PLUGIN_ROOT_DIR</code>) to represent the directory path.</p>
<div class="listingblock">
<div class="content">
<pre>$ export DYNAMIC_PLUGIN_ROOT_DIR=/path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Extract the <code>ansible-backstage-rhaap-bundle-&lt;version-number&gt;.tar.gz</code> contents to <code>$DYNAMIC_PLUGIN_ROOT_DIR</code>.</p>
<div class="listingblock">
<div class="content">
<pre>$ tar --exclude='*code*' -xzf ansible-backstage-rhaap-bundle-x.y.z.tar.gz -C $DYNAMIC_PLUGIN_ROOT_DIR</pre>
</div>
</div>
<div class="paragraph">
<p>Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Run <code>ls</code> to verify that the extracted files are in the <code>$DYNAMIC_PLUGIN_ROOT_DIR</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ls $DYNAMIC_PLUGIN_ROOT_DIR
ansible-plugin-backstage-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz.integrity
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz.integrity</pre>
</div>
</div>
<div class="paragraph">
<p>The files with the <code>.integrity</code> file type contain the plugin SHA value.
The SHA value is used during the plug-in configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-create-plugin-registry_rhdh-install-ocp">2.4. Creating a registry for the Ansible plug-ins</h3>
<div class="paragraph">
<p>Set up a registry in your OpenShift cluster to host the Ansible plug-ins and make them available for installation in Red Hat Developer Hub (RHDH).</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance with credentials to create a new application.</p>
</li>
<li>
<p>Open your Red Hat Developer Hub OpenShift project.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc project &lt;YOUR_DEVELOPER_HUB_PROJECT&gt;</pre>
</div>
</div>
</li>
<li>
<p>Run the following commands to create a plug-in registry build in the OpenShift cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc new-build httpd --name=plugin-registry --binary
$ oc start-build plugin-registry --from-dir=$DYNAMIC_PLUGIN_ROOT_DIR --wait
$ oc new-app --image-stream=plugin-registry</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To verify that the plugin-registry was deployed successfully, open the <strong>Topology</strong> view in the <strong>Developer</strong> perspective on the Red Hat Developer Hub application in the OpenShift Web console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the plug-in registry to view the log.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh-plugin-registry.png" alt="Developer perspective">
</div>
</div>
<div class="paragraph">
<p>(1) Developer hub instance</p>
</div>
<div class="paragraph">
<p>(2) Plug-in registry</p>
</div>
</li>
<li>
<p>Click the terminal tab and login to the container.</p>
</li>
<li>
<p>In the terminal, run <code>ls</code> to confirm that the .tar files are in the plugin registry.</p>
<div class="listingblock">
<div class="content">
<pre>ansible-plugin-backstagc-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-scaffolder-backend-modulc-backstagc-rhaap-x.y.z.tgz</pre>
</div>
</div>
<div class="paragraph">
<p>The version numbers and file names can differ.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-ocp-required-installation_rhdh-install-ocp">2.5. Required configuration</h3>
<div class="sect3 _abstract">
<h4 id="rhdh-add-plugin-config_rhdh-ocp-required-installation">2.5.1. Adding the Ansible plug-ins configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the OpenShift Developer UI, navigate to <span class="menuseq"><b class="menu">Helm</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">developer-hub</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Actions</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Upgrade</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Yaml view</b></span>.</p>
</li>
<li>
<p>Update the Helm chart configuration to add the dynamic plug-ins in the Red Hat Developer Hub instance.
Under the <code>plugins</code> section in the YAML file, add the dynamic plug-ins that you want to enable.</p>
<div class="listingblock">
<div class="content">
<pre>global:
  auth:
    backend:
      enabled: true
  clusterRouterBase: &lt;your-developer-hub-base-url&gt;
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-backstage-rhaap plugin&gt;
        package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
        pluginConfig:
          dynamicPlugins:
            frontend:
              ansible.plugin-backstage-rhaap:
                appIcons:
                  - importName: AnsibleLogo
                    name: AnsibleLogo
                dynamicRoutes:
                  - importName: AnsiblePage
                    menuItem:
                      icon: AnsibleLogo
                      text: Ansible
                    path: /ansible
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-scaffolder-backend-module-backstage-rhaap plugin&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-scaffolder-backend-module-backstage-rhaap: null
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-backstage-rhaap-backend plugin&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-backstage-rhaap-backend: null</pre>
</div>
</div>
</li>
<li>
<p>In the <code>package</code> sections, replace <code>x.y.z</code>  in the plug-in filenames with the correct version numbers for the Ansible plug-ins.</p>
</li>
<li>
<p>For each Ansible plug-in, update the integrity values using the corresponding <code>.integrity</code> file content.</p>
</li>
<li>
<p>Click <b class="button">Upgrade</b>.</p>
<div class="paragraph">
<p>The developer hub pods restart and the plug-ins are installed.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Verify that the plug-ins have been installed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the Developer perspective for the Red Hat Developer Hub application in the OpenShift Web console.</p>
</li>
<li>
<p>Check the <code>install-dynamic-plugin</code> container logs: the Ansible plug-ins are visible in Red Hat Developer Hub.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh-check-plugin-config.png" alt="container logs for install-dynamic-plugin">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-devtools-sidecar_rhdh-ocp-required-installation">2.5.2. Adding the Ansible Development Tools sidecar container</h4>
<div class="paragraph">
<p>After the plug-ins are loaded, add the Ansible Development Container (<code>ansible-devtools-server</code>) in the Red Hat Developer Hub pod as a sidecar container.</p>
</div>
<div class="sect4">
<h5 id="rhdh-add-pull-secret-helm_rhdh-ocp-required-installation">Adding a pull secret to the Red Hat Developer Hub Helm configuration</h5>
<div class="paragraph">
<div class="title">Prerequisite</div>
<p>The Ansible Development Container download requires a Red Hat Customer Portal account and Red Hat Service Registry account.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a new <a href="https://access.redhat.com/terms-based-registry/">Red Hat Registry Service account</a>, if required.</p>
</li>
<li>
<p>Click the token name under the <strong>Account name</strong> column.</p>
</li>
<li>
<p>Select the <strong>OpenShift Secret</strong> tab and follow the instructions to add the pull secret to your Red Hat Developer Hub OpenShift project.</p>
</li>
<li>
<p>Add the new secret to the Red Hat Developer Hub Helm configuration, replacing <code>&lt;your-redhat-registry-pull-secret&gt;</code> with the name of the secret you generated on the Red Hat Registry Service Account website:</p>
<div class="listingblock">
<div class="content">
<pre>upstream:
  backstage:
    ...
    image:
      ...
      pullSecrets:
        - &lt;your-redhat-registry-pull-secret&gt;
    ...</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more information, refer to the <a href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry documentation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="rhdh-add-devtools-container_rhdh-ocp-required-installation">Adding the Ansible Developer Tools container</h5>
<div class="paragraph">
<p>You must update the Helm chart configuration to add an extra container.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to the OpenShift UI.</p>
</li>
<li>
<p>Navigate to <span class="menuseq"><b class="menu">Helm</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">developer-hub</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Actions</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">upgrade</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Yaml view</b></span> to open the Helm chart.</p>
</li>
<li>
<p>Update the <code>extraContainers</code> section in the YAML file.</p>
<div class="paragraph">
<p>Add the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>upstream:
  backstage:
    ...
    extraContainers:
      - command:
          - adt
          - server
        image: &gt;-
          registry.redhat.io/ansible-automation-platform-25/ansible-dev-tools-rhel8:latest
        imagePullPolicy: IfNotPresent
        name: ansible-devtools-server
        ports:
          - containerPort: 8000
    ...</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The image pull policy is <code>imagePullPolicy: IfNotPresent</code>.
The image is pulled only if it does not already exist on the node.
Update it to <code>imagePullPolicy: Always</code> if you always want to use the latest image.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click <b class="button">Upgrade</b>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To verify that the container is running, check the container log:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/rhdh-check-devtools-container.png" alt="View container log">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-add-custom-configmap_rhdh-ocp-required-installation">2.5.3. Adding a custom ConfigMap</h4>
<div class="paragraph">
<p>Create a Red Hat Developer Hub ConfigMap following the procedure in
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/administration_guide_for_red_hat_developer_hub/assembly-add-custom-app-file-openshift_admin-rhdh">Adding a custom application configuration file to Red Hat OpenShift Container Platform</a>
in the <em>Administration guide for Red Hat Developer Hub</em>.
The examples below use a custom ConfigMap named <code>app-config-rhdh</code></p>
</div>
<div class="paragraph">
<p>To edit your custom ConfigMap, log in to the OpenShift UI and navigate to <span class="menuseq"><b class="menu">Select Project ( developerHubProj )</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">ConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">{developer-hub}-app-config</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">EditConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">app-config-rhdh</b></span>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-configure-devtools-server_rhdh-ocp-required-installation">2.5.4. Configuring the Ansible Dev Tools Server</h4>
<div class="paragraph">
<p>The <code>creatorService</code> URL is required for the Ansible plug-ins to provision new projects using the provided software templates.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, <code>app-config-rhdh</code>, that you created in
<a href="#rhdh-add-custom-configmap_rhdh-ocp-required-installation">Adding a custom ConfigMap</a>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
apiVersion: v1
metadata:
  name: app-config-rhdh
...
data:
  app-config-rhdh.yaml: |-
    ansible:
      creatorService:
        baseUrl: 127.0.0.1
        port: '8000'
...</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-configure-aap-details_rhdh-ocp-required-installation">2.5.5. Configuring Ansible Automation Platform details</h4>
<div class="paragraph">
<p>The Ansible plug-ins query your Ansible Automation Platform subscription status with the controller API using a token.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Ansible plug-ins continue to function regardless of the Ansible Automation Platform subscription status.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a Personal Access Token (PAT) with “Read” scope in automation controller, following the
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.5/html/access_management_and_authentication/gw-token-based-authentication#assembly-controller-applications">Applications</a>
section of <em>Access management and authentication</em>.</p>
</li>
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add your Ansible Automation Platform details to <code>app-config-rhdh.yaml</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the <code>baseURL</code> key with your automation controller URL.</p>
</li>
<li>
<p>Set the <code>token</code> key with the generated token value that you created in Step 1.</p>
</li>
<li>
<p>Set the <code>checkSSL</code> key to <code>true</code> or <code>false</code>.</p>
<div class="paragraph">
<p>If <code>checkSSL</code> is set to <code>true</code>, the Ansible plug-ins verify whether the SSL certificate is valid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    ...
    ansible:
    ...
      rhaap:
        baseUrl: '&lt;https://MyControllerUrl&gt;'
        token: '&lt;AAP Personal Access Token&gt;'
        checkSSL: true</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You are responsible for protecting your Red Hat Developer Hub installation from external and unauthorized access.
Manage the backend authentication key like any other secret.
Meet strong password requirements, do not expose it in any configuration files, and only inject it into configuration files as an environment variable.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-add-plugin-software-templates_rhdh-ocp-required-installation">2.5.6. Adding Ansible plug-ins software templates</h4>
<div class="paragraph">
<p>Red Hat Ansible provides software templates for Red Hat Developer Hub to provision new playbooks and collection projects based on Ansible best practices.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    catalog:
      ...
      locations:
        ...
        - type: url
          target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml
          rules:
            - allow: [Template]</pre>
</div>
</div>
<div class="paragraph">
<p>For more information, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/administration_guide_for_red_hat_developer_hub/assembly-admin-templates#assembly-admin-templates">Managing templates</a>
section of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-configure-rbac_rhdh-ocp-required-installation">2.5.7. Configuring Role Based Access Control</h4>
<div class="paragraph">
<p>Red Hat Developer Hub offers Role-based Access Control (RBAC) functionality.
RBAC can then be applied to the Ansible plug-ins content.</p>
</div>
<div class="paragraph">
<p>Assign the following roles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Members of the <code>admin:superUsers</code> group can select templates in the <strong>Create</strong> tab of the Ansible plug-ins to create playbook and collection projects.</p>
</li>
<li>
<p>Members of the <code>admin:users</code> group can view templates in the <strong>Create</strong> tab of the Ansible plug-ins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example adds RBAC to Red Hat Developer Hub.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    plugins:
    ...
    permission:
      enabled: true
      rbac:
        admin:
          users:
            - name: user:default/&lt;user-scm-ida&gt;
          superUsers:
            - name: user:default/&lt;user-admin-idb&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For more information about permission policies and managing RBAC, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/authorization/index"><em>Authorization</em></a>
guide for Red Hat Developer Hub.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-ocp-configure-optional_rhdh-install-ocp">2.6. Optional configuration for Ansible plug-ins</h3>
<div class="sect3 _abstract">
<h4 id="rhdh-enable-rhdh-authentication_rhdh-ocp-configure-optional_rhdh-install-ocp">2.6.1. Enabling Red Hat Developer Hub authentication</h4>
<div class="paragraph">
<p>Red Hat Developer Hub (RHDH) provides integrations for multiple Source Control Management (SCM) systems.
This is required by the plug-ins to create repositories.</p>
</div>
<div class="paragraph">
<p>Refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/administration_guide_for_red_hat_developer_hub/index#enabling-authentication">Enabling authentication in Red Hat Developer Hub</a>
chapter of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-configure-optional-integrations_rhdh-ocp-configure-optional_rhdh-install-ocp">2.6.2. Configuring Ansible plug-ins optional integrations</h4>
<div class="paragraph">
<p>The Ansible plug-ins provide integrations with Ansible Automation Platform and other optional Red Hat products.</p>
</div>
<div class="paragraph">
<p>To edit your custom ConfigMap, log in to the OpenShift UI and navigate to <span class="menuseq"><b class="menu">Select Project ( developerHubProj )</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">ConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">{developer-hub}-app-config-rhdh</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">app-config-rhdh</b></span>.</p>
</div>
<div class="sect4">
<h5 id="rhdh-configure-devspaces_rhdh-ocp-configure-optional_rhdh-install-ocp">Configuring OpenShift Dev Spaces</h5>
<div class="paragraph">
<p>When OpenShift Dev Spaces is configured for the Ansible plug-ins, users can click a link from the catalog item view in Red Hat Developer Hub and edit their provisioned Ansible Git projects using Dev Spaces.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>OpenShift Dev Spaces is a separate product and it is optional.
The plug-ins will function without it.</p>
</div>
<div class="paragraph">
<p>It is a separate Red Hat product and is not included in the Ansible Automation Platform or Red Hat Developer Hub subscription.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the OpenShift Dev Spaces link is not configured in the Ansible plug-ins, the <strong>Go to OpenShift Dev Spaces dashboard</strong> link in the <strong>4.DEVELOP</strong> section of the Ansible plug-ins landing page redirects users to the
<a href="https://www.redhat.com/en/technologies/management/ansible/development-tools">Ansible development tools home page</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A Dev Spaces installation.
Refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_openshift_dev_spaces/3.14/html-single/administration_guide/installing-devspaces">Installing Dev Spaces</a>
section of the <em>Red Hat OpenShift Dev Spaces Administration guide</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |-
    ansible:
      devSpaces:
        baseUrl: &gt;-
          https://&lt;Your OpenShift Dev Spaces URL&gt;</pre>
</div>
</div>
</li>
<li>
<p>Replace <code>&lt;Your OpenShft Dev Spaces URL&gt;</code>  with your OpenShift Dev Spaces URL.</p>
</li>
<li>
<p>In the OpenShift Developer UI, select the <code>Red Hat Developer Hub</code> pod.</p>
</li>
<li>
<p>Open <strong>Actions</strong>.</p>
</li>
<li>
<p>Click <strong>Restart rollout</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="rhdh-configure-pah-url_rhdh-ocp-configure-optional_rhdh-install-ocp">Configuring the private automation hub URL</h5>
<div class="paragraph">
<p>Private automation hub provides a centralized, on-premise repository for certified Ansible collections, execution environments and any additional, vetted content provided by your organization.</p>
</div>
<div class="paragraph">
<p>If the private automation hub URL is not configured in the Ansible plug-ins, users are redirected to the
<a href="https://console.redhat.com/ansible/automation-hub">Red Hat Hybrid Cloud Console automation hub</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The private automation hub configuration is optional but recommended.
The Ansible plug-ins will function without it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites:</div>
<ul>
<li>
<p>A private automation hub instance.</p>
<div class="paragraph">
<p>For more information on installing private automation hub, refer to the installation guides in the
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.5">Ansible Automation Platform documentation</a>.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure:</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |-
    ansible:
    ...
      automationHub:
        baseUrl: '&lt;https://MyOwnPAHUrl&gt;'
    ...</pre>
</div>
</div>
</li>
<li>
<p>Replace <code>&lt;https://MyOwnPAHUrl/&gt;</code>  with your private automation hub URL.</p>
</li>
<li>
<p>In the OpenShift Developer UI, select the <code>Red Hat Developer Hub</code> pod.</p>
</li>
<li>
<p>Open <strong>Actions</strong>.</p>
</li>
<li>
<p>Click <strong>Restart rollout</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-ocp-full-examples_rhdh-install-ocp">2.7. Full examples</h3>
<div class="sect3 _abstract">
<h4 id="rhdh-full-aap-configmap-example_rhdh-ocp-full-examples">2.7.1. Full app-config-rhdh ConfigMap example for Ansible plug-ins entries</h4>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
...
metadata:
  name: app-config-rhdh
  ...
data:
  app-config-rhdh.yaml: |-
    ansible:
      creatorService:
        baseUrl: 127.0.0.1
        port: '8000'
      rhaap:
       baseUrl: '&lt;https://MyControllerUrl&gt;'
       token: '&lt;AAP Personal Access Token&gt;'
       checkSSL: &lt;true or false&gt;
      # Optional integrations
      devSpaces:
        baseUrl: '&lt;https://MyDevSpacesURL&gt;'
      automationHub:
        baseUrl: '&lt;https://MyPrivateAutomationHubURL&gt;'

    ...
    catalog:
      locations:
        - type: url
          target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml
          rules:
            - allow: [Template]
    ...</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-full-helm-chart-ansible-plugins_rhdh-ocp-full-examples">2.7.2. Full Helm chart config example for Ansible plug-ins</h4>
<div class="listingblock">
<div class="content">
<pre>global:
  ...
  dynamic:
    ...
    plugins:
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-backstage-rhaap plugin&gt;
        package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
        pluginConfig:
          dynamicPlugins:
            frontend:
              ansible.plugin-backstage-rhaap:
                appIcons:
                  - importName: AnsibleLogo
                    name: AnsibleLogo
                dynamicRoutes:
                  - importName: AnsiblePage
                    menuItem:
                      icon: AnsibleLogo
                      text: Ansible
                    path: /ansible
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-scaffolder-backend-module-backstage-rhaap plugin&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-scaffolder-backend-module-backstage-rhaap: null
      - disabled: false
        integrity: &lt;SHA512 Integrity key for ansible-plugin-backstage-rhaap-backend plugin&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-backstage-rhaap-backend: null
...
upstream:
  backstage:
    ...
    extraAppConfig:
      - configMapRef: app-config-rhdh
        filename: app-config-rhdh.yaml
    extraContainers:
      - command:
          - adt
          - server
        image: &gt;-
          registry.redhat.io/ansible-automation-platform-25/ansible-dev-tools-rhel8:latest
        imagePullPolicy: IfNotPresent
        name: ansible-devtools-server
        ports:
          - containerPort: 8000
...</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-install-ocp-operator_aap-plugin-rhdh-installing">3. Installing the Ansible plug-ins with the Operator on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>The following procedures describe how to install Ansible plug-ins in Red Hat Developer Hub instances on Red Hat OpenShift Container Platform using the Operator.</p>
</div>
<div class="sect2">
<h3 id="rhdh-install-ocp-prereqs_rhdh-install-ocp-operator">3.1. Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>Red Hat Developer Hub installed on Red Hat OpenShift Container Platform.</p>
<div class="ulist">
<ul>
<li>
<p>For Helm installation, follow the steps in the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/installing_red_hat_developer_hub_on_openshift_container_platform/index#assembly-install-rhdh-ocp-helm">Installing Red Hat Developer Hub on OpenShift Container Platform with the Helm chart</a>
section of <em>Installing Red Hat Developer Hub on OpenShift Container Platform</em>.</p>
</li>
<li>
<p>For Operator installation, follow the steps in the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/installing_red_hat_developer_hub_on_openshift_container_platform/index#assembly-install-rhdh-ocp-operator">Installing Red Hat Developer Hub on OpenShift Container Platform with the Operator</a>
section of <em>Installing Red Hat Developer Hub on OpenShift Container Platform</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A valid subscription to Red Hat Ansible Automation Platform.</p>
</li>
<li>
<p>A user with the OpenShift Container Platform administrator role has configured the appropriate roles and permissions within your project to create an application.</p>
</li>
<li>
<p>The Red Hat Developer Hub instance can query the automation controller API.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-recommended-preconfig_rhdh-install-ocp-operator">3.2. Recommended RHDH preconfiguration</h3>
<div class="paragraph">
<p>Red Hat recommends performing the following initial configuration tasks in RHDH.
However, you can install the Ansible plug-ins for Red Hat Developer Hub before completing these tasks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/authentication/index">Setting up authentication in RHDH</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/authorization/index">Installing and configuring RBAC in RHDH</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2 _additional-resources">
<h3 id="rhdh-backup-operator-configmap_rhdh-install-ocp-operator">3.3. Backing up your RHDH Operator ConfigMap</h3>
<div class="paragraph">
<div class="title">Additional resources</div>
<p>Before you install Ansible plug-ins for Red Hat Developer Hub, create a local copy of the ConfigMap for the RHDH Operator.
You can use a section of the ConfigMap when you are populating a custom ConfigMap.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Find the namespace for your RHDH Operator.</p>
<div class="paragraph">
<p>When you installed the RHDH Operator, a namespace was created for it.
Select <strong>Topology</strong> and look for the RHDH Operator in the <strong>Project</strong> dropdown list.
The default namespace is <code>rhdh-operator</code>.</p>
</div>
</li>
<li>
<p>Run the following command to make a copy of the ConfigMap for your RHDH Operator, <code>backstage-default-config</code>.</p>
<div class="paragraph">
<p>Replace <code>&lt;rhdh-operator-namespace&gt;</code> with your RHDH Operator namespace, and <code>&lt;CopyOfRhdhOperatorConfig&gt;</code> with
the filename you want to use for your copy of the RHDH Operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ oc get configmap backstage-default-config -n &lt;rhdh-operator-namespace&gt; -o yaml &gt; &lt;CopyOfRhdhOperatorConfig&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-create-custom-configmap-operator-install_rhdh-install-ocp-operator">3.4. Creating a custom ConfigMap</h3>
<div class="paragraph">
<p>Create a ConfigMap, for instance <code>rhdh-custom-config</code>, for your project.
For more details about creating a custom ConfigMap, see the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index#proc-add-custom-app-config-file-ocp-operator_admin-rhdh">Adding a custom application configuration file to OpenShift Container Platform using the Operator</a>
in the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
<div class="paragraph">
<p>Populate the ConfigMap with YAML from the backup that you made of the RHDH Operator ConfigMap.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have saved a backup copy of the Configmap for the RHDH Operator.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In the OpenShift web console, navigate to the project you created.</p>
</li>
<li>
<p>Click <strong>ConfigMaps</strong> in the navigation pane.</p>
</li>
<li>
<p>Click <strong>Create ConfigMap</strong>.</p>
</li>
<li>
<p>Replace the default YAML code in the new ConfigMap with the following code:</p>
<div class="listingblock">
<div class="content">
<pre>apiVersion: v1
kind: ConfigMap
metadata:
  name: rhdh-custom-config
data:
  deployment.yaml: |-
    # Replace with RHDH Operator ConfigMap deployment.yaml block here</pre>
</div>
</div>
</li>
<li>
<p>Copy the <code>deployment.yaml:</code> section from your local copy of the RHDH Operator ConfigMap.</p>
</li>
<li>
<p>Paste the <code>deployment.yaml:</code> section into the <code>rhdh-custom-config</code> ConfigMap, replacing the <code>deployment.yaml:</code> line.</p>
</li>
<li>
<p>Add a sidecar container (<code>ansible-devtools-server</code>)  to the list of containers under <code>resources</code> in the <code>deployment.spec.template.spec.[containers]</code> block of the ConfigMap:</p>
<div class="listingblock">
<div class="content">
<pre>   spec:
     replicas: 1
     selector:
       matchLabels:
         rhdh.redhat.com/app:
     template:
       metadata:
         labels:
           rhdh.redhat.com/app:
       spec:\
           ...
           containers:
           - name: backstage-backend
		...
           - resources: {}  # Add sidecar container for Ansible plug-ins
             terminationMessagePath: /dev/termination-log
             name: ansible-devtools-server
             command:
               - adt
               - server
             ports:
               - containerPort: 8000
                 protocol: TCP
             imagePullPolicy: IfNotPresent
             terminationMessagePolicy: File
             image: 'ghcr.io/ansible/community-ansible-dev-tools:latest'</pre>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Create</b> to create the ConfigMap.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To view your new ConfigMap, click <strong>ConfigMaps</strong> in the navigation pane.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-operator-add-custom-configmap-cr_rhdh-install-ocp-operator">3.5. Adding the rhdh-custom-config file to the RHDH Operator Custom Resource</h3>
<div class="paragraph">
<p>Update the RHDH Operator Custom Resource to add the <code>rhdh-custom-config</code> file.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the OpenShift console, select the <strong>Topology</strong> view.</p>
</li>
<li>
<p>Click <strong>More actions &#8942;</strong> on the RHDH Operator Custom Resource and select <strong>Edit backstage</strong> to edit the Custom Resource.</p>
</li>
<li>
<p>Add a <code>rawRuntimeConfig:</code> block for your custom ConfigMap <code>spec:</code> block.
It must have the same indentation level as the <code>spec.application:</code> block.</p>
<div class="listingblock">
<div class="content">
<pre>spec:
 application:
	...
 database:
  	...
 rawRuntimeConfig:
   backstageConfig: rhdh-custom-config</pre>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
<li>
<p>The RHDH Operator redeploys the pods to reflect the updated Custom Resource.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-download-plugins_rhdh-install-ocp-operator">3.6. Downloading the Ansible plug-ins files</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the latest <code>.tar</code> file for the plug-ins from the <a href="https://access.redhat.com/downloads/content/480/ver=2.5/rhel---9/2.5/x86_64/product-software">Red Hat Ansible Automation Platform Product Software downloads page</a>.
The format of the filename is <code>ansible-backstage-rhaap-bundle-x.y.z.tar.gz</code>.
Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</li>
<li>
<p>Create a directory on your local machine to store the <code>.tar</code> files.</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir /path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Set an environment variable (<code>$DYNAMIC_PLUGIN_ROOT_DIR</code>) to represent the directory path.</p>
<div class="listingblock">
<div class="content">
<pre>$ export DYNAMIC_PLUGIN_ROOT_DIR=/path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Extract the <code>ansible-backstage-rhaap-bundle-&lt;version-number&gt;.tar.gz</code> contents to <code>$DYNAMIC_PLUGIN_ROOT_DIR</code>.</p>
<div class="listingblock">
<div class="content">
<pre>$ tar --exclude='*code*' -xzf ansible-backstage-rhaap-bundle-x.y.z.tar.gz -C $DYNAMIC_PLUGIN_ROOT_DIR</pre>
</div>
</div>
<div class="paragraph">
<p>Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Run <code>ls</code> to verify that the extracted files are in the <code>$DYNAMIC_PLUGIN_ROOT_DIR</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ls $DYNAMIC_PLUGIN_ROOT_DIR
ansible-plugin-backstage-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz.integrity
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz.integrity</pre>
</div>
</div>
<div class="paragraph">
<p>The files with the <code>.integrity</code> file type contain the plugin SHA value.
The SHA value is used during the plug-in configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-create-plugin-registry_rhdh-install-ocp-operator">3.7. Creating a registry for the Ansible plug-ins</h3>
<div class="paragraph">
<p>Set up a registry in your OpenShift cluster to host the Ansible plug-ins and make them available for installation in Red Hat Developer Hub (RHDH).</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance with credentials to create a new application.</p>
</li>
<li>
<p>Open your Red Hat Developer Hub OpenShift project.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc project &lt;YOUR_DEVELOPER_HUB_PROJECT&gt;</pre>
</div>
</div>
</li>
<li>
<p>Run the following commands to create a plug-in registry build in the OpenShift cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc new-build httpd --name=plugin-registry --binary
$ oc start-build plugin-registry --from-dir=$DYNAMIC_PLUGIN_ROOT_DIR --wait
$ oc new-app --image-stream=plugin-registry</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>To verify that the plugin-registry was deployed successfully, open the <strong>Topology</strong> view in the <strong>Developer</strong> perspective on the Red Hat Developer Hub application in the OpenShift Web console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the plug-in registry to view the log.</p>
<div class="imageblock">
<div class="content">
<img src="images/rhdh-plugin-registry.png" alt="Developer perspective">
</div>
</div>
<div class="paragraph">
<p>(1) Developer hub instance</p>
</div>
<div class="paragraph">
<p>(2) Plug-in registry</p>
</div>
</li>
<li>
<p>Click the terminal tab and login to the container.</p>
</li>
<li>
<p>In the terminal, run <code>ls</code> to confirm that the .tar files are in the plugin registry.</p>
<div class="listingblock">
<div class="content">
<pre>ansible-plugin-backstagc-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-scaffolder-backend-modulc-backstagc-rhaap-x.y.z.tgz</pre>
</div>
</div>
<div class="paragraph">
<p>The version numbers and file names can differ.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-install-dynamic-plugins-operator_rhdh-install-ocp-operator">3.8. Installing the dynamic plug-ins</h3>
<div class="paragraph">
<p>To install the dynamic plugins, add them to your ConfigMap for your RHDH plugin settings (for example, <code>rhaap-dynamic-plugins-config</code>).</p>
</div>
<div class="paragraph">
<p>If you have not already created a ConfigMap file for your RHDH plugin settings,
create one by following the procedure in
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/administration_guide_for_red_hat_developer_hub/assembly-add-custom-app-file-openshift_admin-rhdh">Adding a custom application configuration file to Red Hat OpenShift Container Platform</a> section of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
<div class="paragraph">
<p>The example ConfigMap used in the following procedure is called <code>rhaap-dynamic-plugins-config</code>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Select <strong>ConfigMaps</strong> in the navigation pane of the OpenShift console.</p>
</li>
<li>
<p>Select the <code>rhaap-dynamic-plugins-config</code> ConfigMap from the list.</p>
</li>
<li>
<p>Select the <strong>YAML</strong> tab to edit the <code>rhaap-dynamic-plugins-config</code> ConfigMap.</p>
</li>
<li>
<p>In the <code>data.dynamic-plugins.yaml.plugins</code> block, add the three dynamic plug-ins from the plug-in registry.</p>
<div class="ulist">
<ul>
<li>
<p>For the <code>integrity</code> hash values, use the <code>.integrity</code> files in your <code>$DYNAMIC_PLUGIN_ROOT_DIR</code> directory that correspond to each plug-in, for example use <code>ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity</code> for the <code>ansible-plugin-backstage-rhaap-x.y.z.tgz</code> plug-in.</p>
</li>
<li>
<p>Replace <code>x.y.z</code> with the correct version of the plug-ins.</p>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
apiVersion: v1
metadata:
 name: rhaap-dynamic-plugins-config
data:
 dynamic-plugins.yaml: |
   ...
   plugins:
     - disabled: false
       package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
       integrity: &lt;SHA512 value&gt; # Use hash in ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity
       pluginConfig:
         dynamicPlugins:
           frontend:
             ansible.plugin-backstage-rhaap:
               appIcons:
                 - importName: AnsibleLogo
                   name: AnsibleLogo
               dynamicRoutes:
                 - importName: AnsiblePage
                   menuItem:
                     icon: AnsibleLogo
                     text: Ansible
                   path: /ansible
     - disabled: false
       package: &gt;-
         http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
       integrity: &lt;SHA512 value&gt; # Use hash in ansible-plugin-backstage-rhaap-backend-x.y.z.tgz.integrity
       pluginConfig:
         dynamicPlugins:
           backend:
             ansible.plugin-backstage-rhaap-backend: null
     - disabled: false
       package: &gt;-
         http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
       integrity: &lt;SHA512 value&gt; # Use hash in ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz.integrity
       pluginConfig:
         dynamicPlugins:
           backend:
             ansible.plugin-scaffolder-backend-module-backstage-rhaap: null
     - ...&lt;REDACTED&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
<li>
<p>To view the progress of the rolling restart:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the <strong>Topology</strong> view, select the deployment pod and click <strong>View logs</strong>.</p>
</li>
<li>
<p>Select <code>install-dynamic-plugins</code> from the list of containers.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the OpenShift console, select the <strong>Topology</strong> view.</p>
</li>
<li>
<p>Click the <strong>Open URL</strong> icon on the deployment pod to open your Red Hat Developer Hub instance in a browser window.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Ansible plug-in is present in the navigation pane, and if you select <strong>Administration</strong>,
the installed plug-ins are listed in the <strong>Plugins</strong> tab.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-add-custom-configmap_rhdh-install-ocp-operator">3.9. Adding a custom ConfigMap</h3>
<div class="paragraph">
<p>Create a Red Hat Developer Hub ConfigMap following the procedure in
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html/administration_guide_for_red_hat_developer_hub/assembly-add-custom-app-file-openshift_admin-rhdh">Adding a custom application configuration file to Red Hat OpenShift Container Platform</a>
in the <em>Administration guide for Red Hat Developer Hub</em>.
The examples below use a custom ConfigMap named <code>app-config-rhdh</code></p>
</div>
<div class="paragraph">
<p>To edit your custom ConfigMap, log in to the OpenShift UI and navigate to <span class="menuseq"><b class="menu">Select Project ( developerHubProj )</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">ConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">{developer-hub}-app-config</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">EditConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">app-config-rhdh</b></span>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-configure-devtools-server_rhdh-install-ocp-operator">3.10. Configuring the Ansible Dev Tools Server</h3>
<div class="paragraph">
<p>The <code>creatorService</code> URL is required for the Ansible plug-ins to provision new projects using the provided software templates.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, <code>app-config-rhdh</code>, that you created in
<a href="#rhdh-add-custom-configmap_rhdh-ocp-required-installation">Adding a custom ConfigMap</a>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
apiVersion: v1
metadata:
  name: app-config-rhdh
...
data:
  app-config-rhdh.yaml: |-
    ansible:
      creatorService:
        baseUrl: 127.0.0.1
        port: '8000'
...</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-configure-aap-details_rhdh-install-ocp-operator">3.11. Configuring Ansible Automation Platform details</h3>
<div class="paragraph">
<p>The Ansible plug-ins query your Ansible Automation Platform subscription status with the controller API using a token.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Ansible plug-ins continue to function regardless of the Ansible Automation Platform subscription status.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a Personal Access Token (PAT) with “Read” scope in automation controller, following the
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.5/html/access_management_and_authentication/gw-token-based-authentication#assembly-controller-applications">Applications</a>
section of <em>Access management and authentication</em>.</p>
</li>
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add your Ansible Automation Platform details to <code>app-config-rhdh.yaml</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the <code>baseURL</code> key with your automation controller URL.</p>
</li>
<li>
<p>Set the <code>token</code> key with the generated token value that you created in Step 1.</p>
</li>
<li>
<p>Set the <code>checkSSL</code> key to <code>true</code> or <code>false</code>.</p>
<div class="paragraph">
<p>If <code>checkSSL</code> is set to <code>true</code>, the Ansible plug-ins verify whether the SSL certificate is valid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    ...
    ansible:
    ...
      rhaap:
        baseUrl: '&lt;https://MyControllerUrl&gt;'
        token: '&lt;AAP Personal Access Token&gt;'
        checkSSL: true</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You are responsible for protecting your Red Hat Developer Hub installation from external and unauthorized access.
Manage the backend authentication key like any other secret.
Meet strong password requirements, do not expose it in any configuration files, and only inject it into configuration files as an environment variable.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-add-plugin-software-templates_rhdh-install-ocp-operator">3.12. Adding Ansible plug-ins software templates</h3>
<div class="paragraph">
<p>Red Hat Ansible provides software templates for Red Hat Developer Hub to provision new playbooks and collection projects based on Ansible best practices.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    catalog:
      ...
      locations:
        ...
        - type: url
          target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml
          rules:
            - allow: [Template]</pre>
</div>
</div>
<div class="paragraph">
<p>For more information, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/administration_guide_for_red_hat_developer_hub/assembly-admin-templates#assembly-admin-templates">Managing templates</a>
section of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-configure-rbac_rhdh-install-ocp-operator">3.13. Configuring Role Based Access Control</h3>
<div class="paragraph">
<p>Red Hat Developer Hub offers Role-based Access Control (RBAC) functionality.
RBAC can then be applied to the Ansible plug-ins content.</p>
</div>
<div class="paragraph">
<p>Assign the following roles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Members of the <code>admin:superUsers</code> group can select templates in the <strong>Create</strong> tab of the Ansible plug-ins to create playbook and collection projects.</p>
</li>
<li>
<p>Members of the <code>admin:users</code> group can view templates in the <strong>Create</strong> tab of the Ansible plug-ins.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example adds RBAC to Red Hat Developer Hub.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    plugins:
    ...
    permission:
      enabled: true
      rbac:
        admin:
          users:
            - name: user:default/&lt;user-scm-ida&gt;
          superUsers:
            - name: user:default/&lt;user-admin-idb&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>For more information about permission policies and managing RBAC, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/authorization/index"><em>Authorization</em></a>
guide for Red Hat Developer Hub.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14. Optional configuration for Ansible plug-ins</h3>
<div class="sect3 _abstract">
<h4 id="rhdh-enable-rhdh-authentication_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14.1. Enabling Red Hat Developer Hub authentication</h4>
<div class="paragraph">
<p>Red Hat Developer Hub (RHDH) provides integrations for multiple Source Control Management (SCM) systems.
This is required by the plug-ins to create repositories.</p>
</div>
<div class="paragraph">
<p>Refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/administration_guide_for_red_hat_developer_hub/index#enabling-authentication">Enabling authentication in Red Hat Developer Hub</a>
chapter of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="rhdh-configure-optional-integrations_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">3.14.2. Configuring Ansible plug-ins optional integrations</h4>
<div class="paragraph">
<p>The Ansible plug-ins provide integrations with Ansible Automation Platform and other optional Red Hat products.</p>
</div>
<div class="paragraph">
<p>To edit your custom ConfigMap, log in to the OpenShift UI and navigate to <span class="menuseq"><b class="menu">Select Project ( developerHubProj )</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">ConfigMaps</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">{developer-hub}-app-config-rhdh</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">app-config-rhdh</b></span>.</p>
</div>
<div class="sect4">
<h5 id="rhdh-configure-devspaces_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">Configuring OpenShift Dev Spaces</h5>
<div class="paragraph">
<p>When OpenShift Dev Spaces is configured for the Ansible plug-ins, users can click a link from the catalog item view in Red Hat Developer Hub and edit their provisioned Ansible Git projects using Dev Spaces.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>OpenShift Dev Spaces is a separate product and it is optional.
The plug-ins will function without it.</p>
</div>
<div class="paragraph">
<p>It is a separate Red Hat product and is not included in the Ansible Automation Platform or Red Hat Developer Hub subscription.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the OpenShift Dev Spaces link is not configured in the Ansible plug-ins, the <strong>Go to OpenShift Dev Spaces dashboard</strong> link in the <strong>4.DEVELOP</strong> section of the Ansible plug-ins landing page redirects users to the
<a href="https://www.redhat.com/en/technologies/management/ansible/development-tools">Ansible development tools home page</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A Dev Spaces installation.
Refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_openshift_dev_spaces/3.14/html-single/administration_guide/installing-devspaces">Installing Dev Spaces</a>
section of the <em>Red Hat OpenShift Dev Spaces Administration guide</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |-
    ansible:
      devSpaces:
        baseUrl: &gt;-
          https://&lt;Your OpenShift Dev Spaces URL&gt;</pre>
</div>
</div>
</li>
<li>
<p>Replace <code>&lt;Your OpenShft Dev Spaces URL&gt;</code>  with your OpenShift Dev Spaces URL.</p>
</li>
<li>
<p>In the OpenShift Developer UI, select the <code>Red Hat Developer Hub</code> pod.</p>
</li>
<li>
<p>Open <strong>Actions</strong>.</p>
</li>
<li>
<p>Click <strong>Restart rollout</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="rhdh-configure-pah-url_rhdh-ocp-configure-optional_rhdh-install-ocp-operator">Configuring the private automation hub URL</h5>
<div class="paragraph">
<p>Private automation hub provides a centralized, on-premise repository for certified Ansible collections, execution environments and any additional, vetted content provided by your organization.</p>
</div>
<div class="paragraph">
<p>If the private automation hub URL is not configured in the Ansible plug-ins, users are redirected to the
<a href="https://console.redhat.com/ansible/automation-hub">Red Hat Hybrid Cloud Console automation hub</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The private automation hub configuration is optional but recommended.
The Ansible plug-ins will function without it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites:</div>
<ul>
<li>
<p>A private automation hub instance.</p>
<div class="paragraph">
<p>For more information on installing private automation hub, refer to the installation guides in the
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.5">Ansible Automation Platform documentation</a>.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure:</div>
<ol class="arabic">
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Add the following code to your Red Hat Developer Hub <code>app-config-rhdh.yaml</code> file.</p>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |-
    ansible:
    ...
      automationHub:
        baseUrl: '&lt;https://MyOwnPAHUrl&gt;'
    ...</pre>
</div>
</div>
</li>
<li>
<p>Replace <code>&lt;https://MyOwnPAHUrl/&gt;</code>  with your private automation hub URL.</p>
</li>
<li>
<p>In the OpenShift Developer UI, select the <code>Red Hat Developer Hub</code> pod.</p>
</li>
<li>
<p>Open <strong>Actions</strong>.</p>
</li>
<li>
<p>Click <strong>Restart rollout</strong>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-full-aap-configmap-example_rhdh-install-ocp-operator">3.15. Full app-config-rhdh ConfigMap example for Ansible plug-ins entries</h3>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
...
metadata:
  name: app-config-rhdh
  ...
data:
  app-config-rhdh.yaml: |-
    ansible:
      creatorService:
        baseUrl: 127.0.0.1
        port: '8000'
      rhaap:
       baseUrl: '&lt;https://MyControllerUrl&gt;'
       token: '&lt;AAP Personal Access Token&gt;'
       checkSSL: &lt;true or false&gt;
      # Optional integrations
      devSpaces:
        baseUrl: '&lt;https://MyDevSpacesURL&gt;'
      automationHub:
        baseUrl: '&lt;https://MyPrivateAutomationHubURL&gt;'

    ...
    catalog:
      locations:
        - type: url
          target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml
          rules:
            - allow: [Template]
    ...</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 _abstract">
<h2 id="rhdh-subscription-warnings_aap-plugin-rhdh-installing">4. Ansible plug-ins subscription warning messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Ansible plug-ins display a subscription warning banner in the user interface in the following scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#rhdh-warning-unable-connect-aap_rhdh-subscription-warnings">Unable to connect to Ansible Automation Platform</a></p>
</li>
<li>
<p><a href="#rhdh-warning-unable-authenticate-aap_rhdh-subscription-warnings">Unable to authenticate to Ansible Automation Platform</a></p>
</li>
<li>
<p><a href="#rhdh-warning-invalid-aap-config_rhdh-subscription-warnings">Invalid Ansible Automation Platform configuration</a></p>
</li>
<li>
<p><a href="#rhdh-warning-aap-ooc_rhdh-subscription-warnings">Ansible Automation Platform subscription is out of compliance</a></p>
</li>
<li>
<p><a href="#rhdh-warning-invalid-aap-subscription_rhdh-subscription-warnings">Invalid Ansible Automation Platform subscription</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="rhdh-warning-unable-connect-aap_rhdh-subscription-warnings">4.1. Unable to connect to Ansible Automation Platform</h3>
<div class="paragraph">
<p>The following warning indicates that the automation controller details are not configured, or the controller instance API is unreachable to query the subscription status.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unable to connect to Ansible Automation Platform
Verify that Ansible Automation Platform is reachable and correctly configured in the Ansible plug-ins.
To get help, please refer to the Ansible plug-ins installation guide.</pre>
</div>
</div>
<h4 id="_remediation_steps" class="discrete">Remediation steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that Ansible Automation Platform is reachable and correctly configured in the <code>rhaap</code> section of the ConfigMap.</p>
</li>
<li>
<p>Ensure the <code>checkSSL</code> key is correctly set for your environment.</p>
</li>
<li>
<p>After correcting the configuration details, restart the Red Hat Developer Hub pod to initiate a subscription query.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-warning-unable-authenticate-aap_rhdh-subscription-warnings">4.2. Unable to authenticate to Ansible Automation Platform</h3>
<div class="paragraph">
<p>The following warning indicates that the Ansible plug-ins were not able to authenticate with Ansible Automation Platform to query the subscription status.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unable to authenticate to Ansible Automation Platform
Verify that the authentication details for Ansible Automation Platform are correctly configured in the Ansible plug-ins.
For help, please refer to the Ansible plug-ins installation guide.</pre>
</div>
</div>
<h4 id="_remediation_steps_2" class="discrete">Remediation steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the automation controller Personal Access Token (PAT) configured in the Ansible plug-ins is correct.
For more information, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.5/html/access_management_and_authentication/gw-token-based-authentication#proc-controller-apps-create-tokens">Adding tokens</a>
section of <em>TitleCentralAuth</em>.</p>
</li>
<li>
<p>After correcting the authentication details, restart the Red Hat Developer Hub pod to initiate a subscription query.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-warning-invalid-aap-config_rhdh-subscription-warnings">4.3. Invalid Ansible Automation Platform configuration</h3>
<div class="paragraph">
<p>The following warning indicates that the Ansible Automation Platform configuration section is invalid or incomplete.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Invalid resource for Ansible Automation Platform
Verify that the resource url for Ansible Automation Platform are correctly configured in the Ansible plug-ins.
For help, please refer to the Ansible plug-ins installation guide.</pre>
</div>
</div>
<h4 id="_remediation_steps_3" class="discrete">Remediation steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the <code>rhaap</code> section of the Ansible plug-ins ConfigMap is correctly configured and contains all the necessary entries.
For more information, refer to <a href="#rhdh-configure-aap-details_rhdh-ocp-required-installation">Configuring Ansible Automation Platform details</a>.</p>
</li>
<li>
<p>After correcting the configuration, restart the Red Hat Developer Hub pod to initiate a subscription query.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-warning-aap-ooc_rhdh-subscription-warnings">4.4. Ansible Automation Platform subscription is out of compliance</h3>
<div class="paragraph">
<p>The following warning indicates that the Ansible plug-ins successfully retrieved the Ansible Automation Platform subscription status.
However, the subscription is out of compliance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Subscription non-compliant
The connected Ansible Automation Platform subscription is out of compliance.
Contact your Red Hat account team to obtain a new subscription entitlement.
Learn more about account compliance.</pre>
</div>
</div>
<h4 id="_remediation_steps_4" class="discrete">Remediation steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contact your Red Hat account team to obtain a new subscription entitlement.</p>
</li>
<li>
<p>Learn more about <a href="https://access.redhat.com/solutions/6988859">account compliance</a>.</p>
</li>
<li>
<p>When the subscription is in compliance, restart the Red Hat Developer Hub pod to initiate a new subscription query.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-warning-invalid-aap-subscription_rhdh-subscription-warnings">4.5. Invalid Ansible Automation Platform subscription</h3>
<div class="paragraph">
<p>The following warning indicates that the Ansible plug-ins successfully retrieved the Ansible Automation Platform subscription status.
However, the subscription type is invalid for Ansible Automation Platform.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Invalid subscription
The connected Ansible Automation Platform subscription is invalid.
Contact your Red Hat account team, or start an Ansible Automation Platform trial.</pre>
</div>
</div>
<h4 id="_remediation_steps_5" class="discrete">Remediation steps</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Contact your Red Hat account team to obtain a new subscription entitlement or <a href="http://red.ht/aap-rhdh-plugins-start-trial">start an Ansible Automation Platform trial</a>.</p>
</li>
<li>
<p>When you have updated the subscription, restart the Red Hat Developer Hub pod to initiate a new subscription query.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-upgrade-ocp-helm_aap-plugin-rhdh-installing">5. Upgrading the Ansible plug-ins on a Helm installation on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>To upgrade the Ansible plug-ins, you must update the <code>plugin-registry</code> application with the latest Ansible plug-ins files.</p>
</div>
<div class="sect2">
<h3 id="rhdh-download-plugins_rhdh-upgrade-ocp-helm">5.1. Downloading the Ansible plug-ins files</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the latest <code>.tar</code> file for the plug-ins from the <a href="https://access.redhat.com/downloads/content/480/ver=2.5/rhel---9/2.5/x86_64/product-software">Red Hat Ansible Automation Platform Product Software downloads page</a>.
The format of the filename is <code>ansible-backstage-rhaap-bundle-x.y.z.tar.gz</code>.
Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</li>
<li>
<p>Create a directory on your local machine to store the <code>.tar</code> files.</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir /path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Set an environment variable (<code>$DYNAMIC_PLUGIN_ROOT_DIR</code>) to represent the directory path.</p>
<div class="listingblock">
<div class="content">
<pre>$ export DYNAMIC_PLUGIN_ROOT_DIR=/path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Extract the <code>ansible-backstage-rhaap-bundle-&lt;version-number&gt;.tar.gz</code> contents to <code>$DYNAMIC_PLUGIN_ROOT_DIR</code>.</p>
<div class="listingblock">
<div class="content">
<pre>$ tar --exclude='*code*' -xzf ansible-backstage-rhaap-bundle-x.y.z.tar.gz -C $DYNAMIC_PLUGIN_ROOT_DIR</pre>
</div>
</div>
<div class="paragraph">
<p>Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Run <code>ls</code> to verify that the extracted files are in the <code>$DYNAMIC_PLUGIN_ROOT_DIR</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ls $DYNAMIC_PLUGIN_ROOT_DIR
ansible-plugin-backstage-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz.integrity
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz.integrity</pre>
</div>
</div>
<div class="paragraph">
<p>The files with the <code>.integrity</code> file type contain the plugin SHA value.
The SHA value is used during the plug-in configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-update-plugin-registry_rhdh-upgrade-ocp-helm">5.2. Updating the plug-in registry</h3>
<div class="paragraph">
<p>Rebuild your plug-in registry application in your OpenShift cluster with the latest Ansible plug-ins files.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance with credentials to create a new application.</p>
</li>
<li>
<p>Open your Red Hat Developer Hub OpenShift project.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc project &lt;YOUR_DEVELOPER_HUB_PROJECT&gt;</pre>
</div>
</div>
</li>
<li>
<p>Run the following commands to update your plug-in registry build in the OpenShift cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc start-build plugin-registry --from-dir=$DYNAMIC_PLUGIN_ROOT_DIR --wait</pre>
</div>
</div>
</li>
<li>
<p>When the registry has started, the output displays the following message:</p>
<div class="listingblock">
<div class="content">
<pre>Uploading directory "/path/to/dynamic_plugin_root" as binary input for the build …
Uploading finished
build.build.openshift.io/plugin-registry-1 started</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Verify that the plugin-registry has been updated.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the OpenShift UI, click <strong>Topology</strong>.</p>
</li>
<li>
<p>Click the <strong>redhat-developer-hub</strong> icon to view the pods for the plug-in registry.</p>
</li>
<li>
<p>Click <strong>View logs</strong> for the plug-in registry pod.</p>
</li>
<li>
<p>Open the <strong>Terminal</strong> tab and run <code>ls</code> to view the <code>.tar</code> files in the plug-in registry.</p>
</li>
<li>
<p>Verify that the new <code>.tar</code> file has been uploaded.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-update-plugins-helm-version-numbers_rhdh-upgrade-ocp-helm">5.3. Updating the Ansible plug-ins version numbers for a Helm installation</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance.</p>
</li>
<li>
<p>In the OpenShift Developer UI, navigate to <span class="menuseq"><b class="menu">Helm</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">developer-hub</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Actions</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Upgrade</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Yaml view</b></span>.</p>
</li>
<li>
<p>Update the Ansible plug-ins version numbers and associated <code>.integrity</code> file values.</p>
<div class="listingblock">
<div class="content">
<pre>...
global:
...
    plugins:
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
        pluginConfig:
          dynamicPlugins:
            frontend:
              ansible.plugin-backstage-rhaap:
                appIcons:
                  - importName: AnsibleLogo
                    name: AnsibleLogo
                dynamicRoutes:
                  - importName: AnsiblePage
                    menuItem:
                      icon: AnsibleLogo
                      text: Ansible
                    path: /ansible
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-scaffolder-backend-module-backstage-rhaap: null
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-backstage-rhaap-backend: null</pre>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Upgrade</b>.</p>
<div class="paragraph">
<p>The developer hub pods restart and the plug-ins are installed.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the OpenShift UI, click <strong>Topology</strong>.</p>
</li>
<li>
<p>Make sure that the Red Hat Developer Hub instance is available.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-upgrade-ocp-operator_aap-plugin-rhdh-installing">6. Upgrading the Ansible plug-ins on an Operator installation on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>To upgrade the Ansible plug-ins, you must update the <code>plugin-registry</code> application with the latest Ansible plug-ins files.</p>
</div>
<div class="sect2">
<h3 id="rhdh-download-plugins_rhdh-upgrade-ocp-operator">6.1. Downloading the Ansible plug-ins files</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the latest <code>.tar</code> file for the plug-ins from the <a href="https://access.redhat.com/downloads/content/480/ver=2.5/rhel---9/2.5/x86_64/product-software">Red Hat Ansible Automation Platform Product Software downloads page</a>.
The format of the filename is <code>ansible-backstage-rhaap-bundle-x.y.z.tar.gz</code>.
Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</li>
<li>
<p>Create a directory on your local machine to store the <code>.tar</code> files.</p>
<div class="listingblock">
<div class="content">
<pre>$ mkdir /path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Set an environment variable (<code>$DYNAMIC_PLUGIN_ROOT_DIR</code>) to represent the directory path.</p>
<div class="listingblock">
<div class="content">
<pre>$ export DYNAMIC_PLUGIN_ROOT_DIR=/path/to/&lt;ansible-backstage-plugins-local-dir-changeme&gt;</pre>
</div>
</div>
</li>
<li>
<p>Extract the <code>ansible-backstage-rhaap-bundle-&lt;version-number&gt;.tar.gz</code> contents to <code>$DYNAMIC_PLUGIN_ROOT_DIR</code>.</p>
<div class="listingblock">
<div class="content">
<pre>$ tar --exclude='*code*' -xzf ansible-backstage-rhaap-bundle-x.y.z.tar.gz -C $DYNAMIC_PLUGIN_ROOT_DIR</pre>
</div>
</div>
<div class="paragraph">
<p>Substitute the Ansible plug-ins release version, for example <code>1.0.0</code>, for <code>x.y.z</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Run <code>ls</code> to verify that the extracted files are in the <code>$DYNAMIC_PLUGIN_ROOT_DIR</code> directory:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ls $DYNAMIC_PLUGIN_ROOT_DIR
ansible-plugin-backstage-rhaap-x.y.z.tgz
ansible-plugin-backstage-rhaap-x.y.z.tgz.integrity
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
ansible-plugin-backstage-rhaap-backend-x.y.z.tgz.integrity
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz.integrity</pre>
</div>
</div>
<div class="paragraph">
<p>The files with the <code>.integrity</code> file type contain the plugin SHA value.
The SHA value is used during the plug-in configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-update-plugin-registry_rhdh-upgrade-ocp-operator">6.2. Updating the plug-in registry</h3>
<div class="paragraph">
<p>Rebuild your plug-in registry application in your OpenShift cluster with the latest Ansible plug-ins files.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance with credentials to create a new application.</p>
</li>
<li>
<p>Open your Red Hat Developer Hub OpenShift project.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc project &lt;YOUR_DEVELOPER_HUB_PROJECT&gt;</pre>
</div>
</div>
</li>
<li>
<p>Run the following commands to update your plug-in registry build in the OpenShift cluster.</p>
<div class="listingblock">
<div class="content">
<pre>$ oc start-build plugin-registry --from-dir=$DYNAMIC_PLUGIN_ROOT_DIR --wait</pre>
</div>
</div>
</li>
<li>
<p>When the registry has started, the output displays the following message:</p>
<div class="listingblock">
<div class="content">
<pre>Uploading directory "/path/to/dynamic_plugin_root" as binary input for the build …
Uploading finished
build.build.openshift.io/plugin-registry-1 started</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Verification</div>
<p>Verify that the plugin-registry has been updated.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the OpenShift UI, click <strong>Topology</strong>.</p>
</li>
<li>
<p>Click the <strong>redhat-developer-hub</strong> icon to view the pods for the plug-in registry.</p>
</li>
<li>
<p>Click <strong>View logs</strong> for the plug-in registry pod.</p>
</li>
<li>
<p>Open the <strong>Terminal</strong> tab and run <code>ls</code> to view the <code>.tar</code> files in the plug-in registry.</p>
</li>
<li>
<p>Verify that the new <code>.tar</code> file has been uploaded.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-update-plugins-operator-version-numbers_rhdh-upgrade-ocp-operator">6.3. Updating the Ansible plug-ins version numbers for an Operator installation</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to your OpenShift Container Platform instance.</p>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
<div class="paragraph">
<p>The developer hub pods restart and the plug-ins are installed.</p>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Verification</div>
<ol class="arabic">
<li>
<p>In the OpenShift UI, click <strong>Topology</strong>.</p>
</li>
<li>
<p>Make sure that the Red Hat Developer Hub instance is available.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-uninstall-ocp-helm_aap-plugin-rhdh-installing">7. Uninstalling the Ansible plug-ins from a Helm installation on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>To uninstall the Ansible plug-ins, you must remove any software templates that use the <code>ansible:content:create</code> action from Red Hat Developer Hub, and remove the plug-ins configuration from the Helm chart in OpenShift.</p>
</div>
<div class="sect2">
<h3 id="rhdh-uninstall-ocp-helm_rhdh-uninstall-ocp-helm">7.1. Uninstalling a Helm chart installation</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In Red Hat Developer Hub, remove any software templates that use the <code>ansible:content:create</code> action.</p>
</li>
<li>
<p>In the OpenShift Developer UI, navigate to <span class="menuseq"><b class="menu">Helm</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">developer-hub</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Actions</b>&#160;<b class="caret">&#8250;</b> <b class="submenu">Upgrade</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Yaml view</b></span>.</p>
</li>
<li>
<p>Remove the Ansible plug-ins configuration under the <code>plugins</code> section.</p>
<div class="listingblock">
<div class="content">
<pre>...
global:
...
    plugins:
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
        pluginConfig:
          dynamicPlugins:
            frontend:
              ansible.plugin-backstage-rhaap:
                appIcons:
                  - importName: AnsibleLogo
                    name: AnsibleLogo
                dynamicRoutes:
                  - importName: AnsiblePage
                    menuItem:
                      icon: AnsibleLogo
                      text: Ansible
                    path: /ansible
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-scaffolder-backend-module-backstage-rhaap: null
      - disabled: false
        integrity: &lt;SHA512 value&gt;
        package: &gt;-
          http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
        pluginConfig:
          dynamicPlugins:
            backend:
              ansible.plugin-backstage-rhaap-backend: null</pre>
</div>
</div>
</li>
<li>
<p>Remove the <code>extraContainers</code> section.</p>
<div class="listingblock">
<div class="content">
<pre>upstream:
  backstage: |
    ...
    extraContainers:
      - command:
          - adt
          - server
        image: &gt;-
          registry.redhat.io/ansible-automation-platform-25/ansible-dev-tools-rhel8:latest
        imagePullPolicy: IfNotPresent
        name: ansible-devtools-server
        ports:
          - containerPort: 8000
    image:
      pullPolicy: Always
      pullSecrets:
        - ...
        - rhdh-secret-registry
    ...</pre>
</div>
</div>
</li>
<li>
<p>Click <b class="button">Upgrade</b>.</p>
</li>
<li>
<p>Edit your custom Red Hat Developer Hub config map, for example <code>app-config-rhdh</code>.</p>
</li>
<li>
<p>Remove the <code>ansible</code> section.</p>
<div class="listingblock">
<div class="content">
<pre>data:
  app-config-rhdh.yaml: |
    ...
    ansible:
      analytics:
        enabled: true
      devSpaces:
        baseUrl: '&lt;https://MyOwnDevSpacesUrl/&gt;'
      creatorService:
        baseUrl: '127.0.0.1'
        port: '8000'
      rhaap:
        baseUrl: '&lt;https://MyAapSubcriptionUrl&gt;'
        token: '&lt;TopSecretAAPToken&gt;'
        checkSSL: true
      automationHub:
        baseUrl: '&lt;https://MyOwnPAHUrl/&gt;'</pre>
</div>
</div>
</li>
<li>
<p>Restart the Red Hat Developer Hub deployment.</p>
</li>
<li>
<p>Remove the <code>plugin-registry</code> OpenShift application.</p>
<div class="listingblock">
<div class="content">
<pre>oc delete all -l app=plugin-registry</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-uninstall-ocp-operatoraap-plugin-rhdh-installing">8. Uninstalling an Operator installation on OpenShift Container Platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To delete the dynamic plug-ins from your installation, you must edit the ConfigMaps
that reference Ansible.</p>
</div>
<div class="paragraph">
<p>The deployment auto reloads when the ConfigMaps are updated.
You do not need to reload the deployment manually.</p>
</div>
<div class="sect2">
<h3 id="rhdh-uninstall-ocp-operator-plugins-cm_rhdh-uninstall-ocp-operator">8.1. Removing the Ansible plug-ins from the ConfigMap</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the custom ConfigMap where you referenced the Ansible plug-ins.
For this example, the ConfigMap name is <code>rhaap-dynamic-plugins-config</code>.</p>
</li>
<li>
<p>Locate the dynamic plug-ins in the <code>plugins:</code> block.</p>
<div class="ulist">
<ul>
<li>
<p>To disable the plug-ins, update the <code>disabled</code> attribute to <code>true</code> for the three plug-ins.</p>
</li>
<li>
<p>To delete the plug-ins, delete the lines that reference the plug-ins from the <code>plugins:</code> block:</p>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
apiVersion: v1
metadata:
 name: rhaap-dynamic-plugins-config
data:
 dynamic-plugins.yaml: |
   plugins:
     - disabled: false
       package: 'http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz'
       integrity: &lt;SHA512 value&gt;
     - disabled: false
       package: &gt;-
         http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
       integrity: &lt;SHA512 value&gt;
     - disabled: false
       package: &gt;-
         http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz
       integrity: &lt;SHA512 value&gt;
     - disabled: false
       package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-rbac
     - disabled: false
       package: &gt;-
         ./dynamic-plugins/dist/janus-idp-backstage-plugin-analytics-provider-segment</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_completely_remove_plug_ins">8.2. Completely remove plug-ins</h3>
<div class="paragraph">
<p>To completely remove all the Ansible plugins remove the entire list entries that contain</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://plugin-registry:8080/ansible-plugin-backstage-rhaap-x.y.z.tgz
http://plugin-registry:8080/ansible-plugin-backstage-rhaap-backend-x.y.z.tgz
http://plugin-registry:8080/ansible-plugin-scaffolder-backend-module-backstage-rhaap-x.y.z.tgz</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rhdh-uninstall-ocp-operator-rhdh-cm_rhdh-uninstall-ocp-operator">8.3. Removing the Ansible from the ConfigMap</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the custom Red Hat Developer HubConfigMap, <code>app-config-rhdh</code>.</p>
<div class="listingblock">
<div class="content">
<pre>kind: ConfigMap
apiVersion: v1
metadata:
 name: rhdh-app-config
data:
 app-config-custom.yaml: |
   app:
     baseUrl: https://&lt;RHDH_ROUTE&gt;
   backend:
     baseUrl: https://&lt;RHDH_ROUTE&gt;
     cors:
       origin: https://&lt;RHDH_ROUTE&gt;
   catalog:
     rules:
       - allow: [Component, System, Group, Resource, Location, Template, API, User]
     locations:
       - type: url
         target: https://github.com/ansible/ansible-rhdh-templates/blob/main/all.yaml
         rules:
           - allow: [Template]
   ansible:
     devSpaces:
       baseUrl: 'https://devspaces.apps.ansible-rhdh-dev.testing.ansible.com/'
     creatorService:
       baseUrl: '127.0.0.1'
       port: '8000'
     rhaap:
       baseUrl: 'https://controller.acme.demoredhat.com'
       token: ...&lt;REDACTED&gt;
       checkSSL: false</pre>
</div>
</div>
</li>
<li>
<p>Remove the <code>locations:</code> block to delete the templates from the RHDH instance.</p>
</li>
<li>
<p>Remove the <code>ansible:</code> block to delete the Ansible-specific configuration.</p>
</li>
<li>
<p>Click <b class="button">Save</b>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_remove_sidecar_from_rhdh_custom_config">8.4. Remove sidecar from rhdh-custom-config</h3>
<div class="paragraph">
<p><code>rhdh-custom-config</code> created in Section 3.4.</p>
</div>
</div>
<div class="sect2">
<h3 id="_remove_configmaps_from_the_rhdh_operator_cr">8.5. Remove ConfigMaps from the RHDH Operator CR</h3>
<div class="paragraph">
<p><code>rhdh-custom-config</code> added to Operator CR in section 3.5</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-configure-telemetry_aap-plugin-rhdh-installing">9. Red Hat Developer Hub data telemetry capturing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Developer Hub (RHDH) sends telemetry data to Red Hat using the <code>backstage-plugin-analytics-provider-segment</code> plug-in, which is enabled by default.
This includes telemetry data from the Ansible plug-ins.</p>
</div>
<div class="paragraph">
<p>Red Hat collects and analyzes the following data to improve your experience with Red Hat Developer Hub:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Events of page visits and clicks on links or buttons.</p>
</li>
<li>
<p>System-related information, for example, locale, timezone, user agent including browser and OS details.</p>
</li>
<li>
<p>Page-related information, for example, title, category, extension name, URL, path, referrer, and search parameters.</p>
</li>
<li>
<p>Anonymized IP addresses, recorded as 0.0.0.0.</p>
</li>
<li>
<p>Anonymized username hashes, which are unique identifiers used solely to identify the number of unique users of the RHDH application.</p>
</li>
<li>
<p>Feedback and sentiment provided in the Ansible plug-ins feedback form.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With Red Hat Developer Hub, you can disable or customize the telemetry data collection feature.
For more information, refer to the
<a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/administration_guide_for_red_hat_developer_hub/index#assembly-rhdh-telemetry">Telemetry data collection</a>
section of the <em>Administration guide for Red Hat Developer Hub</em>.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-03 09:49:40 +0100
</div>
</div>
</body>
</html>