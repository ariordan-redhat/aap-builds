<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>Red Hat Ansible Automation Platform Planning Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left Role ARG Spec">
<div id="header">
<h1>Red Hat Ansible Automation Platform Planning Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#making-open-source-more-inclusive">Making open source more inclusive</a></li>
<li><a href="#providing-direct-documentation-feedback">Providing feedback on Red Hat documentation</a></li>
<li><a href="#planning-installation">1. Planning your Red Hat Ansible Automation Platform installation</a></li>
<li><a href="#aap_architecture">2. Red Hat Ansible Automation Platform Architecture</a>
<ul class="sectlevel2">
<li><a href="#aap_example_architecture_planning">2.1. Example Ansible Automation Platform architecture</a></li>
</ul>
</li>
<li><a href="#ref-aap-components">3. Red Hat Ansible Automation Platform platform components</a>
<ul class="sectlevel2">
<li><a href="#con-about-automation-hub_planning">3.1. Ansible automation hub</a></li>
<li><a href="#con-about-pa-hub_planning">3.2. Private automation hub</a></li>
<li><a href="#about-event-driven-ansible-controller_planning">3.3. Event-Driven Ansible controller</a></li>
<li><a href="#con-overview-automation-mesh_planning">3.4. Automation mesh</a></li>
<li><a href="#con-about-execution-env_planning">3.5. Automation execution environments</a></li>
<li><a href="#con-about-galaxy_planning">3.6. Ansible Galaxy</a></li>
<li><a href="#con-about-navigator_planning">3.7. Automation content navigator</a></li>
</ul>
</li>
<li><a href="#platform-system-requirements">4. System requirements</a>
<ul class="sectlevel2">
<li><a href="#_red_hat_ansible_automation_platform_system_requirements">4.1. Red Hat Ansible Automation Platform system requirements</a></li>
<li><a href="#ref-controller-system-requirements">4.2. Automation controller system requirements</a></li>
<li><a href="#ref-automation-hub-requirements">4.3. Automation hub system requirements</a></li>
<li><a href="#ref-postgresql-requirements">4.4. PostgreSQL requirements</a>
<ul class="sectlevel3">
<li><a href="#proc-enable-hstore-extension">4.4.1. Enabling the hstore extension for the automation hub PostgreSQL database</a></li>
<li><a href="#benchmark-postgresql">4.4.2. Benchmarking storage performance for the Ansible Automation Platform PostgreSQL database</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ref-network-ports-protocols_planning">5. Network ports and protocols</a></li>
<li><a href="#proc-attaching-subscriptions_planning">6. Attaching your Red Hat Ansible Automation Platform subscription</a></li>
<li><a href="#_choosing_and_obtaining_a_red_hat_ansible_automation_platform_installer">7. Choosing and obtaining a Red Hat Ansible Automation Platform installer</a>
<ul class="sectlevel2">
<li><a href="#proc-installing-with-internet_planning">7.1. Installing with internet access</a></li>
<li><a href="#proc-installing-without-internet_planning">7.2. Installing without internet access</a></li>
</ul>
</li>
<li><a href="#_about_the_installer_inventory_file">8. About the installer inventory file</a>
<ul class="sectlevel2">
<li><a href="#ref-guidelines-hosts-groups">8.1. Guidelines for hosts and groups</a></li>
<li><a href="#ref-deprovisioning">8.2. Deprovisioning nodes or groups</a></li>
<li><a href="#con-inventory-variables-intro_planning">8.3. Inventory variables</a></li>
<li><a href="#con-declaring_variables">8.4. Rules for declaring variables in inventory files</a></li>
<li><a href="#proc-securing_secrets_in_inventory_planning">8.5. Securing secrets in the inventory file</a></li>
<li><a href="#con-editing_inventory_files">8.6. Additional inventory file variables</a></li>
</ul>
</li>
<li><a href="#supported-installation-scenarios_planning">9. Supported installation scenarios</a>
<ul class="sectlevel2">
<li><a href="#_standalone_automation_controller_with_a_database_on_the_same_node_or_a_non_installer_managed_database">9.1. Standalone automation controller with a database on the same node, or a non-installer managed database</a></li>
<li><a href="#con-SM-standalone-contr-ext-database_planning">9.2. Standalone automation controller with an external managed database</a></li>
<li><a href="#single-eda-controller-with-internal-database">9.3. Single Event-Driven Ansible controller node with internal database</a></li>
<li><a href="#con-SM-standalone-hub-non-inst-database_planning">9.4. Standalone automation hub with a database on the same node, or a non-installer managed database</a></li>
<li><a href="#con-SM-standalone-hub-external-database_planning">9.5. Standalone automation hub with an external managed database</a></li>
<li><a href="#con-platform-non-inst-database_planning">9.6. Platform installation with a database on the automation controller node, or non-installer managed database</a></li>
<li><a href="#con-platform-ext-database_planning">9.7. Platform installation with an external managed database</a></li>
<li><a href="#con-cluster-platform-ext-database_planning">9.8. Multi-machine cluster installation with an external managed database</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Thank you for your interest in Red Hat Ansible Automation Platform. Ansible Automation Platform is a commercial offering that helps teams manage complex multi-tier deployments by adding control, knowledge, and delegation to Ansible-powered environments.</p>
</div>
<div class="paragraph">
<p>Use the information in this guide to plan your Red Hat Ansible Automation Platform installation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="making-open-source-more-inclusive">Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties.
We are beginning with these four terms: master, slave, blacklist, and whitelist.
Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases.
For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="providing-direct-documentation-feedback">Providing feedback on Red Hat documentation</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>We appreciate your feedback on our technical content and encourage you to tell us what you think.
If you&#8217;d like to add comments, provide insights, correct a typo, or even ask a question, you can do so directly in the documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You must have a Red Hat account and be logged in to the customer portal.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To submit documentation feedback from the customer portal, do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select the <strong>Multi-page HTML</strong> format.</p>
</li>
<li>
<p>Click the <strong>Feedback</strong> button at the top-right of the document.</p>
</li>
<li>
<p>Highlight the section of text where you want to provide feedback.</p>
</li>
<li>
<p>Click the <strong>Add Feedback</strong> dialog next to your highlighted text.</p>
</li>
<li>
<p>Enter your feedback in the text box on the right of the page and then click <strong>Submit</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>We automatically create a tracking issue each time you submit feedback.
Open the link that is displayed after you click <strong>Submit</strong> and start watching the issue or add more comments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="planning-installation">1. Planning your Red Hat Ansible Automation Platform installation</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Red Hat Ansible Automation Platform is supported on both Red Hat Enterprise Linux and Red Hat Openshift. Use this guide to plan your Red Hat Ansible Automation Platform installation on Red Hat Enterprise Linux.</p>
</div>
<div class="paragraph">
<p>To install Red Hat Ansible Automation Platform on your Red Hat OpenShift Container Platform environment, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/deploying_the_red_hat_ansible_automation_platform_operator_on_openshift_container_platform/index">Deploying the Red Hat Ansible Automation Platform operator on OpenShift Container Platform</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aap_architecture">2. Red Hat Ansible Automation Platform Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As a modular platform, Ansible Automation Platform provides the flexibility to easily integrate components and customize your deployment to best meet your automation requirements. This section provides a comprehensive architectural example of an Ansible Automation Platform deployment.</p>
</div>
<div class="sect2">
<h3 id="aap_example_architecture_planning">2.1. Example Ansible Automation Platform architecture</h3>
<div class="paragraph">
<p>The Red Hat Ansible Automation Platform 2.4 reference architecture provides an example setup of a standard deployment of Ansible Automation Platform using automation mesh on Red Hat Enterprise Linux. The deployment shown takes advantage of the following key components to provide a simple, secure and flexible method of handling your automation workloads, a central location for content collections, and automated resolution of IT requests.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Automation controller</dt>
<dd>
<p>Provides the control plane for automation through its UI, Restful API, RBAC workflows and CI/CD integrations.</p>
</dd>
<dt class="hdlist1">Automation mesh</dt>
<dd>
<p>Is an overlay network that provides the ability to ease the distribution of work across a large and dispersed collection of workers through nodes that establish peer-to-peer connections with each other using existing networks.</p>
</dd>
<dt class="hdlist1">Private automation hub</dt>
<dd>
<p>Provides automation developers the ability to collaborate and publish their own automation content and streamline delivery of Ansible code within their organization.</p>
</dd>
<dt class="hdlist1">Event-Driven Ansible (EDA)</dt>
<dd>
<p>Provides the event-handling capability needed to automate time-consuming tasks and respond to changing conditions in any IT domain.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The architecture for this example consists of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A two node automation controller cluster</p>
</li>
<li>
<p>An optional hop node to connect automation controller to execution nodes</p>
</li>
<li>
<p>A two node automation hub cluster</p>
</li>
<li>
<p>A single node EDA controller cluster</p>
</li>
<li>
<p>A single PostgreSQL database connected to the automation controller, automation hub, and EDA controller clusters</p>
</li>
<li>
<p>Two execution nodes per automation controller cluster</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/aap_ref_arch_2.4.png" alt="Reference architecture for an example setup of a standard Ansible Automation Platform deployment">
</div>
<div class="title">Figure 1. Example Ansible Automation Platform 2.4 architecture</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref-aap-components">3. Red Hat Ansible Automation Platform platform components</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Ansible Automation Platform is a modular platform composed of separate components that can be connected together to meet your deployment needs. Ansible Automation Platform deployments start with automation controller which is the enterprise framework for controlling, securing, and managing Ansible automation with a user interface (UI) and RESTful application programming interface (API). Then, you can add to your deployment any combination of the following automation platform components:</p>
</div>
<div class="sect2">
<h3 id="con-about-automation-hub_planning">3.1. Ansible automation hub</h3>
<div class="paragraph _abstract">
<p>Ansible automation hub is a repository for certified content of Ansible Content Collections.
It is the centralized repository for Red Hat and its partners to publish content, and for customers to discover certified, supported Ansible Content Collections.
Red Hat Ansible Certified Content provides users with content that has been tested and is supported by Red Hat.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-about-pa-hub_planning">3.2. Private automation hub</h3>
<div class="paragraph _abstract">
<p>Private automation hub provides both disconnected and on premise solution for synchronizing content.
You can synchronize collections and execution environment images from Red Hat cloud automation hub, storing and serving your own custom automation collections and execution images.
You can also use other sources such as Ansible Galaxy or other container registries to provide content to your private automation hub.
Private automation hub can integrate into your enterprise directory and your CI/CD pipelines.</p>
</div>
</div>
<div class="sect2">
<h3 id="about-event-driven-ansible-controller_planning">3.3. Event-Driven Ansible controller</h3>
<div class="paragraph _abstract">
<p>The Event-Driven Ansible controller is the interface for event-driven automation and introduces automated resolution of IT requests. This component helps you connect to sources of events and act on those events using rulebooks. This technology improves IT speed and agility, and enables consistency and resilience. With Event-Driven Ansible, you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Automate decision making</p>
</li>
<li>
<p>Leverage numerous event sources</p>
</li>
<li>
<p>Implement event-driven automation within and across multiple IT use cases</p>
</li>
</ul>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/getting_started_with_event-driven_ansible_guide/index">Getting Started with Event-Driven Ansible Guide</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="con-overview-automation-mesh_planning">3.4. Automation mesh</h3>
<div class="paragraph _abstract">
<p>Automation mesh is an overlay network intended to ease the distribution of work across a large and dispersed collection of workers through nodes that establish peer-to-peer connections with each other using existing networks.</p>
</div>
<div class="paragraph">
<p>Automation mesh provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dynamic cluster capacity that scales independently, allowing you to create, register, group, ungroup and deregister nodes with minimal downtime.</p>
</li>
<li>
<p>Control and execution plane separation that enables you to scale playbook execution capacity independently from control plane capacity.</p>
</li>
<li>
<p>Deployment choices that are resilient to latency, reconfigurable without outage, and that dynamically re-reroute to choose a different path when outages exist.</p>
</li>
<li>
<p>Mesh routing changes.</p>
</li>
<li>
<p>Connectivity that includes bi-directional, multi-hopped mesh communication possibilities which are Federal Information Processing Standards (FIPS) compliant.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="con-about-execution-env_planning">3.5. Automation execution environments</h3>
<div class="paragraph _abstract">
<p>Automation execution environments are container images on which all automation in Red Hat Ansible Automation Platform is run. They provide a solution that includes the Ansible execution engine and hundreds of modules that help users automate all aspects of IT environments and processes.
Automation execution environments automate commonly used operating systems, infrastructure platforms, network devices, and clouds.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-about-galaxy_planning">3.6. Ansible Galaxy</h3>
<div class="paragraph _abstract">
<p>Ansible Galaxy is a hub for finding, reusing, and sharing Ansible content.
Community-provided Galaxy content, in the form of prepackaged roles, can help start automation projects. Roles for provisioning infrastructure, deploying applications, and completing other tasks can be dropped into Ansible Playbooks and be applied immediately to customer environments.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-about-navigator_planning">3.7. Automation content navigator</h3>
<div class="paragraph _abstract">
<p>Automation content navigator is a <em>textual user interface</em> (TUI) that becomes the primary command line interface into the automation platform, covering use cases from content building, running automation locally in an execution environment, running automation in Ansible Automation Platform, and providing the foundation for future <em>integrated development environments</em> (IDEs).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="platform-system-requirements">4. System requirements</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Use this information when planning your Red Hat Ansible Automation Platform installations and designing automation mesh topologies that fit your use case.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must be able to obtain root access either through the <code>sudo</code> command, or through privilege escalation. For more on privilege escalation see <a href="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_privilege_escalation.html">Understanding Privilege Escalation</a>.</p>
</li>
<li>
<p>You must be able to de-escalate privileges from root to users such as: AWX, PostgreSQL, EDA, or Pulp.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_red_hat_ansible_automation_platform_system_requirements">4.1. Red Hat Ansible Automation Platform system requirements</h3>
<div class="paragraph">
<p>Your system must meet the following minimum system requirements to install and run Red Hat Ansible Automation Platform.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Base system</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Subscription</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Valid Red Hat Ansible Automation Platform</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">OS</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Red Hat Enterprise Linux 8.6 or later 64-bit (x86, ppc64le, s390x, aarch64)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Red Hat Ansible Automation Platform is also supported on OpenShift, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/deploying_the_red_hat_ansible_automation_platform_operator_on_openshift_container_platform/index">Deploying the Red Hat Ansible Automation Platform operator on OpenShift Container Platform</a> for more information.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Ansible</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>version 2.14 (to install)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ansible Automation Platform ships with execution environments that contain ansible-core 2.15.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Python</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>3.8 or later</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Browser</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A currently supported version of Mozilla FireFox or Google Chrome</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Database</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>PostgreSQL version 13</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following are necessary for you to work with project updates and collections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that the following domain names are part of either the firewall or the proxy&#8217;s allowlist for successful connection and download of collections from automation hub or Galaxy server:</p>
<div class="ulist">
<ul>
<li>
<p><code>galaxy.ansible.com</code></p>
</li>
<li>
<p><code>cloud.redhat.com</code></p>
</li>
<li>
<p><code>console.redhat.com</code></p>
</li>
<li>
<p><code>sso.redhat.com</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>SSL inspection must be disabled either when using self signed certificates or for the Red Hat domains.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The requirements for systems managed by Ansible Automation Platform are the same as for Ansible.
See <a href="https://docs.ansible.com/ansible/latest/getting_started/index.html">Getting started with Ansible</a> in the Ansible <em>User Guide</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Additional notes for Red Hat Ansible Automation Platform requirements</div>
<ul>
<li>
<p>Although Red Hat Ansible Automation Platform depends on Ansible Playbooks and requires the installation of the latest stable version of Ansible before installing automation controller, manual installations of Ansible are no longer required.</p>
</li>
<li>
<p>For new installations, automation controller installs the latest release package of Ansible 2.14.</p>
</li>
<li>
<p>If performing a bundled Ansible Automation Platform installation, the installation program attempts to install Ansible (and its dependencies) from the bundle for you.</p>
</li>
<li>
<p>If you choose to install Ansible on your own, the Ansible Automation Platform installation program detects that Ansible has been installed and does not attempt to reinstall it.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You must install Ansible using a package manager such as <code>dnf</code>, and the latest stable version of the package manager must be installed for Red Hat Ansible Automation Platform to work properly.
Ansible version 2.14 is required for versions 2.4 and later.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ref-controller-system-requirements">4.2. Automation controller system requirements</h3>
<div class="paragraph">
<p>Automation controller is a distributed system, where different software components can be co-located or deployed across multiple compute nodes.
In the installer, node types of control, hybrid, execution, and hop are provided as abstractions to help you design the topology appropriate for your use case.</p>
</div>
<div class="paragraph">
<p>Use the following recommendations for node sizing:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>On all nodes except hop nodes, allocate a minimum of 20 GB to <code>/var/lib/awx</code> for execution environment storage.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Execution nodes</div>
<p>Runs automation. Increases memory and CPU to increase capacity for running more forks</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>RAM</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>16 GB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>CPUs</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Local disk</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>40GB minimum with at least 20GB available under /var/lib/awx</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Control nodes</div>
<p>Processes events and runs cluster jobs including project updates and cleanup jobs.
Increasing CPU and memory can help with job event processing.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>RAM</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>16 GB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>CPUs</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Local disk</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>40GB minimum with at least 20GB available under /var/lib/awx</p>
</li>
<li>
<p>Storage volume must be rated for a minimum baseline of 1500 IOPS</p>
</li>
<li>
<p>Projects are stored on control and hybrid nodes, and for the duration of jobs, are also stored on execution nodes. If the cluster has many large projects, consider doubling the GB in /var/lib/awx/projects, to avoid disk space errors</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Hybrid nodes</div>
<p>Runs both automation and cluster jobs.
Comments on CPU and memory for execution and control nodes also apply to this node type.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>RAM</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>16 GB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>CPUs</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Local disk</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>40GB minimum with at least 20GB available under /var/lib/awx</p>
</li>
<li>
<p>Storage volume must be rated for a minimum baseline of 1500 IOPS</p>
</li>
<li>
<p>Projects are stored on control and hybrid nodes, and for the duration of jobs, are also stored on execution nodes. If the cluster has many large projects, consider doubling the GB in /var/lib/awx/projects, to avoid disk space errors</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Hop nodes</div>
<p>Serves to route traffic from one part of the Automation Mesh to another (for example, could be a bastion host into another network).
RAM could affect throughput, CPU activity is low.
Network bandwidth and latency are generally a more important factor than either RAM or CPU.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>RAM</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>16 GB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>CPUs</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Local disk</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>40GB</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Actual RAM requirements vary based on how many hosts automation controller will manage simultaneously (which is controlled by the <code>forks</code> parameter in the job template or the system <code>ansible.cfg</code> file).
To avoid possible resource conflicts, Ansible recommends 1 GB of memory per 10 forks + 2 GB reservation for automation controller, see <a href="https://docs.ansible.com/automation-controller/latest/html/userguide/jobs.html#at-capacity-determination-and-job-impact">Automation controller Capacity Determination and Job Impact</a> for further details. If <code>forks</code> is set to 400, 42 GB of memory is recommended.</p>
</li>
<li>
<p>A larger number of hosts can of course be addressed, though if the fork number is less than the total host count, more passes across the hosts are required.
These RAM limitations are avoided when using rolling updates or when using the provisioning callback system built into automation controller, where each system requesting configuration enters a queue and is processed as quickly as possible; or in cases where automation controller is producing or deploying images such as AMIs.
All of these are great approaches to managing larger environments. For further questions, please contact Ansible support through the Red Hat Customer portal at <a href="https://access.redhat.com/" class="bare">https://access.redhat.com/</a>.</p>
</li>
</ul>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.ansible.com/automation-controller/latest/html/userguide/import_license.html?extIdCarryOver=true&amp;sc_cid=7013a00000388B5AAI">Import a subscription</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ref-automation-hub-requirements">4.3. Automation hub system requirements</h3>
<div class="paragraph">
<p>Automation hub enables you to discover and use new certified automation content from Red Hat Ansible and Certified Partners.
On Ansible automation hub, you can discover and manage Ansible Collections, which are supported automation content developed by Red Hat and its partners for use cases such as cloud automation, network automation, and security automation.</p>
</div>
<div class="paragraph">
<p>Automation hub has the following system requirements:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Requirement</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>RAM</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8 GB minimum</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>8 GB RAM (minimum and recommended for Vagrant trial installations)</p>
</li>
<li>
<p>8 GB RAM (minimum for external standalone PostgreSQL databases)</p>
</li>
<li>
<p>For capacity based on forks in your configuration, see additional resources</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>CPUs</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>2 minimum</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For capacity based on forks in your configuration, see additional resources.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Local disk</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>60 GB disk</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A minimum of 40GB should be  dedicated to /var for collection storage.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Private automation hub</p>
</div>
<div class="paragraph">
<p>If you install private automation hub from an internal address, and have a certificate which only encompasses the external address, this can result in an installation which cannot be used as container registry without certificate issues.</p>
</div>
<div class="paragraph">
<p>To avoid this, use the <code>automationhub_main_url</code> inventory variable with a value like https://pah.example.com linking to the private automation hub node in the installation inventory file.</p>
</div>
<div class="paragraph">
<p>This adds the external address to <code>/etc/pulp/settings.py</code>.</p>
</div>
<div class="paragraph">
<p>This implies that you only want to use the external address.</p>
</div>
<div class="paragraph">
<p>For information on inventory file variables, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/red_hat_ansible_automation_platform_installation_guide/appendix-inventory-files-vars">Inventory File Variables</a> in the <em>Red Hat Ansible Automation Platform Installation Guide</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="ref-postgresql-requirements">4.4. PostgreSQL requirements</h3>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform uses PostgreSQL 13.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PostgreSQL user passwords are hashed with SCRAM-SHA-256 secure hashing algorithm before storing in the database.</p>
</li>
<li>
<p>To determine if your automation controller instance has access to the database, you can do so with the command, <code>awx-manage check_db</code>.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Database</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Each automation controller</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>40 GB dedicated hard disk space</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>dedicate a minimum of 20 GB to <code>/var/</code> for file and working directory storage</p>
</li>
<li>
<p>Storage volume must be rated for a minimum baseline of 1500 IOPS.</p>
</li>
<li>
<p>Projects are stored on control and hybrid nodes, and for the duration of jobs, are also stored on execution nodes. If the cluster has many large projects, consider having twice the GB in /var/lib/awx/projects, to avoid disk space errors.</p>
</li>
<li>
<p>150 GB+ recommended</p>
</li>
<li>
<p>Storage volume must be rated for a high baseline IOPS (1500 or more).</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Each automation hub</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>60 GB dedicated hard disk space</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Storage volume must be rated for a minimum baseline of 1500 IOPS.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong>Database</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>20 GB dedicated hard disk space</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>150 GB+ recommended</p>
</li>
<li>
<p>Storage volume must be rated for a high baseline IOPS (1500 or more).</p>
</li>
<li>
<p>All automation controller data is stored in the database.
Database storage increases with the number of hosts managed, number of jobs run, number of facts stored in the fact cache, and number of tasks in any individual job.
For example, a playbook run every hour (24 times a day) across 250 hosts, with 20 tasks, will store over 800000 events in the database every week.</p>
</li>
<li>
<p>If not enough space is reserved in the database, old job runs and facts must be cleaned on a regular basis.
Refer to <a href="https://docs.ansible.com/ansible-tower/3.8.3/html/administration/management_jobs.html#ag-management-jobs">Management Jobs</a> in the <em>Automation Controller Administration Guide</em> for more information</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">PostgreSQL Configurations</div>
<p>Optionally, you can configure the PostgreSQL database as separate nodes that are not managed by the Red Hat Ansible Automation Platform installer.
When the Ansible Automation Platform installer manages the database server, it configures the server with defaults that are generally recommended for most workloads.
However, you can adjust these PostgreSQL settings for standalone database server node where <code>ansible_memtotal_mb</code> is the total memory size of the database server:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>max_connections == 1024
shared_buffers == ansible_memtotal_mb*0.3
work_mem == ansible_memtotal_mb*0.03
maintenance_work_mem == ansible_memtotal_mb*0.04</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Additional resources</div>
<p>For more detail on tuning your PostgreSQL server, see the <a href="https://wiki.postgresql.org/wiki/Main_Page">PostgreSQL documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="proc-enable-hstore-extension">4.4.1. Enabling the hstore extension for the automation hub PostgreSQL database</h4>
<div class="paragraph">
<p>From Ansible Automation Platform 2.4, the database migration script uses <code>hstore</code> fields to store information, therefore the <code>hstore</code> extension to the automation hub PostgreSQL database must be enabled.</p>
</div>
<div class="paragraph">
<p>This process is automatic when using the Ansible Automation Platform installer and a managed PostgreSQL server.</p>
</div>
<div class="paragraph">
<p>However, when the PostgreSQL database is external, you must carry out this step manually before automation hub installation.</p>
</div>
<div class="paragraph">
<p>If the <code>hstore</code> extension is not enabled before automation hub installation, a failure is raised during database migration.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Check if the extension is available on the PostgreSQL server (automation hub database).</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ psql -d &lt;automation hub database&gt; -c "SELECT * FROM pg_available_extensions WHERE name='hstore'"</pre>
</div>
</div>
<div class="paragraph">
<p>Where the default value for <code>&lt;automation hub database&gt;</code> is <code>automationhub</code>.</p>
</div>
<div class="paragraph">
<p>This gives an output similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">name  | default_version | installed_version |comment
------+-----------------+-------------------+---------------------------------------------------
 hstore | 1.7           |                   | data type for storing sets of (key, value) pairs
(1 row)</pre>
</div>
</div>
</li>
<li>
<p>This indicates that the <code>hstore</code> 1.7 extension is available, but not enabled.</p>
<div class="paragraph">
<p>If the <code>hstore</code> extension is not available on the PostgreSQL server, the result is similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap"> name | default_version | installed_version | comment
------+-----------------+-------------------+---------
(0 rows)</pre>
</div>
</div>
</li>
<li>
<p>On a RHEL based server, the <code>hstore</code> extension is included in the <code>postgresql-contrib</code> RPM package, which is not installed automatically when installing the PostgreSQL server RPM package.</p>
<div class="paragraph">
<p>To install the RPM package, use the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">dnf install postgresql-contrib</pre>
</div>
</div>
</li>
<li>
<p>Create the <code>hstore</code> PostgreSQL extension on the automation hub database with the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ psql -d &lt;automation hub database&gt; -c "CREATE EXTENSION hstore"</pre>
</div>
</div>
<div class="paragraph">
<p>The output of which is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">CREATE EXTENSION</pre>
</div>
</div>
</li>
<li>
<p>In the following output, the <code>installed_version</code> field contains the <code>hstore</code> extension used, indicating that <code>hstore</code> is enabled.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">name | default_version | installed_version | comment
-----+-----------------+-------------------+------------------------------------------------------
hstore  |     1.7      |       1.7         | data type for storing sets of (key, value) pairs
(1 row)</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="benchmark-postgresql">4.4.2. Benchmarking storage performance for the Ansible Automation Platform PostgreSQL database</h4>
<div class="paragraph">
<p>The following procedure describes how to benchmark the write/read IOPS performance of the storage system to check whether the minimum Ansible Automation Platform PostgreSQL database requirements are met.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the Flexible I/O Tester (fio) storage performance benchmarking tool.</p>
<div class="paragraph">
<p>To install fio, run the following command as the root user:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap"># yum -y install fio</pre>
</div>
</div>
</li>
<li>
<p>You have adequate disk space to store the fio test data log files.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run a random write test:</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ fio --name=write_iops --directory=/tmp --numjobs=3 --size=10G \
--time_based --runtime=60s --ramp_time=2s --ioengine=libaio --direct=1 \
--verify=0 --bs=4K --iodepth=64 --rw=randwrite \
--group_reporting=1 &gt; /tmp/fio_benchmark_write_iops.log \
2&gt;&gt; /tmp/fio_write_iops_error.log</pre>
</div>
</div>
</li>
<li>
<p>Run a random read test:</p>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ fio --name=read_iops --directory=/tmp \
--numjobs=3 --size=10G --time_based --runtime=60s --ramp_time=2s \
--ioengine=libaio --direct=1 --verify=0 --bs=4K --iodepth=64 --rw=randread \
--group_reporting=1 &gt; /tmp/fio_benchmark_read_iops.log \
2&gt;&gt; /tmp/fio_read_iops_error.log</pre>
</div>
</div>
</li>
<li>
<p>Review the results:</p>
<div class="paragraph">
<p>In the log files written by the benchmark commands, search for the line beginning with <code>iops</code>.
This line shows the minimum, maximum, and average values for the test.</p>
</div>
<div class="paragraph">
<p>The following example shows the line in the log file for the random read test:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">$ cat /tmp/fio_benchmark_read_iops.log
read_iops: (g=0): rw=randread, bs=(R) 4096B-4096B, (W) 4096B-4096B, (T) 4096B-4096B, ioengine=libaio, iodepth=64
[]
   iops        : min=50879, max=61603, avg=56221.33, stdev=679.97, samples=360
[]</pre>
</div>
</div>
<div class="paragraph">
<p>You must review, monitor, and revisit the log files according to your own business requirements, application workloads, and new demands.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ref-network-ports-protocols_planning">5. Network ports and protocols</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Red Hat Ansible Automation Platform (AAP) uses a number of ports to communicate with its services. These ports must be open and available for incoming connection to the Red Hat Ansible Automation Platform server in order for it to work. Ensure that these ports are available and are not being blocked by the server firewall.</p>
</div>
<div class="paragraph">
<p>The following architectural diagram is an example of a fully deployed Ansible Automation Platform with all possible components.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ansible-network-ports-protocols.png" alt="Ansible Automation Platform Architectural Diagram">
</div>
</div>
<div class="paragraph">
<p>The following tables provide the default Red Hat Ansible Automation Platform destination ports required for each application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The default destination ports and installer inventory listed below are configurable. If you choose to configure them to suit your environment, you may experience a change in behavior.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. PostgreSQL</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remote access during installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postgres</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pg_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Default port</p>
</div>
<div class="paragraph">
<p>ALLOW connections from controller(s) to database port</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Automation controller</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nginx_http_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UI/API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nginx_https_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UI/API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pg_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Open <strong>only</strong> if the internal database is used along with another component. Otherwise, this port should not be open</p>
</div>
<div class="paragraph">
<p>Hybrid mode in a cluster</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27199</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receptor_listener_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALLOW receptor listener port across all controllers for mandatory &amp; automatic control plane clustering</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Hop Nodes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27199</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receptor_listener_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mesh</p>
</div>
<div class="paragraph">
<p>ALLOW connection from controller(s) to Receptor port</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Execution Nodes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27199</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receptor_listener_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mesh - Nodes directly peered to controllers. No hop nodes involved. 27199 is bi-directional for the execution nodes</p>
</div>
<div class="paragraph">
<p>ALLOW connections from controller(s) to Receptor port (non-hop connected nodes)</p>
</div>
<div class="paragraph">
<p>ALLOW connections from hop node(s) to Receptor port (if relayed through hop nodes)</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Control Nodes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27199</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receptor_listener_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mesh - Nodes directly peered to controllers. Direct nodes involved. 27199 is bi-directional for execution nodes</p>
</div>
<div class="paragraph">
<p>ENABLE connections from controller(s) to Receptor port for non-hop connected nodes</p>
</div>
<div class="paragraph">
<p>ENABLE connections from hop node(s) to Receptor port if relayed through hop nodes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Podman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nginx_https_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UI/API</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Hybrid Nodes</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27199</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receptor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>receptor_listener_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mesh - Nodes directly peered to controllers. No hop nodes involved. 27199 is bi-directional for the execution nodes</p>
</div>
<div class="paragraph">
<p>ENABLE connections from controller(s) to Receptor port for non-hop connected nodes</p>
</div>
<div class="paragraph">
<p>ENABLE connections from hop node(s) to Receptor port if relayed through hop nodes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Podman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nginx_https_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UI/API</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Automation hub</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Protocol</th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Installer Inventory Variable</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ansible_port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fixed value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interface</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inbound and Outbound</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>automationhub_pg_port</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Open <strong>only</strong> if the internal database is used along with another component. Otherwise, this port should not be open</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Red Hat Insights for Red Hat Ansible Automation Platform</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">URL</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://api.access.redhat.com:443">http://api.access.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General account services, subscriptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cert-api.access.redhat.com:443">https://cert-api.access.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Insights data upload</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cert.cloud.redhat.com:443">https://cert.cloud.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inventory upload and Cloud Connector connection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cloud.redhat.com">https://cloud.redhat.com</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to Insights dashboard</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Automation Hub</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">URL</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://console.redhat.com:443">https://console.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General account services, subscriptions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://catalog.redhat.com">https://catalog.redhat.com</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indexing execution environments</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://sso.redhat.com:443">https://sso.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TCP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://automation-hub-prd.s3.amazonaws.com">https://automation-hub-prd.s3.amazonaws.com</a> <a href="https://automation-hub-prd.s3.us-east-2.amazonaws.com/">https://automation-hub-prd.s3.us-east-2.amazonaws.com/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Firewall access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://galaxy.ansible.com">https://galaxy.ansible.com</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ansible Community curated Ansible content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://ansible-galaxy.s3.amazonaws.com">https://ansible-galaxy.s3.amazonaws.com</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://registry.redhat.io:44">https://registry.redhat.io:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://cert.cloud.redhat.com:443">https://cert.cloud.redhat.com:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Red Hat and partner curated Ansible Collections</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Execution Environments (EE)</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">URL</th>
<th class="tableblock halign-left valign-top">Required for</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://registry.redhat.io:443">https://registry.redhat.io:443</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cdn.quay.io:443</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cdn01.quay.io:443</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cdn02.quay.io:443</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cdn03.quay.io:443</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access to container images provided by Red Hat and partners</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Image manifests and filesystem blobs are served directly from <code>registry.redhat.io</code>.
However, from 1 May 2023, filesystem blobs are served from <code>quay.io</code> instead.
To avoid problems pulling container images, you must enable outbound connections to the listed <code>quay.io</code> hostnames.</p>
</div>
<div class="paragraph">
<p>This change should be made to any firewall configuration that specifically enables outbound connections to <code>registry.redhat.io</code>.</p>
</div>
<div class="paragraph">
<p>Use the hostnames instead of IP addresses when configuring firewall rules.</p>
</div>
<div class="paragraph">
<p>After making this change, you can continue to pull images from <code>registry.redhat.io</code>.
You do not require a <code>quay.io</code> login, or need to interact with the <code>quay.io</code> registry directly in any way to continue pulling Red Hat container images.</p>
</div>
<div class="paragraph">
<p>For more information, see the article <a href="https://access.redhat.com/articles/6999582">here</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proc-attaching-subscriptions_planning">6. Attaching your Red Hat Ansible Automation Platform subscription</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>You <strong>must</strong> have valid subscriptions attached on all nodes before installing Red Hat Ansible Automation Platform. Attaching your Ansible Automation Platform subscription allows you to access subcription-only resources necessary to proceed with the installation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Attaching a subscription is unnecessary if you have enabled <a href="https://access.redhat.com/articles/simple-content-access">Simple Content Access Mode</a> on your Red Hat account. Once enabled, you will need to register your systems to either Red Hat Subscription Management (RHSM) or Satellite before installing the Ansible Automation Platform. See <a href="https://access.redhat.com/articles/simple-content-access">Simple Content Access Mode</a> for more information.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Obtain the <code>pool_id</code> for your Red Hat Ansible Automation Platform subscription:</p>
<div class="listingblock">
<div class="content">
<pre># subscription-manager list --available --all | grep "Ansible Automation Platform" -B 3 -A 6</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use MCT4022 as a <code>pool_id</code> for your subscription because it can cause Ansible Automation Platform subscription attachment to fail.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>An example output of the <code><strong>subsciption-manager list</strong></code> command. Obtain the <code>pool_id</code> as seen in the <code>Pool ID:</code> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Subscription Name: Red Hat Ansible Automation, Premium (5000 Managed Nodes)
  Provides: Red Hat Ansible Engine
  Red Hat Ansible Automation Platform
  SKU: MCT3695
  Contract: ````
  Pool ID: &lt;pool_id&gt;
  Provides Management: No
  Available: 4999
  Suggested: 1</pre>
</div>
</div>
</li>
<li>
<p>Attach the subscription:</p>
<div class="listingblock">
<div class="content">
<pre># subscription-manager attach --pool=&lt;pool_id&gt;</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You have now attached your Red Hat Ansible Automation Platform subscriptions to all nodes.</p>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>Verify the subscription was successfully attached:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre># subscription-manager list --consumed</pre>
</div>
</div>
<div class="ulist">
<div class="title">Troubleshooting</div>
<ul>
<li>
<p>If you are unable to locate certain packages that came bundled with the Ansible Automation Platform installer, or if you are seeing a <code><em>Repositories disabled by configuration</em></code> message, try enabling the repository using the command:</p>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform 2.4 for RHEL 8</p>
</div>
<div class="listingblock">
<div class="content">
<pre>subscription-manager repos --enable ansible-automation-platform-2.4-for-rhel-8-x86_64-rpms</pre>
</div>
</div>
<div class="paragraph">
<p>Red Hat Ansible Automation Platform 2.4 for RHEL 9</p>
</div>
<div class="listingblock">
<div class="content">
<pre>subscription-manager repos --enable ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_choosing_and_obtaining_a_red_hat_ansible_automation_platform_installer">7. Choosing and obtaining a Red Hat Ansible Automation Platform installer</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Choose the Red Hat Ansible Automation Platform installer you need based on your Red Hat Enterprise Linux environment internet connectivity. Review the scenarios below and determine which Red Hat Ansible Automation Platform installer meets your needs.</p>
</div>
<div class="sect2">
<h3 id="proc-installing-with-internet_planning">7.1. Installing with internet access</h3>
<div class="paragraph _abstract">
<p>Choose the Red Hat Ansible Automation Platform (AAP) installer if your Red Hat Enterprise Linux environment is connected to the internet. Installing with internet access retrieves the latest required repositories, packages, and dependencies. Choose one of the following ways to set up your AAP installer.</p>
</div>
<div class="olist arabic">
<div class="title">Tarball install</div>
<ol class="arabic">
<li>
<p>Navigate to the <a href="https://access.redhat.com/downloads/content/480/ver=2.4/rhel---9/2.4/x86_64/product-software">Red Hat Ansible Automation Platform download</a> page.</p>
</li>
<li>
<p>Click <b class="button">Download Now</b> for the <strong>Ansible Automation Platform &lt;latest-version&gt; Setup</strong>.</p>
</li>
<li>
<p>Extract the files:</p>
<div class="listingblock">
<div class="content">
<pre>$ tar xvzf ansible-automation-platform-setup-&lt;latest-version&gt;.tar.gz</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">RPM install</div>
<ol class="arabic">
<li>
<p>Install Ansible Automation Platform Installer Package</p>
<div class="paragraph">
<p>v.2.4 for RHEL 8 for x86_64</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo dnf install --enablerepo=ansible-automation-platform-2.4-for-rhel-8-x86_64-rpms ansible-automation-platform-installer</pre>
</div>
</div>
<div class="paragraph">
<p>v.2.4 for RHEL 9 for x86-64</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ sudo dnf install --enablerepo=ansible-automation-platform-2.4-for-rhel-9-x86_64-rpms ansible-automation-platform-installer</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<code>dnf install</code> enables the repo as the repo is disabled by default.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you use the RPM installer, the files are placed under the <code>/opt/ansible-automation-platform/installer</code> directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-installing-without-internet_planning">7.2. Installing without internet access</h3>
<div class="paragraph _abstract">
<p>Use the Red Hat Ansible Automation Platform (AAP) <strong>Bundle</strong> installer if you are unable to access the internet, or would prefer not to install separate components and dependencies from online repositories. Access to Red Hat Enterprise Linux repositories is still needed. All other dependencies are included in the tar archive.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Navigate to the <a href="https://access.redhat.com/downloads/content/480/ver=2.4/rhel---9/2.4/x86_64/product-software">Red Hat Ansible Automation Platform download</a> page.</p>
</li>
<li>
<p>Click <b class="button">Download Now</b> for the <strong>Ansible Automation Platform &lt;latest-version&gt; Setup Bundle</strong>.</p>
</li>
<li>
<p>Extract the files:</p>
<div class="listingblock">
<div class="content">
<pre>$ tar xvzf ansible-automation-platform-setup-bundle-&lt;latest-version&gt;.tar.gz</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_the_installer_inventory_file">8. About the installer inventory file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat Ansible Automation Platform works against a list of managed nodes or hosts in your infrastructure that are logically organized, using an inventory file.
You can use the Red Hat Ansible Automation Platform installer inventory file to specify your installation scenario and describe host deployments to Ansible.
By using an inventory file, Ansible can manage a large number of hosts with a single command.
Inventories also help you use Ansible more efficiently by reducing the number of command line options you have to specify.</p>
</div>
<div class="paragraph">
<p>The inventory file can be in one of many formats, depending on the inventory plugins that you have.
The most common formats are <code>INI</code> and <code>YAML</code>.
Inventory files listed in this document are shown in INI format.</p>
</div>
<div class="paragraph">
<p>The location of the inventory file depends on the installer you used.
The following table shows possible locations:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Installer</th>
<th class="tableblock halign-left valign-top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Bundle tar</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/ansible-automation-platform-setup-bundle-&lt;latest-version&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Non-bundle tar</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/ansible-automation-platform-setup-&lt;latest-version&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>RPM</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/opt/ansible-automation-platform/installer</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can verify the hosts in your inventory using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">ansible all -i &lt;path-to-inventory-file. --list-hosts</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example inventory file</div>
<div class="content">
<pre class="nowrap">[automationcontroller]
host1.example.com
host2.example.com
Host4.example.com

[automationhub]
host3.example.com

[database]
Host5.example.com

[all:vars]
admin_password='&lt;password&gt;'

pg_host=''
pg_port=''

pg_database='awx'
pg_username='awx'
pg_password='&lt;password&gt;'

registry_url='registry.redhat.io'
registry_username='&lt;registry username&gt;'
registry_password='&lt;registry password&gt;'</pre>
</div>
</div>
<div class="paragraph">
<p>The first part of the inventory file specifies the hosts or groups that Ansible can work with.</p>
</div>
<div class="sect2">
<h3 id="ref-guidelines-hosts-groups">8.1. Guidelines for hosts and groups</h3>
<div class="ulist">
<div class="title">Databases</div>
<ul>
<li>
<p>When using an external database, ensure the <code>[database]</code> sections of your inventory file are properly set up.</p>
</li>
<li>
<p>To improve performance, do not colocate the database and the automation controller on the same server.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Automation hub</div>
<ul>
<li>
<p>If there is an <code>[automationhub]</code> group, you must include the variables <code>automationhub_pg_host</code> and <code>automationhub_pg_port</code>.</p>
</li>
<li>
<p>Add Ansible automation hub information in the <code>[automationhub]</code> group</p>
</li>
<li>
<p>Do not install Ansible automation hub and automation controller on the same node.</p>
</li>
<li>
<p>Provide a reachable IP address or fully qualified domain name (FDQN) for the <code>[automationhub]</code> and <code>[automationcontroller]</code> hosts to ensure that users can synchronize and install content from Ansible automation hub and automation controller from a different node.
Do not use <code>localhost</code>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Private automation hub</div>
<ul>
<li>
<p>Do not install private automation hub and automation controller on the same node.</p>
</li>
<li>
<p>You can use the same Postgresql (database) instance, but they must use a different (database) name.</p>
</li>
<li>
<p>If you install private automation hub from an internal address, and have a certificate which only encompasses the external address, it can result in an installation you cannot use as a container registry without certificate issues.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You must separate the installation of automation controller and Ansible automation hub because the <code>[database]</code> group does not distinguish between the two if both are installed at the same time.</p>
</div>
<div class="paragraph">
<p>If you use one value in <code>[database]</code> and both automation controller and Ansible automation hub define it, they would use the same database.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Automation controller</div>
<ul>
<li>
<p>Automation controller does not configure replication or failover for the database that it uses.</p>
</li>
<li>
<p>automation controller works with any replication that you have.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Clustered installations</div>
<ul>
<li>
<p>When upgrading an existing cluster, you can also reconfigure your cluster to omit existing instances or instance groups.
Omitting the instance or the instance group from the inventory file is not enough to remove them from the cluster.
In addition to omitting instances or instance groups from the inventory file, you must also deprovision instances or instance groups before starting the upgrade. See <a href="#ref-deprovisioning">Deprovisioning nodes or groups</a>.
Otherwise, omitted instances or instance groups continue to communicate with the cluster, which can cause issues with automation controller services during the upgrade.</p>
</li>
<li>
<p>If you are creating a clustered installation setup, you must replace <code>[localhost]</code> with the hostname or IP address of all instances.
Installers for automation controller and automation hub do not accept <code>[localhost]</code>
All nodes and instances must be able to reach any others using this hostname or address.
In other words, you cannot use the localhost <code>ansible_connection=local</code> on one of the nodes.
Use the same format for the host names of all the nodes.</p>
<div class="paragraph">
<p>Therefore, this does not work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[automationhub]
localhost ansible_connection=local
hostA
hostB.example.com
172.27.0.4</pre>
</div>
</div>
<div class="paragraph">
<p>Instead, use these formats:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[automationhub]
hostA
hostB
hostC</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[automationhub]
hostA.example.com
hostB.example.com
hostC.example.com</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ref-deprovisioning">8.2. Deprovisioning nodes or groups</h3>
<div class="paragraph">
<p>You can deprovision nodes and instance groups using the Ansible Automation Platform installer.
Running the installer will remove all configuration files and logs attached to the nodes in the group.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>You can deprovision any hosts in your inventory except for the first host specified in the <code>[automationcontroller]</code> group.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To deprovision nodes, append <code>node_state=deprovision</code> to the node or group within the inventory file.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="paragraph">
<p>To remove a single node from a deployment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[automationcontroller]
host1.example.com
host2.example.com
host4.example.com   node_state=deprovision</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="paragraph">
<p>To remove an entire instance group from a deployment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">[instance_group_restrictedzone]
host4.example.com
host5.example.com

[instance_group_restrictedzone:vars]
node_state=deprovision</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="con-inventory-variables-intro_planning">8.3. Inventory variables</h3>
<div class="paragraph">
<p>The second part of the example inventory file, following <code>[all:vars]</code>, is a list of variables used by the installer.
Using <code>all</code> means the variables apply to all hosts.</p>
</div>
<div class="paragraph">
<p>To apply variables to a particular host, use <code>[hostname:vars]</code>.
For example, <code>[automationhub:vars]</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-declaring_variables">8.4. Rules for declaring variables in inventory files</h3>
<div class="paragraph">
<p>The values of string variables are declared in quotes.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">pg_database='awx'
pg_username='awx'
pg_password='&lt;password&gt;'</pre>
</div>
</div>
<div class="paragraph">
<p>When declared in a <code>:vars</code> section, INI values are interpreted as strings.
For example, <code>var=FALSE</code> creates a string equal to <code>FALSE</code>.
Unlike host lines, <code>:vars</code> sections accept only a single entry per line, so everything after the <code>=</code> must be the value for the entry.
Host lines accept multiple <code>key=value</code> parameters per line.
Therefore they need a way to indicate that a space is part of a value rather than a separator.
Values that contain whitespace can be quoted (single or double).
See the <a href="https://docs.python.org/3/library/shlex.html#parsing-rules">Python shlex parsing rules</a> for details.</p>
</div>
<div class="paragraph">
<p>If a variable value set in an INI inventory must be a certain type (for example, a string or a boolean value), always specify the type with a filter in your task.
Do not rely on types set in INI inventories when consuming variables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Consider using YAML format for inventory sources to avoid confusion on the actual type of a variable.
The YAML inventory plugin processes variable values consistently and correctly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a parameter value in the Ansible inventory file contains special characters, such as #, { or }, you must double-escape the value (that is enclose the value in both single and double quotation marks).</p>
</div>
<div class="paragraph">
<p>For example, to use <code>mypasswordwith#hashsigns</code> as a value for the variable <code>pg_password</code>, declare it as <code>pg_password='"mypasswordwith#hashsigns"'</code> in the Ansible host inventory file.</p>
</div>
</div>
<div class="sect2">
<h3 id="proc-securing_secrets_in_inventory_planning">8.5. Securing secrets in the inventory file</h3>
<div class="paragraph">
<p>You can encrypt sensitive or secret variables with Ansible Vault.
However, encrypting the variable names as well as the variable values makes it hard to find the source of the values.
To circumvent this, you can encrypt the variables individually using <code>ansible-vault encrypt_string</code>, or encrypt a file containing the variables.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a file labeled <code>credentials.yml</code> to store the encrypted credentials.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cat credentials.yml

admin_password: my_long_admin_pw
pg_password: my_long_pg_pw
registry_password: my_long_registry_pw</pre>
</div>
</div>
</li>
<li>
<p>Encrypt the <code>credentials.yml</code> file using <code>ansible-vault</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ansible-vault encrypt credentials.yml
New Vault password:
Confirm New Vault password:
Encryption successful</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Store your encrypted vault password in a safe place.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Verify that the <code>credentials.yml</code> file is encrypted.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ cat credentials.yml
$ANSIBLE_VAULT;1.1;
AES256363836396535623865343163333339613833363064653364656138313534353135303764646165393765393063303065323466663330646232363065316666310a373062303133376339633831303033343135343839626136323037616366326239326530623438396136396536356433656162333133653636616639313864300a353239373433313339613465326339313035633565353464356538653631633464343835346432376638623533613666326136343332313163343639393964613265616433363430633534303935646264633034383966336232303365383763</pre>
</div>
</div>
</li>
<li>
<p>Run <code>setup.sh</code> for installation of Ansible Automation Platform 2.4 and pass both <code>credentials.yml</code> and the <code>--ask-vault-pass option</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">$ ANSIBLE_BECOME_METHOD='sudo' ANSIBLE_BECOME=True ANSIBLE_HOST_KEY_CHECKING=False ./setup.sh -e @credentials.yml -- --ask-vault-pass</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="con-editing_inventory_files">8.6. Additional inventory file variables</h3>
<div class="paragraph">
<p>You can further configure your Red Hat Ansible Automation Platform installation by including additional variables in the inventory file.
These configurations add optional features for managing your Red Hat Ansible Automation Platform.
Add these variables by editing the inventory file using a text editor.</p>
</div>
<div class="paragraph">
<p>A table of predefined values for inventory file variables can be found in <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.3/html/red_hat_ansible_automation_platform_installation_guide/appendix-inventory-files-vars">Inventory File Variables</a> in the <em>Red Hat Ansible Automation Platform Installation Guide</em>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported-installation-scenarios_planning">9. Supported installation scenarios</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat supports the following installations scenarios for Red Hat Ansible Automation Platform:</p>
</div>
<div class="paragraph _additional-resources">
<div class="title">Additional resources</div>
<p>To edit inventory file parameters to specify a supported installation scenario, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/red_hat_ansible_automation_platform_installation_guide/assembly-platform-install-scenario#con-install-scenario-examples">Inventory file examples based on installation scenarios</a> in the <em>Red Hat Ansible Automation Platform Installation Guide</em>.</p>
</div>
<div class="sect2">
<h3 id="_standalone_automation_controller_with_a_database_on_the_same_node_or_a_non_installer_managed_database">9.1. Standalone automation controller with a database on the same node, or a non-installer managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of automation controller, including the web frontend, REST API backend, and database on a single machine. It installs PostgreSQL, and configures the automation controller to use that as its database. This is considered the standard automation controller installation scenario.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-SM-standalone-contr-ext-database_planning">9.2. Standalone automation controller with an external managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of the automation controller server on a single machine and configures communication with a remote PostgreSQL instance as its database. This remote PostgreSQL can be a server you manage, or can be provided by a cloud service such as Amazon RDS.</p>
</div>
</div>
<div class="sect2">
<h3 id="single-eda-controller-with-internal-database">9.3. Single Event-Driven Ansible controller node with internal database</h3>
<div class="paragraph">
<p>This scenario includes installation of Event-Driven Ansible controller on a single machine with an internal database. It installs an installer managed PostgreSQL that is similar to the automation controller installation scenario.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Automation controller must be installed before you populate the inventory file with the appropriate Event-Driven Ansible variables.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/red_hat_ansible_automation_platform_installation_guide/index#ref-single-eda-controller-with-internal-db_platform-install-scenario">Single Event-Driven Ansible controller node with internal database</a></p>
</li>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html/red_hat_ansible_automation_platform_installation_guide/appendix-inventory-files-vars#ref-eda-controller-variables">Appendix A. 5. Event-Driven Ansible controller variables</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="con-SM-standalone-hub-non-inst-database_planning">9.4. Standalone automation hub with a database on the same node, or a non-installer managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of automation hub, including the web frontend, REST API backend, and database on a single machine. It installs PostgreSQL, and configures the automation hub to use that as its database.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-SM-standalone-hub-external-database_planning">9.5. Standalone automation hub with an external managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of the automation hub server on a single machine, and installs a remote PostgreSQL database, managed by the Red Hat Ansible Automation Platform installer.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-platform-non-inst-database_planning">9.6. Platform installation with a database on the automation controller node, or non-installer managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of automation controller and automation hub with a database on the automation controller node, or a non-installer managed database.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-platform-ext-database_planning">9.7. Platform installation with an external managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of automation controller and automation hub and configures communication with a remote PostgreSQL instance as its database. This remote PostgreSQL can be a server you manage, or can be provided by a cloud service such as Amazon RDS.</p>
</div>
</div>
<div class="sect2">
<h3 id="con-cluster-platform-ext-database_planning">9.8. Multi-machine cluster installation with an external managed database</h3>
<div class="paragraph _abstract">
<p>This scenario includes installation of multiple automation controller nodes and an automation hub instance and configures communication with a remote PostgreSQL instance as its database. This remote PostgreSQL can be a server you manage, or can be provided by a cloud service such as Amazon RDS. In this scenario, all automation controller are active and can execute jobs, and any node can receive HTTP requests.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Running in a cluster setup requires any database that automation controller uses to be external&#8212;&#8203;PostgreSQL must be installed on a machine that is not one of the primary or secondary tower nodes. When in a redundant setup, the remote PostgreSQL version requirements is <strong>PostgreSQL 13</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="https://docs.ansible.com/automation-controller/latest/html/administration/clustering.html">Clustering</a> for more information on configuring a clustered setup.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Provide a reachable IP address for the <code>[automationhub]</code> host to ensure users can sync content from Private Automation Hub from a different node.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-07-17 17:26:45 +0100
</div>
</div>
</body>
</html>