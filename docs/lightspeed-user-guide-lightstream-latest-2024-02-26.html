<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left Role ARG Spec">
<div id="header">
<h1>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant User Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#making-open-source-more-inclusive">Making open source more inclusive</a></li>
<li><a href="#lightspeed-intro">1. Introduction to Red Hat Ansible Lightspeed</a>
<ul class="sectlevel2">
<li><a href="#lightspeed-about_lightspeed-intro">1.1. About Red Hat Ansible Lightspeed</a>
<ul class="sectlevel3">
<li><a href="#_accessing_red_hat_ansible_lightspeed_with_ibm_watsonx_code_assistant">1.1.1. Accessing Red Hat Ansible Lightspeed with IBM watsonx Code Assistant</a></li>
<li><a href="#_benefits_of_using_red_hat_ansible_lightspeed">1.1.2. Benefits of using Red Hat Ansible Lightspeed</a></li>
</ul>
</li>
<li><a href="#lightspeed-key-features_lightspeed-intro">1.2. Key features of Red Hat Ansible Lightspeed</a></li>
<li><a href="#lightspeed-process_lightspeed-intro">1.3. Using Red Hat Ansible Lightspeed with IBM watsonx Code Assistant</a>
<ul class="sectlevel3">
<li><a href="#_process_for_using_red_hat_ansible_lightspeed">1.3.1. Process for using Red Hat Ansible Lightspeed</a></li>
</ul>
</li>
<li><a href="#training-data_lightspeed-intro">1.4. Data gathered to train the IBM watsonx Code Assistant models</a>
<ul class="sectlevel3">
<li><a href="#_models">1.4.1. Models</a></li>
<li><a href="#_data_sources">1.4.2. Data sources</a></li>
<li><a href="#_data_telemetry">1.4.3. Data telemetry</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#logging-in-lightspeed-admin-portal_lightspeed-user-guide">2. Logging into the Ansible Lightspeed administrator portal</a>
<ul class="sectlevel2">
<li><a href="#log-in-administrator-portal_logging-in-lightspeed-admin-portal">2.1. Logging in to the Ansible Lightspeed administrator portal</a></li>
</ul>
</li>
<li><a href="#configure-code-assistant_lightspeed-user-guide">3. Configuring Red Hat Ansible Lightspeed to connect with IBM watsonx Code Assistant</a>
<ul class="sectlevel2">
<li><a href="#wca-key-model-id_configure-code-assistant">3.1. About the Watsonx Code Assistant key and model ID</a></li>
<li><a href="#obtain-config-wca-and-model-id_configure-code-assistant">3.2. Connecting Red Hat Ansible Lightspeed to IBM watsonx Code Assistant</a>
<ul class="sectlevel3">
<li><a href="#_additional_resources">3.2.1. Additional resources</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#logging-in-out-portal_lightspeed-user-guide">4. Logging in and out of the Ansible Lightspeed portal</a>
<ul class="sectlevel2">
<li><a href="#log-into-portal_logging-in-out-lightspeed-portal">4.1. Logging in to the Ansible Lightspeed portal</a></li>
<li><a href="#log-out-of-portal_logging-in-out-lightspeed-portal">4.2. Logging out of the Ansible Lightspeed portal</a></li>
</ul>
</li>
<li><a href="#configuring-with-code-assistant_lightspeed-user-guide">5. Installing and configuring the Ansible VS Code extension</a>
<ul class="sectlevel2">
<li><a href="#install-vscode-extension_configuring-with-code-assistant">5.1. Installing the Ansible VS Code Extension</a></li>
<li><a href="#configure-vscode-extension_configuring-with-code-assistant">5.2. Configuring the Ansible VS Code extension</a></li>
</ul>
</li>
<li><a href="#requesting-task-recommendations_lightspeed-user-guide">6. Requesting task recommendations</a>
<ul class="sectlevel2">
<li><a href="#overview-and-best-practices_requesting-task-recommendations">6.1. Overview</a>
<ul class="sectlevel3">
<li><a href="#_best_practices_to_improve_the_recommended_guidance">6.1.1. Best practices to improve the recommended guidance</a></li>
</ul>
</li>
<li><a href="#single-task-recs_requesting-task-recommendations">6.2. Requesting code recommendations for a single task</a></li>
<li><a href="#multi-task-recs_requesting-task-recommendations">6.3. Requesting code recommendations for multiple tasks</a></li>
<li><a href="#view-training-matches_requesting-task-recommendations">6.4. Viewing Ansible Lightspeed training matches</a></li>
<li><a href="#provide-feedback_requesting-task-recommendations">6.5. Providing feedback on the Ansible Lightspeed service</a></li>
</ul>
</li>
<li><a href="#using-code-bot-for-suggestions_lightspeed-user-guide">7. Installing and configuring Ansible code bot</a>
<ul class="sectlevel2">
<li><a href="#install-code-bot_using-code-bot-for-suggestions">7.1. Installing Ansible code bot</a></li>
<li><a href="#configure-repo-scan_using-code-bot-for-suggestions">7.2. Configuring Ansible code bot to scan your repository at regular intervals</a></li>
<li><a href="#manually-scan-repo_using-code-bot-for-suggestions">7.3. Manually scanning your Git repositories</a></li>
<li><a href="#ansible-code-bot-duplicate-pr">7.4. How Ansible code bot handles duplicate pull requests</a></li>
</ul>
</li>
<li><a href="#configuring-custom-models_lightspeed-user-guide">8. Configuring custom models</a>
<ul class="sectlevel2">
<li><a href="#_process_for_configuring_custom_models">8.1. Process for configuring custom models</a></li>
<li><a href="#ansible-content-parser_configuring-custom-models">8.2. Creating a training data set by using content parser tool</a>
<ul class="sectlevel3">
<li><a href="#_methods_of_creating_training_data_sets">8.2.1. Methods of creating training data sets</a></li>
<li><a href="#_supported_data_sources">8.2.2. Supported data sources</a></li>
<li><a href="#_process_of_creating_a_training_data_set">8.2.3. Process of creating a training data set</a></li>
<li><a href="#install-content-parser_configuring-custom-models">8.2.4. Installing content parser tool</a></li>
<li><a href="#generate-training-data-set_configuring-custom-models">8.2.5. Generating a custom model training data set</a>
<ul class="sectlevel4">
<li><a href="#_methods_of_generating_a_training_data_set">Methods of generating a training data set</a></li>
</ul>
</li>
<li><a href="#view-content-parser-output_configuring-custom-models">8.2.6. Viewing the generated training data set</a>
<ul class="sectlevel4">
<li><a href="#_structure_of_custom_model_training_data_set">Structure of custom model training data set</a></li>
</ul>
</li>
<li><a href="#resolve-ansible-lint-rule-violations_configuring-custom-models">8.2.7. Resolving ansible-lint rule violations</a>
<ul class="sectlevel4">
<li><a href="#_how_does_the_content_parser_tool_handle_rule_violations">How does the content parser tool handle rule violations?</a></li>
</ul>
</li>
<li><a href="#merge-multiple-jsonl-files_configuring-custom-models">8.2.8. Merging multiple training data sets into a single file</a></li>
</ul>
</li>
<li><a href="#create-deploy-custom-model-ibm_configuring-custom-models">8.3. Create and deploy a custom model in IBM watsonx Code Assistant</a></li>
<li><a href="#configure-custom-models-lightspeed_configuring-custom-models">8.4. Configuring Red Hat Ansible Lightspeed to use custom models</a>
<ul class="sectlevel3">
<li><a href="#_configuring_the_custom_model_for_all_ansible_users_in_your_organization">8.4.1. Configuring the custom model for all Ansible users in your organization</a></li>
<li><a href="#_configuring_the_custom_model_for_select_ansible_users_in_your_organization">8.4.2. Configuring the custom model for select Ansible users in your organization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#troubleshooting-lightspeed_lightspeed-user-guide">9. Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#troubleshooting-lightspeed-config_troubleshooting-lightspeed">9.1. Troubleshooting Red Hat Ansible Lightspeed configuration errors</a>
<ul class="sectlevel3">
<li><a href="#_cannot_access_the_ansible_lightspeed_administrator_portal">9.1.1. Cannot access the Ansible Lightspeed administrator portal</a></li>
<li><a href="#_cannot_save_the_wca_key">9.1.2. Cannot save the WCA key</a></li>
<li><a href="#_cannot_configure_the_model_id_due_to_authentication_failure">9.1.3. Cannot configure the model ID due to authentication failure</a></li>
<li><a href="#_cannot_configure_the_model_id_due_to_inference_failure">9.1.4. Cannot configure the model ID due to inference failure</a></li>
</ul>
</li>
<li><a href="#troubleshooting-vscode_troubleshooting-lightspeed">9.2. Troubleshooting Ansible Visual Studio Code extension errors</a>
<ul class="sectlevel3">
<li><a href="#_cannot_view_the_generated_code_recommendations_using_the_ansible_vs_code_extension">9.2.1. Cannot view the generated code recommendations using the Ansible VS Code extension</a></li>
<li><a href="#_cannot_request_code_recommendations_by_using_the_ansible_vs_code_extension">9.2.2. Cannot request code recommendations by using the Ansible VS Code extension</a></li>
</ul>
</li>
<li><a href="#troubleshooting-code-bot_troubleshooting-lightspeed">9.3. Troubleshooting Ansible code bot errors</a>
<ul class="sectlevel3">
<li><a href="#_cannot_access_ansible_code_bot">9.3.1. Cannot access Ansible code bot</a></li>
<li><a href="#_cannot_scan_your_git_repository_using_ansible_code_bot">9.3.2. Cannot scan your Git repository using Ansible code bot</a></li>
<li><a href="#_cannot_create_pull_requests">9.3.3. Cannot create pull requests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="making-open-source-more-inclusive">Making open source more inclusive</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat is committed to replacing problematic language in our code, documentation, and web properties.
We are beginning with these four terms: master, slave, blacklist, and whitelist.
Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases.
For more details, see <a href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lightspeed-intro">1. Introduction to Red Hat Ansible Lightspeed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Learn about Red Hat Ansible Lightspeed with IBM watsonx Code Assistant, its benefits, key features, process, and data gathered to train the IBM watsonx Code Assistant models.</p>
</div>
<div class="sect2">
<h3 id="lightspeed-about_lightspeed-intro">1.1. About Red Hat Ansible Lightspeed</h3>
<div class="paragraph _abstract">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant is a generative AI service that helps automation teams create, adopt, and maintain Ansible content more efficiently. It uses natural language prompts to generate code recommendations for automation tasks based on Ansible best practices.</p>
</div>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed is the cloud service that enables integration of generative AI into Ansible Automation Platform. This document specifically describes the integration of Red Hat Ansible Lightspeed with IBM watsonx Code Assistant.</p>
</div>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed uses IBM watsonx Code Assistant models trained on subject matter expertise across the Ansible ecosystem, which includes Galaxy, GitHub, and Ansible certified and validated content. For ease of use, Red Hat Ansible Lightspeed is integrated with your existing Ansible developer workflows. For example, you can use your existing Git repositories (both public and private) to train your IBM watsonx Code Assistant models. You can also access Lightspeed content suggestions in VS Code through the Ansible VS code extension.</p>
</div>
<div class="sect3">
<h4 id="_accessing_red_hat_ansible_lightspeed_with_ibm_watsonx_code_assistant">1.1.1. Accessing Red Hat Ansible Lightspeed with IBM watsonx Code Assistant</h4>
<div class="paragraph">
<p>To use Red Hat Ansible Lightspeed with IBM watsonx Code Assistant, your organization must have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A trial or paid subscription to Ansible Automation Platform</p>
</li>
<li>
<p>A trial or paid subscription to IBM watsonx Code Assistant</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_benefits_of_using_red_hat_ansible_lightspeed">1.1.2. Benefits of using Red Hat Ansible Lightspeed</h4>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant offers the following benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Reduces the onboarding learning period for Ansible developers</strong></p>
<div class="paragraph">
<p>With just a basic understanding of YAML syntax, Ansible developers can use natural language prompts to describe the automation goal. Red Hat Ansible Lightspeed then offers Ansible code recommendations to help achieve the automation goal more efficiently. This combination of content and best practice suggestions reduces the learning curve and offers a smoother onboarding experience for new Ansible users.</p>
</div>
<div class="paragraph">
<p>For example, to get a multitask code recommendation, you can enter the prompt <code>Install postgresql-server &amp; run postgresql-setup command</code>. The Ansible Lightspeed service reads the text, interacts with IBM watsonx Code Assistant, and generates code recommendations to automate a multitask that installs a PostgreSQL server and sets up a PostgreSQL database. You can then view and accept the code recommendations to create tasks in an Ansible YAML file.</p>
</div>
</li>
<li>
<p><strong>Increases productivity with quality content creation</strong></p>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed offers automation code recommendations that adhere to Ansible best practices, and IBM watsonx Code Assistant provides model fine-tuning features to improve the accuracy of suggested content based on your organization&#8217;s existing Ansible content. Therefore, the AI-generated code recommendations are more accurate, more reliable, and integrated with your existing automation development workflows.</p>
</div>
</li>
<li>
<p><strong>Extends trust with AI-generated code recommendations</strong></p>
<div class="paragraph">
<p>The AI-generated code recommendations enable you to extend trust, with an automation code base that adheres to accepted Ansible best practices and significant data safeguards.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lightspeed-key-features_lightspeed-intro">1.2. Key features of Red Hat Ansible Lightspeed</h3>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed offers the following key features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Ansible-specific IBM watsonx Code Assistant models</strong></p>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant uses Ansible-specific IBM watsonx Granite models unique to your organization, which are provided, managed, and maintained by IBM.</p>
</div>
</li>
<li>
<p><strong>Single tasks and multitask generation</strong></p>
<div class="paragraph">
<p>Using natural language prompts, you can generate single task or multiple task recommendations for Ansible task files and playbooks. To request multitask code recommendations, you can enter a sequence of natural language task prompts in a YAML file comment separated by ampersand (<strong>&amp;</strong>) symbols.</p>
</div>
</li>
<li>
<p><strong>Content source matching</strong></p>
<div class="paragraph">
<p>For each generated code recommendation, Red Hat Ansible Lightspeed lists content source matches, including details such as potential source, content author, and relevant licenses. You can use this data to gain insight into potential training data sources used to generate the code recommendations.</p>
</div>
</li>
<li>
<p><strong>Post-processing capabilities</strong></p>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed offers post-processing capabilities that augment IBM watsonx Code Assistant and improve the quality and accuracy of code recommendations.</p>
</div>
</li>
<li>
<p><strong>Content maintenance and modernization</strong></p>
<div class="paragraph">
<p>The Ansible code bot scans existing content collections, roles, and playbooks through Git repositories, and proactively creates pull requests whenever best practices or quality improvement recommendations are available. The bot automatically submits pull requests to the repository, which proactively alerts the repository owner to a recommended change to their content.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lightspeed-process_lightspeed-intro">1.3. Using Red Hat Ansible Lightspeed with IBM watsonx Code Assistant</h3>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>To use Red Hat Ansible Lightspeed, ensure that you have the following components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Trial or paid subscription to Ansible Automation Platform</p>
</li>
<li>
<p>Trial or paid subscription to IBM watsonx Code Assistant</p>
</li>
<li>
<p>VS Code version 1.70.1 or later</p>
</li>
<li>
<p>The Ansible extension for VS Code version 2.8 or later</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_process_for_using_red_hat_ansible_lightspeed">1.3.1. Process for using Red Hat Ansible Lightspeed</h4>
<div class="ulist">
<ul>
<li>
<p>Red Hat customer portal organization administrators can use this guide to:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#configure-code-assistant_lightspeed-user-guide">Connect Red Hat Ansible Lightspeed to IBM watsonx Code Assistant instance</a></p>
</li>
<li>
<p><a href="#obtain-config-wca-and-model-id_configure-code-assistant">Configure the IBM watsonx Code Assistant model that you want to use</a></p>
</li>
<li>
<p><a href="#configuring-custom-models_lightspeed-user-guide">Configure custom models</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Ansible users (content developers and automators) can use this guide to:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#configuring-with-code-assistant_lightspeed-user-guide">Install and configure Ansible Visual Studio Code extension</a></p>
</li>
<li>
<p><a href="#requesting-task-recommendations_lightspeed-user-guide">Request task recommendations</a></p>
</li>
<li>
<p><a href="#provide-feedback_requesting-task-recommendations">Provide feedback on the Ansible Lightspeed service</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Ansible repository administrators can use this guide to:</p>
<div class="ulist">
<ul>
<li>
<p><a href="#install-code-bot_using-code-bot-for-suggestions">Install and configure Ansible code bot</a></p>
</li>
<li>
<p><a href="#configure-repo-scan_using-code-bot-for-suggestions">Configure Ansible code bot to scan your repositories at regular intervals</a></p>
</li>
<li>
<p><a href="#manually-scan-repo_using-code-bot-for-suggestions">Manually scan your git repositories</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="training-data_lightspeed-intro">1.4. Data gathered to train the IBM watsonx Code Assistant models</h3>
<div class="sect3">
<h4 id="_models">1.4.1. Models</h4>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant uses Ansible-specific IBM watsonx Granite models unique to your organization. These models are provided, managed, and maintained by IBM. You can use the Ansible-specific IBM watsonx Granite model as the default model for Red Hat Ansible Lightspeed, so that all Ansible Lightspeed users in your organization can use the fine-tuned model.</p>
</div>
<div class="paragraph">
<p>You can configure Red Hat Ansible Lightspeed to use one of the following models:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Base model</strong>: A default model that enables all users in your organization to use generative AI with Red Hat Ansible Lightspeed.</p>
</li>
<li>
<p><strong>Custom model</strong>: A custom model that is fine-tuned on your organizational automation data to improve the code recommendation experience. You can configure custom models for select Ansible users or for all users in your organization. For more information, see <a href="#configuring-custom-models_lightspeed-user-guide">Configuring custom models</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_data_sources">1.4.2. Data sources</h4>
<div class="paragraph">
<p>IBM watsonx Code Assistant models are trained on Ansible content from Ansible Galaxy, data from public Git repositories, and Red Hat Ansible subject matter expert examples.</p>
</div>
<div class="paragraph">
<p>If you publish content to Ansible Galaxy and want to restrict your Ansible Galaxy content from being used to train the models, you can opt out of sharing your Ansible Galaxy data in the Ansible Galaxy namespace configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="_data_telemetry">1.4.3. Data telemetry</h4>
<div class="paragraph">
<p>The Ansible VS Code extension, with Red Hat Ansible Lightspeed with IBM watsonx Code Assistant features enabled, automatically collects recommendations, usage telemetry, and playbook state through automated events. This data is eventually shared with Red Hat Ansible Lightspeed and IBM watsonx Code Assistant to generate code recommendations.</p>
</div>
<div class="paragraph">
<p>The following table lists the data that the Ansible VS Code extension collects.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Data collected by the Ansible VS Code extension</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Metric</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recommendation accepted</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An indicator that a code recommendation was accepted by an Ansible user and included in the Ansible playbook.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Recommendation rejected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An indicator that a code recommendation was rejected by an Ansible user and excluded from the Ansible playbook.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anonymized document URI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The string that helps to determine the document type (playbook, role, or task).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request and response timestamps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request and response times captured in UTC format.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anonymized user ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A random anonymous user ID that is stored locally on <code>~/.redhat/anonymousid</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anonymized suggestion ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A random auto-generated session ID associated with the suggestion request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IBM watsonx Code Assistant metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contextual information about the suggestion returned from the IBM watsonx Code Assistant model such as the recommended Ansible module, recommended parameter keys, and length of the suggestion.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-in-lightspeed-admin-portal_lightspeed-user-guide">2. Logging into the Ansible Lightspeed administrator portal</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>As a Red Hat account organization administrator, you can use the Ansible Lightspeed administrator portal to configure settings to connect Red Hat Ansible Lightspeed to IBM watsonx Code Assistant.</p>
</div>
<div class="sect2">
<h3 id="log-in-administrator-portal_logging-in-lightspeed-admin-portal">2.1. Logging in to the Ansible Lightspeed administrator portal</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have organization administrator privileges to a Red Hat Customer Portal organization with a valid Red Hat Ansible Automation Platform subscription.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed portal</a> as an organization administrator.</p>
</li>
<li>
<p>Click <span class="menuseq"><b class="menu">Log in</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Log in with Red Hat</b></span>.</p>
</li>
<li>
<p>Enter your Red Hat account username and password. The Ansible Lightspeed Service uses Red Hat Single Sign-On (RH-SSO) for authentication.</p>
<div class="paragraph">
<p>As part of the authentication process, the Ansible Lightspeed Service checks whether your organization has an active Ansible Automation Platform subscription. On successful authentication, the login screen is displayed along with your username and your assigned user role.</p>
</div>
</li>
<li>
<p>From the login screen, click <strong>Admin Portal</strong>.</p>
<div class="paragraph">
<p>You are redirected to the Red Hat Ansible Lightspeed with IBM watsonx Code Assistant administrator portal where you can connect Red Hat Ansible Lightspeed to your IBM watsonx Code Assistant instance.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configure-code-assistant_lightspeed-user-guide">3. Configuring Red Hat Ansible Lightspeed to connect with IBM watsonx Code Assistant</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>As a Red Hat customer portal administrator, you must configure Red Hat Ansible Lightspeed to connect to your IBM watsonx Code Assistant instance.</p>
</div>
<div class="sect2">
<h3 id="wca-key-model-id_configure-code-assistant">3.1. About the Watsonx Code Assistant key and model ID</h3>
<div class="paragraph">
<p>You need the following IBM watsonx Code Assistant information to connect Red Hat Ansible Lightspeed to your IBM watsonx Code Assistant:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Watsonx Code Assistant (WCA) API key</strong></p>
<div class="paragraph">
<p>A WCA API key authenticates all requests made from Red Hat Ansible Lightspeed to IBM watsonx Code Assistant. Each Red Hat organization with a valid Ansible Automation Platform subscription must have a configured WCA API key. When an authenticated RH-SSO user creates a task request in Red Hat Ansible Lightspeed, the WCA API key associated with the user&#8217;s Red Hat organization is used to authenticate the request to IBM watsonx Code Assistant.</p>
</div>
</li>
<li>
<p><strong>Model ID</strong></p>
<div class="paragraph">
<p>A unique WCA model ID identifies an IBM watsonx Code Assistant model in your IBM Cloud account. The model ID that you configure in the Ansible Lightspeed administrator portal is used as the default model, and can be accessed by all Ansible Lightspeed users within your organization.</p>
</div>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
You must configure both the WCA key and the model ID when you are initially configuring Red Hat Ansible Lightspeed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="obtain-config-wca-and-model-id_configure-code-assistant">3.2. Connecting Red Hat Ansible Lightspeed to IBM watsonx Code Assistant</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have obtained a WCA API key and a model ID from the IBM watsonx Code Assistant that you want to use in Red Hat Ansible Lightspeed.</p>
<div class="paragraph">
<p>For information about how to obtain a WCA API key and model ID from IBM watsonx Code Assistant, see the <a href="https://cloud.ibm.com/docs/watsonx-code-assistant">IBM watsonx Code Assistant documentation</a>.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed portal</a> as an organization administrator.</p>
</li>
<li>
<p>From the login screen, click <strong>Admin Portal</strong>.</p>
</li>
<li>
<p>Specify the WCA key of your IBM watsonx Code Assistant instance:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <strong>IBM Cloud API Key</strong>, click <strong>Add API key</strong>. A screen to enter the <strong>API Key</strong> is displayed.</p>
</li>
<li>
<p>Enter the API Key.</p>
</li>
<li>
<p>Optional: Click <strong>Test</strong> to validate the WCA key.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Specify the model ID of the model that you want to use:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <strong>Model Settings</strong>.</p>
</li>
<li>
<p>Under <strong>Model ID</strong>, click <strong>Add Model ID</strong>. A screen to enter the <strong>Model Id</strong> is displayed.</p>
</li>
<li>
<p>Enter the <strong>Model ID</strong> that you obtained in the previous procedure as the default model for your organization.</p>
</li>
<li>
<p>Optional: Click <strong>Test model ID</strong> to validate the model ID.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
<div class="paragraph">
<p>When the WCA API key and model ID is successfully validated, Red Hat Ansible Lightspeed is connected to your IBM watsonx Code Assistant instance.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="sect3 _additional-resources">
<h4 id="_additional_resources">3.2.1. Additional resources</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#troubleshooting-lightspeed-config_troubleshooting-lightspeed">Troubleshooting Red Hat Ansible Lightspeed configuration errors</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="logging-in-out-portal_lightspeed-user-guide">4. Logging in and out of the Ansible Lightspeed portal</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>You can access Ansible Lightspeed through the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed portal</a>. After you enter your Red Hat Single Sign-On (RH-SSO) account credentials, your account is authenticated and you are granted access. Your assigned user role is displayed on the login screen of the Ansible Lightspeed portal.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. User login scenarios</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Scenario</strong></th>
<th class="tableblock halign-left valign-top"><strong>Result</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">You are a RH-SSO user.<br>
NOTE: This is the typical scenario for accessing Red Hat Ansible Lightspeed as an Ansible user.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You are routed to the Red Hat Ansible Lightspeed paid commercial offering.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">You are a RH-SSO user, but your organization administrator has not configured Red Hat Ansible Lightspeed to connect with IBM watsonx Code Assistant.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You are routed to the Red Hat Ansible Lightspeed paid commercial offering with a message that your organization administrator has not configured a model for your organization.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="log-into-portal_logging-in-out-lightspeed-portal">4.1. Logging in to the Ansible Lightspeed portal</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Go to the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed portal login page</a>.</p>
</li>
<li>
<p>Click <span class="menuseq"><b class="menu">Log in</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Log in with Red Hat</b></span>.</p>
</li>
<li>
<p>Enter your Red Hat account username and password.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>On successful authentication, the login screen is displayed along with your username and your assigned user role.</p>
</div>
</div>
<div class="sect2">
<h3 id="log-out-of-portal_logging-in-out-lightspeed-portal">4.2. Logging out of the Ansible Lightspeed portal</h3>
<div class="paragraph _abstract">
<p>To log out of the Ansible Lightspeed Service, you must log out of both the Ansible Lightspeed VS Code extension and the Ansible Lightspeed portal.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Log out of the Ansible Lightspeed VS Code extension:</p>
<div class="ulist">
<ul>
<li>
<p>Click the <strong>Person</strong> icon <span class="image"><img src="images/person-icon-vs-code.png" alt="Person icon"></span>. You will see a list of accounts that VS Code is logged into.</p>
</li>
<li>
<p>Select <span class="menuseq"><b class="menu">Ansible Lightspeed</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Sign Out</b></span>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Log out of the Ansible Lightspeed portal:</p>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed portal login page</a>.</p>
</li>
<li>
<p>Click <strong>Log out</strong>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-with-code-assistant_lightspeed-user-guide">5. Installing and configuring the Ansible VS Code extension</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant is integrated with the Ansible Visual Studio (VS) Code extension in VS Code. The Ansible VS Code extension, with Red Hat Ansible Lightspeed features enabled, automatically collects recommendations, usage telemetry, and Ansible YAML file state through automated events.</p>
</div>
<div class="paragraph">
<p>To access Red Hat Ansible Lightspeed, all Ansible users must install and configure the Ansible VS Code extension in their VS Code. The Ansible VS Code extension uses the Ansible-specific IBM watsonx Granite model configured in the Red Hat Ansible Lightspeed administrator portal as the default mode for all users in your organization.</p>
</div>
<div class="paragraph">
<p>You can also use a custom, fine-tuned model if your organization administrator has created a custom model and has shared the model ID with you separately. You use the <strong>model-override</strong> setting in the Ansible VS Code extension to override the default model, and use the custom model instead. Using a custom model enables you to improve the code recommendation experience and tune the model to your organizational automation patterns. For example, if you are using Red Hat Ansible Lightspeed both as an organization administrator and an user, you can test the custom model for select Ansible users before making it available for all users in your organization. For more information, see <a href="#configuring-custom-models_lightspeed-user-guide">Configuring custom models</a>.</p>
</div>
<div class="sect2">
<h3 id="install-vscode-extension_configuring-with-code-assistant">5.1. Installing the Ansible VS Code Extension</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>VS Code version 1.70.1 or later.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can also install VScode derivatives, such as VScode Insider or VS Codium.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the VS Code application.</p>
</li>
<li>
<p>From the navigation menu, click the <strong>Extensions</strong> icon.</p>
</li>
<li>
<p>In the <strong>Search</strong> field, enter <strong>Ansible</strong>.</p>
</li>
<li>
<p>Select <strong>Ansible</strong> to choose the Ansible language support extension published by Red Hat.</p>
</li>
<li>
<p>Click <strong>Install</strong>.</p>
</li>
<li>
<p>After installation is complete, verify your VSCode installation:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create a new YAML file using the <code>.yml</code> or <code>.yaml</code> file extension.</p>
</li>
<li>
<p>From the <strong>Status</strong> toolbar, click the language indicator and select <strong>Ansible</strong> to associate the Ansible language type with the new YAML file.</p>
</li>
<li>
<p>Start writing a test playbook. Contextual aids are displayed as you start creating your content.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configure-vscode-extension_configuring-with-code-assistant">5.2. Configuring the Ansible VS Code extension</h3>
<div class="paragraph">
<p>You can configure the Ansible VS Code extension to enable Red Hat Ansible Lightspeed and specify it&#8217;s portal URL and WCA model ID.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Your organization administrator has configured an IBM watsonx Code Assistant model for your organization.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open the VS Code application.</p>
</li>
<li>
<p>From the Activity bar, click the <strong>Extensions</strong> icon <span class="image"><img src="images/extensions-icon-vscode.png" alt="Extensions"></span>.</p>
</li>
<li>
<p>From the Installed Extensions list, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>From the <strong>Ansible</strong> extension page, click the <strong>Settings</strong> icon and select <strong>Extension Settings</strong>.</p>
</li>
<li>
<p>Select <strong>Ansible Lightspeed</strong> settings, and specify the following information:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the <strong>Enable Ansible Lightspeed</strong> checkbox.</p>
</li>
<li>
<p>In the <strong>URL for Ansible Lightspeed</strong> field, verify that you have the following URL: <code>https://c.ai.ansible.redhat.com/</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Optional: If you want to use the custom model instead of the default model, in the <strong>Model ID Override</strong> field, enter the custom model ID. The <strong>model-override</strong> setting enables you to override the default model and use the custom model, after your organization administrator has created a custom model and has shared the model ID with you separately.</p>
<div class="paragraph">
<p>Your settings are automatically saved in VS Code.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following illustration displays the configured settings for the Ansible VS Code extension:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-vs-code-settings.png" alt="Configured settings for the Ansible VS Code extension">
</div>
<div class="title">Figure 1. Configured settings for the Ansible VS Code extension</div>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#troubleshooting-vscode_troubleshooting-lightspeed">Troubleshooting Ansible Visual Studio Code extension errors</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requesting-task-recommendations_lightspeed-user-guide">6. Requesting task recommendations</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>Red Hat Ansible Lightspeed is integrated into Visual Studio (VS) Code through the Ansible VS Code extension. You can request code recommendations for your task intent by using Ansible VS Code extension.</p>
</div>
<div class="sect2">
<h3 id="overview-and-best-practices_requesting-task-recommendations">6.1. Overview</h3>
<div class="paragraph">
<p>You can perform the following tasks from the Ansible VS Code extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Create single task or multitask requests by using natural language prompts</strong></p>
<div class="ulist">
<ul>
<li>
<p>Create a single task prompt</p>
<div class="paragraph">
<p>Write a description of your task in the <code>- name:</code> key of a new task line in your Ansible file. For example, to automate a task of installing PostgreSQL server, you can enter the prompt <code>- name: Install postgresql-server</code>.</p>
</div>
</li>
<li>
<p>Create a multitask prompt</p>
<div class="paragraph">
<p>Place your cursor on a new line in your Ansible YAML file at the correct indentation, and start your prompt with a Pound key (#).</p>
</div>
<div class="paragraph">
<p>Write the descriptions of your tasks, separating each prompt by using Ampersand symbols (&amp;). For example, to automate a multitask of installing PostgreSQL server and running the initial PostgreSQL setup command, you can enter the prompt <code># Install postgresql-server &amp; run postgresql-setup command</code>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Ansible Lightspeed service reads the text, interacts with the IBM watsonx Code Assistant model, and generates Ansible task recommendations based on your natural language prompt.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>View the content source matching results</strong></p>
<div class="paragraph">
<p>For each generated code recommendation, Red Hat Ansible Lightspeed lists content source matches, including details such as potential source, content author, and relevant licenses. You can use this data to gain insight into potential training data sources used to generate the code recommendations.</p>
</div>
</li>
<li>
<p><strong>Provide feedback on the Ansible Lightspeed service</strong></p>
<div class="paragraph">
<p>The Ansible Lightspeed service learns your organizational patterns and improves the code recommendation experience over time. You can provide feedback on whether the generated code recommendations were suitable for your task intent. This feedback enables Red Hat Ansible Lightspeed with IBM watsonx Code Assistant to improve on the quality of its suggestions.</p>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_best_practices_to_improve_the_recommended_guidance">6.1.1. Best practices to improve the recommended guidance</h4>
<div class="paragraph">
<p>Follow these guidelines to improve the likelihood of a quality code recommendation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ensure that your YAML file is properly formatted. See the <a href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html">Ansible YAML syntax guidelines</a> for details.</p>
</li>
<li>
<p>Avoid context switching within a single playbook file.</p>
<div class="paragraph">
<p>The Ansible Lightspeed service attempts to correlate earlier tasks to the active recommendation, and the entire contents of the file before the cursor position are used as context by the model. If the earlier task is not relevant to your prompt, VS code provides inline suggestions instead of code recommendations.</p>
</div>
</li>
<li>
<p>Reword your natural language prompts to get code recommendations that match your task intent.</p>
<div class="paragraph">
<p>If you get a recommendation that does not align with the intent of your task name, then rewording your prompt to provide more information about what is desired can lead to improved results.</p>
</div>
</li>
<li>
<p>Use descriptive prompts and provide additional content to improve the code recommendations.</p>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed reads the full Ansible YAML file when generating a code recommendation. Using descriptive prompts and having additional YAML file content related to the desired task improves the code recommendation. For example, you can add the previous Ansible tasks and appropriate playbook and variable names to improve the code recommendations.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="single-task-recs_requesting-task-recommendations">6.2. Requesting code recommendations for a single task</h3>
<div class="paragraph">
<p>You can request code recommendations for a single task by entering natural language prompts in Ansible VS Code extension. For example, to automate a task of installing a PostgreSQL server, you can enter the prompt <code>- name: Install postgresql-server</code>. The Ansible Lightspeed service reads the text, interacts with the IBM watsonx Code Assistant model, and generates the code recommendations.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are part of an organization that has a trial or paid subscription to both Ansible Automation Platform and IBM watsonx Code Assistant.</p>
</li>
<li>
<p>You have <a href="#configuring-with-code-assistant_lightspeed-user-guide">installed and configured the Ansible VS Code extension</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to VS Code with your Red Hat account.</p>
</li>
<li>
<p>Create a new YAML file or use an existing YAML file:</p>
<div class="ulist">
<ul>
<li>
<p>Create a YAML file:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Select <span class="menuseq"><b class="menu">File</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">New Text File</b></span>.</p>
</li>
<li>
<p>From the lower right of the screen, click <strong>Plain Text</strong>, and in the language mode, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>Save the file as a YAML file format extension (<code>.yml</code> or <code>.yaml</code>).</p>
</li>
</ol>
</div>
</li>
<li>
<p>Use an existing YAML file:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>On the bottom right of the screen, click the existing language mode, and in the language mode settings, select <strong>Ansible</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you do not see the language mode section in your VS Code editor, from the Command Palette, select <span class="menuseq"><b class="menu">Configure Langauge Mode</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Ansible</b></span>.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Verify that you see an entry for <strong>Lightspeed</strong> on the status bar at the lower right of VS Code.</p>
<div class="paragraph">
<p>If <strong>Ansible</strong> is already selected as the desired language but the <strong>Lightspeed</strong> entry is not displayed, re-select <strong>Ansible</strong> as the language mode. The following illustration shows <strong>Lightspeed</strong> and <strong>Ansible</strong> entries on the VS Code status bar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-vs-code.png" alt="Settings show Ansible and Lightspeed as selected language mode">
</div>
<div class="title">Figure 2. Ansible and Lightspeed set as selected language mode</div>
</div>
</li>
<li>
<p>Optional: If you see an error message about missing Ansible lint, you can install the missing module or disable it. Perform any one of the following tasks:</p>
<div class="ulist">
<ul>
<li>
<p>Install Ansible lint: For installation information, see the <a href="https://ansible.readthedocs.io/projects/lint/installing/">Installing</a> section of the Ansible Lint documentation.</p>
</li>
<li>
<p>Disable Ansible lint:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>From the Activity bar, click the <strong>Extensions</strong> icon <span class="image"><img src="images/extensions-icon-vscode.png" alt="Extensions"></span>.</p>
</li>
<li>
<p>From the <strong>Installed</strong> extensions list, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>From the <strong>Ansible</strong> extension page, click the <strong>Settings</strong> icon and select <strong>Extension Settings</strong>.</p>
</li>
<li>
<p>Clear the <strong>Ansible  Validation  Lint: Enabled</strong> checkbox.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Create a playbook or use an existing playbook.</p>
<div class="paragraph">
<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/red_hat_ansible_automation_platform_creator_guide/index#creating-playbooks">Creating playbooks</a> in the Ansible Automation Platform Creator Guide.</p>
</div>
</li>
<li>
<p>In the playbook, provide the following information to request code recommendations for a single task:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Add a new Ansible task by starting a new line with <code>- name:</code> at the correct indentation.</p>
</li>
<li>
<p>Add a detailed natural language prompt in the task description after <code>- name:</code> on the same line.
For example, you can specify the following single task prompt:
<code>- name: Install postgresql-server</code></p>
</li>
<li>
<p>Press <strong>Enter</strong> directly after the task description. Keep the cursor at the same location in your file, and wait for the code recommendation results to populate.</p>
<div class="paragraph">
<p>The Ansible Lightspeed service is engaged, and it starts generating code recommendations for a single task.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Ansible Lightspeed service takes around 5 seconds per task to populate the code recommendations. If you are using a multitask prompt, the Ansible Lightspeed service takes a bit longer (number of tasks times 5 seconds) to populate the results. Do not move your cursor or press any key while the code recommendation is being generated. If you change the cursor location or press any key, Ansible VS Code extension cancels the request and the Ansible Lightspeed service does not process your request.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the Ansible Lightspeed service is engaged, a <strong>Lightspeed</strong> processing status indicator is displayed in the lower right of the screen to denote that your code recommendation is being generated.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/lightspeed-task-in-progress.png" alt="Lightspeed icon"></span></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>View your code recommendations and ensure that the recommendations match your task intent.</p>
<div class="paragraph">
<p>The following illustration shows the code recommendations generated by the Ansible Lightspeed service for the single task <strong>Install postgresql-server</strong>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/lightspeed-single-task-in-progress.png" alt="Lightspeed single task in progress"></span></p>
</div>
</li>
<li>
<p>Accept or reject the code recommendations:</p>
<div class="ulist">
<ul>
<li>
<p>To accept a code recommendation, press <strong>Tab</strong>.</p>
</li>
<li>
<p>To reject a code recommendation, press <strong>Esc</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you reject a recommendation, you can modify the prompt and review the generated code recommendations once again to match your task intent.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>On the <strong>ANSIBLE: LIGHTSPEED TRAINING MATCHES</strong> tab, view the content source matching results.</p>
<div class="paragraph">
<p>The following illustration shows the training matches found in existing Ansible Galaxy content for the task prompt <strong>Install postgresql-server</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/single-task-training-content-match.png" alt="training matches in existing content">
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong> to save the code recommendation changes in your Ansible YAML file.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#troubleshooting-vscode_troubleshooting-lightspeed">Troubleshooting Ansible Visual Studio Code extension errors</a></p>
</li>
<li>
<p><a href="#troubleshooting-code-bot_troubleshooting-lightspeed">Troubleshooting Ansible code bot errors</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="multi-task-recs_requesting-task-recommendations">6.3. Requesting code recommendations for multiple tasks</h3>
<div class="paragraph">
<p>You can request multitask code recommendations by entering a sequence of natural language task prompts in Ansible VS Code extension. In a YAML file, start a comment by using a Pound key (#), and separate each prompt by using Ampersand (&amp;) symbols.</p>
</div>
<div class="paragraph">
<p>For example, to automate a multitask of installing PostgreSQL server and running the initial PostgreSQL setup command, you can enter the prompt <code># Install postgresql-server &amp; run postgresql-setup command</code>. The Ansible Lightspeed service reads the text, interacts with the IBM watsonx Code Assistant models, and generates the code recommendations.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are part of an organization that has a trial or paid subscription to both Ansible Automation Platform and IBM watsonx Code Assistant.</p>
</li>
<li>
<p>You have <a href="#configuring-with-code-assistant_lightspeed-user-guide">installed and configured the Ansible VS Code extension</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to VS Code with your Red Hat account.</p>
</li>
<li>
<p>Create a new YAML file or use an existing YAML file.</p>
<div class="ulist">
<ul>
<li>
<p>Create a YAML file:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Select <span class="menuseq"><b class="menu">File</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">New Text File</b></span>.</p>
</li>
<li>
<p>From the lower right of the screen, click <strong>Plain Text</strong>, and in the language mode, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>Save the file as a YAML file format extension (<code>.yml</code> or <code>.yaml</code>).</p>
</li>
</ol>
</div>
</li>
<li>
<p>Use an existing YAML file:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>On the bottom right of the screen, click the existing language mode, and in the language mode settings, select <strong>Ansible</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you do not see the language mode section in your VS Code editor, from the Command Palette, select <span class="menuseq"><b class="menu">Configure Langauge Mode</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Ansible</b></span>.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Verify that you see an entry for <strong>Lightspeed</strong> on the status bar at the lower right of VS Code.</p>
<div class="paragraph">
<p>If <strong>Ansible</strong> is already selected as the desired language but the <strong>Lightspeed</strong> entry is not displayed, re-select <strong>Ansible</strong> as the language mode. The following illustration shows <strong>Lightspeed</strong> entry on the VS Code status bar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-multitask-vs-code.png" alt="Settings show Lightspeed as selected language mode">
</div>
<div class="title">Figure 3. Ansible and Lightspeed set as selected language mode</div>
</div>
</li>
<li>
<p>Optional: If you see an error message about missing Ansible lint, you can install the missing module or disable it. Perform any one of the following tasks:</p>
<div class="ulist">
<ul>
<li>
<p>Install Ansible lint: For installation information, see the <a href="https://ansible.readthedocs.io/projects/lint/installing/">Installing</a> section of the Ansible Lint documentation.</p>
</li>
<li>
<p>Disable Ansible lint:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>From the Activity bar, click the <strong>Extensions</strong> icon <span class="image"><img src="images/extensions-icon-vscode.png" alt="Extensions"></span>.</p>
</li>
<li>
<p>From the <strong>Installed</strong> extensions list, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>From the <strong>Ansible</strong> extension page, click the <strong>Settings</strong> icon and select <strong>Extension Settings</strong>.</p>
</li>
<li>
<p>Clear the <strong>Ansible  Validation  Lint: Enabled</strong> checkbox.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Create a playbook or use an existing playbook.</p>
<div class="paragraph">
<p>For more information, see <a href="https://access.redhat.com/documentation/en-us/red_hat_ansible_automation_platform/2.4/html-single/red_hat_ansible_automation_platform_creator_guide/index#creating-playbooks">Creating playbooks</a> in the Ansible Automation Platform Creator Guide.</p>
</div>
</li>
<li>
<p>In the playbook, provide the following information to request multitask code recommendations:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Start a new YAML file comment by entering a Pound key (#) at the correct indentation.</p>
</li>
<li>
<p>Add a detailed natural language prompt in a sequence, separating each task by using an Ampersand (&amp;) symbol.
For example, to automate the multitask of installing PostgreSQL server and running the PostgreSQL setup command, enter the following  natural language prompt <code># Install postgresql-server &amp; run postgresql-setup command</code>.</p>
</li>
<li>
<p>Press <strong>Enter</strong> directly after the task description. Keep the cursor at the same location in your file, and wait for the code recommendation results to populate.</p>
<div class="paragraph">
<p>The Ansible Lightspeed service is engaged, and it starts generating code recommendations for multiple tasks.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Ansible Lightspeed service takes around 5 seconds per task to populate the code recommendations. If you are using a multitask prompt, the Ansible Lightspeed service takes a bit longer (number of tasks times 5 seconds) to populate the results. Do not move your cursor or press any key while the code recommendation is being generated. If you change the cursor location or press any key, Ansible VS Code extension cancels the request and the Ansible Lightspeed service does not process your request.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When the Ansible Lightspeed service is engaged, a <strong>Lightspeed</strong> processing status indicator is displayed in the lower right of the screen to denote that your code recommendation is being generated.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/lightspeed-task-in-progress.png" alt="Lightspeed icon"></span></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Optional: If multitask code recommendations are not being generated, log out of VS Code and log in again using your Red Hat account.</p>
</li>
<li>
<p>View your code recommendations and ensure that the recommendations match your task intent.</p>
<div class="paragraph">
<p>The following illustration shows the code recommendations generated by the Ansible Lightspeed service for the multitask prompt <strong>Install postgresql-server &amp; run postgresql-setup command</strong>:
:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/lightspeed-multitask-requests.png" alt="Lightspeed single task in progress"></span></p>
</div>
</li>
<li>
<p>Accept or reject the code recommendations:</p>
<div class="ulist">
<ul>
<li>
<p>To accept a code recommendation, press <strong>Tab</strong>.</p>
</li>
<li>
<p>To reject a code recommendation, press <strong>Esc</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you reject a recommendation, you can modify the prompt and review the generated code recommendations once again to match your task intent.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>On the <strong>ANSIBLE: LIGHTSPEED TRAINING MATCHES</strong> tab, view the content source matching results.</p>
<div class="paragraph">
<p>The following illustration shows the training matches found in existing Ansible Galaxy content for the task prompt multitask prompt <strong>Install postgresql-server &amp; run postgresql-setup command</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-multitask-content-matches.png" alt="training matches in existing content">
</div>
</div>
</li>
<li>
<p>Click <strong>Save</strong> to save the code recommendation changes in your Ansible YAML file.</p>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#troubleshooting-vscode_troubleshooting-lightspeed">Troubleshooting Ansible Visual Studio Code extension errors</a></p>
</li>
<li>
<p><a href="#troubleshooting-code-bot_troubleshooting-lightspeed">Troubleshooting Ansible code bot errors</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="view-training-matches_requesting-task-recommendations">6.4. Viewing Ansible Lightspeed training matches</h3>
<div class="paragraph">
<p>The Red Hat Ansible Lightspeed with IBM watsonx Code Assistant machine learning model is trained on the following content:
* Existing public or private Git repositories
* Content from Ansible Galaxy</p>
</div>
<div class="paragraph">
<p>Owing to IBM watsonx Code Assistant&#8217;s generative AI technology, as well as the types of Ansible content that were used to train the model, it is not possible to identify the specific set of training data that contributed to the generated code recommendations. However, Ansible Lightspeed provides a capability that helps you to understand the possible origins of generated code recommendations.</p>
</div>
<div class="paragraph">
<p>For each generated code recommendation, Red Hat Ansible Lightspeed lists the content source matches, including details such as potential source, content author, and relevant licenses. You can use this data to gain insight into potential training data sources used to generate the code recommendations.</p>
</div>
<div class="paragraph">
<p>After you enter a natural language prompt in VS Code and see the generated code recommendations, you can view the content source matches on the <strong>ANSIBLE: LIGHTSPEED TRAINING MATCHES</strong> tab.</p>
</div>
<div class="paragraph">
<p>For example, the following illustration shows the training matches for the multitask recommendation <strong>Install postgresql-server &amp; run postgresql-setup command</strong>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-multitask-content-matches.png" alt="Training matches for multitask recommendation">
</div>
<div class="title">Figure 4. Training matches for a multitask recommendation</div>
</div>
<div class="paragraph">
<p>This capability enables you to find out the open source license terms that are associated with related training data. However, it is unlikely that either the training data used in fine-tuning the code or the output recommendations themselves are protected by copyright, or that the output reproduces training data that is controlled by copyright licensing terms.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Red Hat does not claim any copyright or other intellectual property rights in the suggestions generated by Red Hat Ansible Lightspeed with IBM watsonx Code Assistant.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="provide-feedback_requesting-task-recommendations">6.5. Providing feedback on the Ansible Lightspeed service</h3>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed with IBM watsonx Code Assistant is designed to be improved through feedback on the quality of its suggestions. The technical details of user experiences with Red Hat Ansible Lightspeed are useful in informing further improvements.</p>
</div>
<div class="paragraph">
<p>You can submit feedback through the following channels:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From the Ansible VS Code extension: Use this method to provide feedback about the quality of the suggested code recommendations.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
Red Hat Support cannot assist with the suggestion quality reports. Content quality issues are routed to IBM for resolution.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>From <a href="access.redhat.com">the Red Hat customer portal</a>: Use this method to log bug reports and service disruption incidents, and feature requests.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
On the login screen of the <a href="https://c.ai.ansible.redhat.com/">Ansible Lightspeed Portal</a>, there is a <strong>Chat</strong> link that redirects you to a Matrix channel. Use the Matrix channel to ask questions pertaining to your Ansible Lightspeed experience and request help to troubleshoot your issues. However, the Matrix channel is not an official Support channel, and issues raised in the Matrix chat would not be tracked through Red Hat Service Level Agreement (SLA). To raise a bug or a feature request, contact Red Hat Support and open a support ticket.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You are part of an organization that has a trial or paid subscription to both Ansible Automation Platform and IBM watsonx Code Assistant.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Open Visual Studio Code.</p>
</li>
<li>
<p>Click the <strong>Lightspeed</strong> entry in your status bar to see options.</p>
</li>
<li>
<p>In the <strong>Tell us why</strong> field, provide your feedback. Here, provide feedback about what results you were expecting to receive, compared to what results were generated and the training match.</p>
</li>
<li>
<p>Select the issue type: <strong>Bug report</strong>, <strong>Feature request</strong>, or <strong>Suggestion feedback</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To raise a bug or feature request, contact Red Hat Support and open a support ticket. Bug features and feature requests made through Ansible Lightspeed feedback are not tracked through the Red Hat Service Level Agreement (SLA).
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Select the <strong>I understand that feedback is shared with Red Hat and IBM</strong> checkbox.</p>
</li>
<li>
<p>Click <strong>Send</strong>.</p>
<div class="paragraph">
<p>The following image shows an example of providing suggestion feedback:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-provide-feedback.png" alt="Providing feedback on Ansible Lightspeed">
</div>
<div class="title">Figure 5. Providing feedback on Ansible Lightspeed</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-code-bot-for-suggestions_lightspeed-user-guide">7. Installing and configuring Ansible code bot</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>The Ansible code bot scans existing content collections, roles, and playbooks hosted in GitHub repositories, and proactively creates pull requests whenever best practices or quality improvement recommendations are available. The bot automatically submits pull requests to the repository, which proactively alerts the repository owner to a recommended change to their content . You can configure Ansible code bot to scan your existing Git repositories (both public and private). Your organization must have an active subscription to Red Hat Ansible Automation Platform to use Ansible code bot.</p>
</div>
<div class="paragraph">
<p>Ansible code bot scans your code repositories to recommend code quality improvements. It promotes Ansible best practices while avoiding common errors that can lead to bugs or make code harder to maintain.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>Red Hat Ansible Lightspeed provides Ansible code bot in Service Preview, that you can deploy to your GitHub account.</p>
</li>
<li>
<p>Ansible code bot is supported on the following GitHub versions:</p>
<div class="ulist">
<ul>
<li>
<p>GitHub.com</p>
</li>
<li>
<p>GitHub Enterprise Cloud</p>
<div class="paragraph">
<p>Ansible code bot is not supported on GitHub Enterprise Server. For more information, see <a href="https://docs.github.com/en/enterprise-cloud@latest/get-started/learning-about-github/githubs-plans">GitHub&#8217;s plans</a> in the GitHub documentation.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following examples are code recommendations that the Ansible code bot can suggest:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Available alternatives for deprecated legacy syntax or implementation patterns</p>
</li>
<li>
<p>Module version changes and updates, such as:</p>
<div class="ulist">
<ul>
<li>
<p>Adding any new required parameters</p>
</li>
<li>
<p>Flagging deprecated parameters</p>
</li>
<li>
<p>Removing unused parameters</p>
</li>
</ul>
</div>
</li>
<li>
<p>Applying YAML best practices</p>
</li>
<li>
<p>Adding comment blocks</p>
</li>
<li>
<p>Fixing casing issues in name fields</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="install-code-bot_using-code-bot-for-suggestions">7.1. Installing Ansible code bot</h3>
<div class="paragraph">
<p>Install the Ansible code bot to get code recommendations.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to GitHub by using the account associated with your organization.</p>
</li>
<li>
<p>Install the GitHub app for the organization that you are a member of.</p>
</li>
<li>
<p>Go to the <a href="https://github.com/apps/ansible-code-bot">Ansible code bot</a> GitHub app.</p>
</li>
<li>
<p>Select the repositories that you want the app to access:</p>
<div class="ulist">
<ul>
<li>
<p><strong>All repositories</strong>: Provides access to read the metadata of all repositories.</p>
</li>
<li>
<p><strong>Only select repositories</strong>: Provides access to read the metadata of only the repositories that you select.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional: If you selected <strong>Only select repositories</strong> in the previous step, select the repositories that you want the Ansible code bot to access from the <strong>Select repositories</strong> list.</p>
</li>
<li>
<p>Click <strong>Install &amp; Authorize</strong>.
A message is displayed that specifies the following permissions are granted automatically to the bot during installation:</p>
<div class="ulist">
<ul>
<li>
<p>Read access to metadata</p>
</li>
<li>
<p>Read and write access to code and pull requests</p>
</li>
</ul>
</div>
</li>
<li>
<p>When prompted, log in to your {RH-SSO} account as an organization administrator. You are logged in to Ansible code bot.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following image shows the Ansible code bot login screen with a message stating <code>Your subscription is active</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/code_bot_login_screen.png" alt="Ansible Code bot login screen">
</div>
<div class="title">Figure 6. Ansible code bot login screen</div>
</div>
<div class="paragraph">
<p>After the Ansible code bot is installed for the Git repositories you selected, you can configure a schedule to scan your Git repositories at regular intervals. You can also manually scan your Git repositories if you have not set up a scanning schedule for your Ansible code bot or if you do not want to wait for the next scheduled scan.</p>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#configure-repo-scan_using-code-bot-for-suggestions">Configuring Ansible code bot to scan your repository at regular intervals</a></p>
</li>
<li>
<p><a href="#manually-scan-repo_using-code-bot-for-suggestions">Manually scanning your Git repositories</a></p>
</li>
<li>
<p><a href="#troubleshooting-code-bot_troubleshooting-lightspeed">Troubleshooting Ansible code bot errors</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configure-repo-scan_using-code-bot-for-suggestions">7.2. Configuring Ansible code bot to scan your repository at regular intervals</h3>
<div class="paragraph">
<p>You can schedule the Ansible code bot to scan your repositories at daily, weekly, or monthly intervals. To specify the scan schedule, use the configuration file <code>ansible-code-bot.yml</code> that was created automatically when Ansible code bot was installed. If the file is not created automatically, use the procedure below to create the <code>ansible-code-bot.yml</code> file and specify your scan schedule.</p>
</div>
<div class="paragraph">
<p>You can specify one of following interval cadence to scan your Git repositories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Daily: Runs every day from Monday to Sunday.</p>
</li>
<li>
<p>Weekly: Runs once a week. By default, this is on Monday.</p>
</li>
<li>
<p>Monthly: Runs on the first day of the month, once each month.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each interval cadence, Ansible code bot starts scanning your Git repositories at 9 AM UTC.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In GitHub, navigate to the configuration file in the repository that you want to scan.</p>
</li>
<li>
<p>Optional: If the <code>ansible-code-bot.yml</code> file was not created automatically, manually create a <code>.yml</code> configuration file named <code>ansible-code-bot.yml</code> in your repository <code>.github</code> folder. For example, <code>.github/ansible-code-bot.yml</code>.</p>
</li>
<li>
<p>In the configuration file, specify the <code>interval</code> parameter. You can specify the <code>interval</code> parameter as <strong>daily</strong>, <strong>weekly</strong>, or <strong>monthly</strong>. For example:</p>
<div class="listingblock">
<div class="content">
<pre>schedule:
  interval: "&lt;daily | weekly | monthly&gt;"</pre>
</div>
</div>
</li>
<li>
<p>Save your changes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ansible code bot starts scanning your repository per the schedule you configured at 9 AM UTC time.</p>
</div>
</div>
<div class="sect2">
<h3 id="manually-scan-repo_using-code-bot-for-suggestions">7.3. Manually scanning your Git repositories</h3>
<div class="paragraph">
<p>You can manually scan your Git repositories if you did not set up a scanning schedule for your Ansible code bot or if you do not want to wait for the next scheduled scan.</p>
</div>
<div class="paragraph">
<p>If the avoid duplicate PRs condition is not met, then a manual scan results in a new PR with all the necessary Ansible code bot recommendations.</p>
</div>
<div class="paragraph">
<p>Following are the avoid duplicate conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verify that the Ansible code bot pull request (PR) already exists, and is on the latest commit main branch. If this condition is met, you can skip the scan.</p>
</li>
<li>
<p>If there is an existing PR but it is not on the latest commit branch, the Ansible code bot takes a PR difference. If there is no difference, then the bot skips pushing the scan results as a new pull request.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>In GitHub, go to the main page of the repository that you want to scan.</p>
</li>
<li>
<p>To modify the repository settings, click the <strong>Settings</strong> icon beside the <strong>About</strong> area.</p>
</li>
<li>
<p>In the <strong>Topics</strong> field, enter the keyword topic <strong>ansible-code-bot-scan</strong> to the repository.</p>
<div class="paragraph">
<p>The following illustration shows the keyword topic for starting a manual scan:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/lightspeed-ansible-code-bot-manual-trigger-setting.png" alt="Ansible code bot settings">
</div>
</div>
</li>
<li>
<p>Click <strong>Save changes</strong>.</p>
<div class="paragraph">
<p>Based on the repository webhook event, Ansible code bot starts a manual scan of your repository.
If the avoid duplicate pull requests condition is not met, then the manual scan results in a new pull request with all the necessary Ansible code bot recommendations.</p>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#troubleshooting-code-bot_troubleshooting-lightspeed">Troubleshooting Ansible code bot errors</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ansible-code-bot-duplicate-pr">7.4. How Ansible code bot handles duplicate pull requests</h3>
<div class="ulist">
<ul>
<li>
<p>If Ansible code bot has created a pull request on the latest commit default branch, it does not scan the repository. The bot skips scanning the repository because the pull request was committed on the latest default branch, and no new commit was made after that pull request.</p>
</li>
<li>
<p>If there is an existing pull request that is not on the latest commit default branch, Ansible code bot does a pull request difference to compare the changes in both the branches. The following scenarios are possible:</p>
<div class="ulist">
<ul>
<li>
<p><strong>There is no difference in the existing and new scan results</strong>: Ansible code bot does not push the scan results as a new pull request.</p>
</li>
<li>
<p><strong>There are differences found in the existing and the new scan results</strong>: Ansible code bot creates a new pull request. The newly-created pull request does not close the existing pull request, against which the pull request difference was noted. This behavior makes it easier for the repository administrator to review only the latest pull request created by the Ansible code bot, and the administrator can avoid reviewing the older pull requests created by the bot. If required, the administrator can close the older pull requests.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-custom-models_lightspeed-user-guide">8. Configuring custom models</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>As an organization administrator, you can create and use fine-tuned, custom models that are trained on your organization&#8217;s existing Ansible content. With this capability, you can tune the models to your organization&#8217;s automation patterns and improve the code recommendation experience.</p>
</div>
<div class="paragraph">
<p>You can configure multiple custom models for your organization. For example, you can create a custom model for your corporate IT automation team and a different one for your engineering team&#8217;s infrastructure. You can also configure a custom model to make it available for all Ansible users or select Ansible users in your organization.</p>
</div>
<div class="sect2">
<h3 id="_process_for_configuring_custom_models">8.1. Process for configuring custom models</h3>
<div class="paragraph">
<p>To configure a custom model, perform the following tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#ansible-content-parser_configuring-custom-models">Create a training data set by using content parser tool</a></p>
</li>
<li>
<p><a href="#create-deploy-custom-model-ibm_configuring-custom-models">Create and deploy a custom model by using IBM watsonx Code Assistant</a></p>
</li>
<li>
<p><a href="#configure-custom-models-lightspeed_configuring-custom-models">Configure Red Hat Ansible Lightspeed to use the custom model</a></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="ansible-content-parser_configuring-custom-models">8.2. Creating a training data set by using content parser tool</h3>
<div class="paragraph _abstract">
<p>Use the content parser tool, a command-line interface (CLI) tool, to scan your existing Ansible files and generate a custom model training data set. The training data set includes a list of Ansible files and their paths relative to the project root. You can then upload this data set to IBM watsonx Code Assistant, and use it to create a custom model that is trained on your organization&#8217;s existing Ansible content.</p>
</div>
<div class="sect3">
<h4 id="_methods_of_creating_training_data_sets">8.2.1. Methods of creating training data sets</h4>
<div class="paragraph">
<p>You can generate a training data set by using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>With ansible-lint preprocessing</strong></p>
<div class="paragraph">
<p>By default, the content parser tool generates training data sets by using ansible-lint preprocessing. The content parser tool uses ansible-lint rules to scan your Ansible files and ensure that the content adheres to Ansible best practices. If rule violations are found, the content parser tool excludes these files from the generated output. In such scenarios, you must resolve the rule violations, and run the content parser tool once again so that the generated output includes all your Ansible files.</p>
</div>
</li>
<li>
<p><strong>Without ansible-lint preprocessing</strong></p>
<div class="paragraph">
<p>You can generate a training data set without ansible-lint preprocessing. In this method, the content parser tool does not scan your Ansible files for ansible-lint rule violations; therefore, the training data set includes all files. Although the training data set includes all files, it might not adhere to Ansible best practices and could affect the quality of your code recommendation experience.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_supported_data_sources">8.2.2. Supported data sources</h4>
<div class="paragraph">
<p>The content parser tool scans the following directories and file formats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Local directories</p>
</li>
<li>
<p>Archived files, such as <code>.zip</code>, <code>.tar</code>, <code>.tar.gz</code>, <code>.tar.bz2</code>, and <code>.tar.xz</code> files</p>
</li>
<li>
<p>Git repository URLs (includes both private and public repositories)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_process_of_creating_a_training_data_set">8.2.3. Process of creating a training data set</h4>
<div class="paragraph">
<p>To create a custom model training data set, perform the following tasks:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#install-content-parser_configuring-custom-models">Install content parser tool on your computer</a></p>
</li>
<li>
<p><a href="#generate-training-data-set_configuring-custom-models">Generate a custom model training data set</a></p>
</li>
<li>
<p><a href="#view-content-parser-output_configuring-custom-models">View the generated training data set</a></p>
</li>
<li>
<p>(Optional: If you generated a training data set with ansible-lint preprocessing and detected ansible-lint rule violations) <a href="#resolve-ansible-lint-rule-violations_configuring-custom-models">Resolve ansible-lint rule violations</a></p>
</li>
<li>
<p>(Optional: If you generated multiple training data sets) <a href="#merge-multiple-jsonl-files_configuring-custom-models">Merge multiple training data sets into a single JSONL file</a></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="install-content-parser_configuring-custom-models">8.2.4. Installing content parser tool</h4>
<div class="paragraph">
<p>Install the content parser tool, a command-line interface (CLI) tool, on your computer.</p>
</div>
<div class="paragraph">
<div class="title">Prerequisites</div>
<p>Ensure that your computer has one of the following supported OS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Python version 3.10 or later.</p>
</li>
<li>
<p>UNIX OS, such as Linux or Mac OS.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Installation of the content parser tool on Microsoft Windows OS is not supported.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a working directory and set up <code>venv</code> Python virtual environment:</p>
<div class="paragraph">
<p><code>$ python -m venv ./venv</code></p>
</div>
<div class="paragraph">
<p><code>$ source ./venv/bin/activate</code></p>
</div>
</li>
<li>
<p>Install the latest version of content parser tool from the <code>pip</code> repository:</p>
<div class="paragraph">
<p><code>$ pip install --upgrade pip</code></p>
</div>
<div class="paragraph">
<p><code>$ pip install --upgrade ansible-content-parser</code></p>
</div>
</li>
<li>
<p>Perform one of the following tasks:</p>
<div class="ulist">
<ul>
<li>
<p>To generate a training data set without ansible-lint preprocessing, go to section <a href="#generate-training-data-set_configuring-custom-models">Generating a custom model training data set</a>.</p>
</li>
<li>
<p>To generate a training data set with ansible-lint preprocessing, ensure that you have the latest version of ansible-lint installed on your computer:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>View the ansible-lint versions that are installed on your computer.</p>
<div class="paragraph">
<p><code>$ ansible-content-parser --version</code></p>
</div>
<div class="paragraph">
<p><code>$ ansible-lint --version</code></p>
</div>
<div class="paragraph">
<p>A list of application versions and their dependencies are displayed.</p>
</div>
</li>
<li>
<p>In the output, verify that the version of ansible-lint that was installed with the content parser tool is the same as that of the previously-installed ansible-lint. A mismatch in the installed ansible-lint versions causes inconsistent results from the content parser tool and ansible-lint.</p>
<div class="paragraph">
<p>For example, in the following output, the content parser tool installation includes ansible-lint version 6.20.0 which is a mismatch from previously-installed ansible-lint version 6.13.1:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ansible-content-parser --version
ansible-content-parser 0.0.1 using ansible-lint:6.20.0 ansible-core:2.15.4
$ ansible-lint --version
ansible-lint 6.13.1 using ansible 2.15.4
A new release of ansible-lint is available: 6.13.1  6.20.0</pre>
</div>
</div>
</li>
<li>
<p>If there is a mismatch in the ansible-lint versions, deactivate and reactivate <code>venv</code> Python virtual environment:</p>
<div class="paragraph">
<p><code>$ deactivate</code></p>
</div>
<div class="paragraph">
<p><code>$ source ./venv/bin/activate</code></p>
</div>
</li>
<li>
<p>Verify that the version of ansible-lint that is installed with the content parser tool is the same as that of the previously-installed ansible-lint:</p>
<div class="paragraph">
<p><code>$ ansible-content-parser --version</code></p>
</div>
<div class="paragraph">
<p><code>$ ansible-lint --version</code></p>
</div>
<div class="paragraph">
<p>For example, the following output shows that both ansible-lint installations on your computer are of version 6.20.0:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ansible-content-parser --version
ansible-content-parser 0.0.1 using ansible-lint:6.20.0 ansible-core:2.15.4
$ ansible-lint --version
ansible-lint 6.20.0 using ansible-core:2.15.4
ansible-compat:4.1.10 ruamel-yaml:0.17.32 ruamel-yaml-clib:0.2.7</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="generate-training-data-set_configuring-custom-models">8.2.5. Generating a custom model training data set</h4>
<div class="paragraph">
<p>After installing content parser tool, run it to scan your custom Ansible files and generate a custom model training data set. The training data set includes a list of Ansible files and their paths relative to the project root. You can then upload the training data set to IBM watsonx Code Assistant and create a custom model for your organization. If you used ansible-lint preprocessing and encountered rule violations, you must <a href="#resolve-ansible-lint-rule-violations_configuring-custom-models">resolve the rule violations</a> before uploading the training data set to IBM watsonx Code Assistant.</p>
</div>
<div class="sect4">
<h5 id="_methods_of_generating_a_training_data_set">Methods of generating a training data set</h5>
<div class="paragraph">
<p>You can generate a training data set by using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>With ansible-lint preprocessing</strong></p>
<div class="paragraph">
<p>By default, the content parser tool generates training data sets by using ansible-lint preprocessing. The content parser tool uses ansible-lint rules to scan your Ansible files and ensure that the content adheres to Ansible best practices. If rule violations are found, the content parser tool excludes these files from the generated output. In such scenarios, you must resolve the rule violations, and run the content parser tool once again so that the generated output includes all your Ansible files.</p>
</div>
</li>
<li>
<p><strong>Without ansible-lint preprocessing</strong></p>
<div class="paragraph">
<p>You can generate a training data set without ansible-lint preprocessing. In this method, the content parser tool does not scan your Ansible files for ansible-lint rule violations; therefore, the training data set includes all files. Although the training data set includes all files, it might not adhere to Ansible best practices and could affect the quality of your code recommendation experience.</p>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You must have installed content parser tool on your computer.</p>
</li>
<li>
<p>You must have verified that the version of ansible-lint that is installed with the content parser tool is the same as that of the previously-installed ansible-lint.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Run the content parser tool to generate a training data set:</p>
<div class="ulist">
<ul>
<li>
<p>With ansible-lint preprocessing: <code>$ ansible-content-parser <em>source</em> <em>output</em></code></p>
</li>
<li>
<p>Without ansible-lint preprocessing: <code>$ ansible-content-parser <em>source</em> <em>output</em> <em>-S</em></code></p>
<div class="paragraph">
<p>The following table lists the required parameters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>source</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the source of the training data set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>output</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the output of the training data set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><em>-S</em></code> or <code><em>--skip-ansible-lint</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies to skip ansible-lint preprocessing while generating the training data set.</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:
If the source is a Github URL <a href="https://github.com/ansible/ansible-tower-samples.git" class="bare">https://github.com/ansible/ansible-tower-samples.git</a>, and the output directory is <code>/tmp/out</code>, the command prompt is as follows:<br>
<code>$ ansible-content-parser <a href="https://github.com/ansible/ansible-tower-samples.git" class="bare">https://github.com/ansible/ansible-tower-samples.git</a> /tmp/out</code></p>
</div>
</li>
<li>
<p>Optional: To generate a training data set with additional information, specify the following parameters while running the content parser tool.</p>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source-license</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies to include the licensing information of the source directory in the training data set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--source-description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies to include the descriptions of the source directory in the training data set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--repo-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies to include the repository name in the training data set. If you do not specify the repository name, the content parser tool automatically generates it from the source name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--repo-url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies to include the repository URL in the training data set. If you do not specify the repository URL, the content parser tool automatically generates it from the source URL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-v</code> or <code>--verbose</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays the console logging information.</p></td>
</tr>
</tbody>
</table>
<div class="literalblock">
<div class="title">Example of a command prompt for Github repository <strong>ansible-tower-samples</strong></div>
<div class="content">
<pre>$ ansible-content-parser --profile min \
--source-license undefined \
--source-description Samples \
--repo-name ansible-tower-samples \
--repo-url 'https://github.com/ansible/ansible-tower-samples' \
git@github.com:ansible/ansible-tower-samples.git /var/tmp/out_dir</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Example of a generated training data set for Github repository <strong>ansible-tower-samples</strong></div>
<p>The training data set is formatted with Jeff Goldblum (jg), a command-line JSON processing tool.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ cat out_dir/ftdata.jsonl| jq
{
"data_source_description": "Samples",
"input": "---\n- name: Hello World Sample\n hosts: all\n tasks:\n - name: Hello Message",
"license": "undefined",
"module": "debug",
"output": " debug:\n msg: Hello World!",
"path": "hello_world.yml",
"repo_name": "ansible-tower-samples",
"repo_url": "https://github.com/ansible/ansible-tower-samples"
}</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="view-content-parser-output_configuring-custom-models">8.2.6. Viewing the generated training data set</h4>
<div class="paragraph">
<p>After content parser tool scans your Ansible files, it generates the training data set in an output subdirectory within your local directory. The training data set includes a <strong>ftdata.jsonl</strong> file, which is the main output of the content parser tool. The file is available in JSON Lines files format, where each line entry represents a JSON object. You must upload this JSONL file to IBM watsonx Code Assistant to create a custom model.</p>
</div>
<div class="sect4">
<h5 id="_structure_of_custom_model_training_data_set">Structure of custom model training data set</h5>
<div class="paragraph">
<p>The following is the file structure of an output subdirectory:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>output/
  |-- ftdata.jsonl  # Training dataset <b class="conum">(1)</b>
  |-- report.txt   # A human-readable report <b class="conum">(2)</b>
  |
  |-- repository/ <b class="conum">(3)</b>
  |     |-- (files copied from the source repository)
  |
  |-- metadata/ <b class="conum">(4)</b>
        |-- (metadata files generated during the execution)</pre>
</div>
</div>
<div class="colist arabic">
<div class="title">Where:</div>
<ol>
<li>
<p><strong>ftdata.jsonl</strong>: A training data set file, which is the main output of the content parser tool. The file is available in JSON Lines files format, where each line entry represents a JSON object. You must upload this JSONL file in IBM watsonx Code Assistant to create a custom model.</p>
</li>
<li>
<p><strong>report.txt</strong>: A human-readable text file that provides a summary of all content parser tool executions.</p>
</li>
<li>
<p><strong>repository</strong>: A directory that contains files from the source repository. Sometimes, ansible-lint updates the directory according to the configured rules, so the file contents of the output directory might differ from the source repository.</p>
</li>
<li>
<p><strong>metadata</strong>: A directory that contains multiple metadata files that are generated during each content parser tool execution.</p>
</li>
</ol>
</div>
<div class="sect5">
<h6 id="_using_report_txt_file_to_resolve_ansible_lint_rule_violations">Using report.txt file to resolve ansible-lint rule violations</h6>
<div class="paragraph">
<p>The <strong>report.txt</strong> file, that can be used to resolve ansible-lint rule violations, contains the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>File counts per type: A list of files according to their file types, such as playbooks, tasks, handlers, and jinja2.</p>
</li>
<li>
<p>List of Ansible files that were identified: A list of files identified by ansible-lint with a file name, a file type, and whether the file was excluded from further processing, or automatically fixed by ansible-lint.</p>
</li>
<li>
<p>List of Ansible modules found in tasks: A list of modules identified by ansible-lint with a module name, a module type, and whether the file was excluded from further processing, or automatically fixed by ansible-lint.</p>
</li>
<li>
<p>Issues found by ansible-lint: A list of issues along with a brief summary of ansible-lint execution results. If ansible-lint encounters files with syntax-check errors in the first execution, then ansible-runs initiates a second execution and  excludes the files with errors from the scan. You can use this information to resolve ansible-lint rule violations.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resolve-ansible-lint-rule-violations_configuring-custom-models">8.2.7. Resolving ansible-lint rule violations</h4>
<div class="paragraph">
<p>By default, the content parser tool uses ansible-lint rules to scan your Ansible files and ensure that the content adheres to Ansible best practices. If rule violations are found, the content parser tool excludes these files from the generated output. In such scenarios, it is recommended that you fix the files with rule violations before uploading the training data set to IBM watsonx Code Assistant.</p>
</div>
<div class="paragraph">
<p>By default, ansible-lint applies the rules that are configured in <code>ansible-lint/src/ansiblelint/rules</code> while scanning your Ansible files. For more information about ansible-lint rules, see the <a href="https://ansible.readthedocs.io/projects/lint/">Ansible Lint documentation</a>.</p>
</div>
<div class="sect4">
<h5 id="_how_does_the_content_parser_tool_handle_rule_violations">How does the content parser tool handle rule violations?</h5>
<div class="ulist">
<ul>
<li>
<p><strong>Using autofixes</strong></p>
<div class="paragraph">
<p>The content parser tool runs ansible-lint with the <code>--fix=all</code> option to perform autofixes, which can fix or simplify fixing issues identified by that rule.</p>
</div>
<div class="paragraph">
<p>If ansible-lint identifies rule violations that have an associated autofix, it automatically fixes or simplifies the issues that violate the rules. If ansible-lint identifies rule violations that do not have an associated autofix, it reports these instances as rule violations which you must fix manually.
For more information about autofixes, see <a href="https://ansible.readthedocs.io/projects/lint/autofix/">Autofix</a> in Ansible Lint Documentation.</p>
</div>
</li>
<li>
<p><strong>Using syntax-checks</strong></p>
<div class="paragraph">
<p>Ansible-lint also performs syntax checks while scanning your Ansible files. If any syntax-check errors are found, ansible-lint stops processing the files.
For more information about syntax-check errors, see <a href="https://ansible.readthedocs.io/projects/lint/rules/syntax-check/">syntax-check</a> in Ansible Lint Documentation.</p>
</div>
<div class="paragraph">
<p>The content parser tool handles syntax-check rule violations in the following manner:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If <code>syntax-check</code> errors are found in the first execution of ansible-lint, content parser tool generates a list of files that contain the rule violations.</p>
</li>
<li>
<p>If one or more <code>syntax-check</code> errors are found in the first execution of ansible-lint, the content parser tool runs ansible-lint again but excludes the files with syntax-check errors. After the scan is completed, the content parser tool generates a list of files that contain rule violations. The list includes all files that caused syntax-check errors as well as other rule violations.  The content parser tool excludes files with rule violations in all future scans, and the final training data set does not include data from the excluded files.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>Use one of the following methods to resolve ansible-lint rule violations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Run the content parser tool with the  <code>--no-exclude</code> option
If any rule violations, including syntax-check errors, are found, the execution is aborted with an error and no training data set is created.</p>
</li>
<li>
<p>Limit the set of rules that ansible-lint uses to scan your data with the <code>--profile</code> option</p>
<div class="paragraph">
<p>It is recommended that you fix the files with rule violations. However, if you do not want to modify the source files, you can limit the set of rules that ansible-lint uses to scan your data.
To limit the set of rules that ansible-lint uses to scan your data, specify the <code>--profile</code> option with a predefined profile (for example, minimum, basic, moderate, safety, shared, or production profiles) or by using ansible-lint configuration files. For more information, see the <a href="https://ansible.readthedocs.io/projects/lint/">Ansible Lint documentation</a>.</p>
</div>
</li>
<li>
<p>Run the content parser tool by skipping ansible-lint preprocessing
You can run the content parser without ansible-lint preprocessing. The content parser tool generates a training data set without scanning for ansible-lint rule violations.</p>
<div class="paragraph">
<p>To run content parser tool without ansible-lint preprocessing, execute the following command:<br>
<code>$ ansible-content-parser <em>source</em> <em>output</em> <em>-S</em></code></p>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>source</em></code>: Specifies the source of the training data set.</p>
</li>
<li>
<p><code><em>output</em></code>: Specifies the output of the training data set.</p>
</li>
<li>
<p><code><em>-S</em></code> or <code><em>--skip-ansible-lint</em></code>: Specifies to skip ansible-lint preprocessing while generating the training data set.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="merge-multiple-jsonl-files_configuring-custom-models">8.2.8. Merging multiple training data sets into a single file</h4>
<div class="paragraph">
<p>For every execution, the content parser tool creates a training data set JSONL file named <strong>ftdata.jsonl</strong> that you upload to IBM watsonx Code Assistant for creating a custom model. If the content parser tool runs multiple times, multiple JSONL files are created. IBM watsonx Code Assistant supports a single JSONL file upload only; therefore, if you have multiple JSONL files, you must merge them into a single, concatenated file. You can also merge the multiple JSONL files that are generated in multiple subdirectories within a parent directory into a single file.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Using the command prompt, go to the parent directory.</p>
</li>
<li>
<p>Run the following command to create a single, concatenated file:<br>
<code>find . -name ftdata.json | xargs cat &gt; concatenated.json</code></p>
</li>
<li>
<p>Optional: Rename the concatenated file for easy identification.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can now upload the merged JSONL file to IBM watsonx Code Assistant and create a custom model.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-deploy-custom-model-ibm_configuring-custom-models">8.3. Create and deploy a custom model in IBM watsonx Code Assistant</h3>
<div class="paragraph">
<p>After the content parser tool generates a custom model training data set, upload the JSONL file <strong>ftdata.jsonl</strong> to IBM watsonx Code Assistant and create a custom model for your organization.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
IBM watsonx Code Assistant might take a few hours to create a custom model, depending on the size of your training data set. You must continue monitoring the IBM Tuning Studio for the status of custom model creation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For information about how to create and deploy a custom model in IBM watsonx Code Assistant, see the <a href="https://cloud.ibm.com/docs/watsonx-code-assistant">IBM watsonx Code Assistant documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configure-custom-models-lightspeed_configuring-custom-models">8.4. Configuring Red Hat Ansible Lightspeed to use custom models</h3>
<div class="paragraph">
<p>After you create and deploy a custom model in IBM watsonx Code Assistant, you must configure Red Hat Ansible Lightspeed so that you can use the custom model for your organization.</p>
</div>
<div class="paragraph">
<p>You can specify one of the following configurations for using the custom model:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Enable access for all users in your organization</strong></p>
<div class="paragraph">
<p>You can configure the custom model as the default model for your organization. All users in your organization can use the custom model.</p>
</div>
</li>
<li>
<p><strong>Enable access for select Ansible users in your organization</strong></p>
<div class="paragraph">
<p>Using the <strong>model-override</strong> setting, you can configure the custom model and make it available for select Ansible users only. For example, if you are using Red Hat Ansible Lightspeed both as an organization administrator and an end user, you can test the custom model for select Ansible users before making it available for all users in your organization.</p>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_configuring_the_custom_model_for_all_ansible_users_in_your_organization">8.4.1. Configuring the custom model for all Ansible users in your organization</h4>
<div class="paragraph">
<p>You can configure the custom model as the default model for your organization, so that all users in your organization can use the custom model.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to the <a href="https://console.redhat.com/preview/ansible/seats-administration">Ansible Lightspeed with IBM watsonx Code Assistant Hybrid Cloud Console</a> as an organization administrator.</p>
</li>
<li>
<p>Specify the model ID of the custom model:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <strong>Model Settings</strong>.</p>
</li>
<li>
<p>Under <strong>Model ID</strong>, click <strong>Add Model ID</strong>. A screen to enter the <strong>Model ID</strong> is displayed.</p>
</li>
<li>
<p>Enter the <strong>Model ID</strong> of the custom model.</p>
</li>
<li>
<p>Optional: Click <strong>Test model ID</strong> to validate the model ID.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_the_custom_model_for_select_ansible_users_in_your_organization">8.4.2. Configuring the custom model for select Ansible users in your organization</h4>
<div class="paragraph">
<p>Using the <strong>model-override</strong> setting in Ansible Visual Studio (VS) Code, you can configure the custom model and make it available for select Ansible users only. For example, If you are using Red Hat Ansible Lightspeed as both an organization administrator and an end user, you can test the custom model for select Ansible users before making it available for all users in your organization.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Log in to the VS Code application using your Red Hat account.</p>
</li>
<li>
<p>From the Activity bar, click the <strong>Extensions</strong> icon <span class="image"><img src="images/extensions-icon-vscode.png" alt="Extensions"></span>.</p>
</li>
<li>
<p>From the Installed Extensions list, select <strong>Ansible</strong>.</p>
</li>
<li>
<p>From the <strong>Ansible</strong> extension page, click the <strong>Settings</strong> icon and select <strong>Extension Settings</strong>.</p>
</li>
<li>
<p>From the list of settings, select <strong>Ansible Lightspeed</strong>.</p>
</li>
<li>
<p>In the <strong>Model ID Override</strong> field, enter the model ID of the custom model.</p>
<div class="paragraph">
<p>Your settings are automatically saved in VS Code, and you can now use the custom model.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting-lightspeed_lightspeed-user-guide">9. Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph _abstract">
<p>This section contains information to help you diagnose and resolve issues with using Red Hat Ansible Lightspeed with IBM watsonx Code Assistant.</p>
</div>
<div class="sect2">
<h3 id="troubleshooting-lightspeed-config_troubleshooting-lightspeed">9.1. Troubleshooting Red Hat Ansible Lightspeed configuration errors</h3>
<div class="sect3">
<h4 id="_cannot_access_the_ansible_lightspeed_administrator_portal">9.1.1. Cannot access the Ansible Lightspeed administrator portal</h4>
<div class="paragraph">
<p>The Ansible Lightspeed administrator portal can be accessed by the Red Hat organization administrator only.</p>
</div>
<div class="paragraph">
<p>If you are the Red Hat organization administrator, before you access the Ansible Lightspeed administrator portal, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have a valid Ansible Automation Platform subscription.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_save_the_wca_key">9.1.2. Cannot save the WCA key</h4>
<div class="paragraph">
<p>When you enter the Watsonx Code Assistant (WCA) API key, authentication fails and shows the following error message:</p>
</div>
<div class="paragraph">
<p><code>IBM Cloud API key is invalid</code></p>
</div>
<div class="paragraph">
<p>Red Hat Ansible Lightspeed verifies the WCA API key by generating an associated access token. To resolve the error, ensure that you have not accidentally included any extra spaces when obtaining the WCA API key from IBM watsonx Code Assistant. If you still cannot upload the WCA key, contact IBM support.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_configure_the_model_id_due_to_authentication_failure">9.1.3. Cannot configure the model ID due to authentication failure</h4>
<div class="paragraph">
<p>When you enter the model ID in the Red Hat Ansible Lightspeed administrator portal, the authentication fails.</p>
</div>
<div class="paragraph">
<p>To resolve the error, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have configured a valid WCA API key before you upload the model ID.</p>
</li>
<li>
<p>You have not accidentally included any extra spaces when entering the model ID.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_configure_the_model_id_due_to_inference_failure">9.1.4. Cannot configure the model ID due to inference failure</h4>
<div class="paragraph">
<p>While validating the model ID, Red Hat Ansible Lightspeed performs a test inference. If Red Hat Ansible Lightspeed detects an error, the validation fails and an <code>Inference failed</code> message is displayed.</p>
</div>
<div class="paragraph">
<p>To resolve the error, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have a valid WCA API key and model ID.</p>
</li>
<li>
<p>You have not accidentally included any extra spaces when obtaining the WCA key and model ID from IBM watsonx Code Assistant.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-vscode_troubleshooting-lightspeed">9.2. Troubleshooting Ansible Visual Studio Code extension errors</h3>
<div class="sect3">
<h4 id="_cannot_view_the_generated_code_recommendations_using_the_ansible_vs_code_extension">9.2.1. Cannot view the generated code recommendations using the Ansible VS Code extension</h4>
<div class="paragraph">
<p>The following scenarios are possible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You receive a <code>403 error</code> message.</p>
<div class="paragraph">
<p>To resolve this error, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your organization administrator has configured Red Hat Ansible Lightspeed for your organization.</p>
</li>
<li>
<p>You are part of an organization that has a trial or paid subscription to both Ansible Automation Platform and IBM watsonx Code Assistant.</p>
</li>
</ul>
</div>
</li>
<li>
<p>You have not configured the required Ansible VS code extension settings.</p>
<div class="ulist">
<ul>
<li>
<p>To resolve this error, ensure that you have enabled the <strong>Lightspeed:Enabled</strong> and <span class="menuseq"><b class="menu">Lightspeed</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">Suggestions:Enabled</b></span> settings. For more information, see <a href="#configure-vscode-extension_configuring-with-code-assistant">Configure the Ansible VS Code extension</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>You receive a <code>Failure on completion requests</code> error when you make inference requests in VS Code.</p>
<div class="paragraph">
<p>If you are part of an organization that has a trial or paid subscription to both Ansible Automation Platform and IBM watsonx Code Assistant, but your organization administrator has not configured an IBM watsonx Code Assistant model for your organization, you will encounter a <code>Failure on completion requests</code> error when you make inference requests in VS Code.</p>
</div>
</li>
<li>
<p>Your VS Code Workspace settings override user settings.</p>
<div class="paragraph">
<p>If your Workspace settings are configured, they can override our user settings even if you have configured the Ansible VS Code extension correctly. The Workspace settings can disable your VS Code extension settings, and therefore you cannot access the Ansible Lightspeed service.</p>
</div>
<div class="paragraph">
<p>To resolve this error, ensure that there are no Workspace settings configured in VS Code. For more information, see <a href="https://code.visualstudio.com/docs/getstarted/settings#_workspace-settings">Workspace settings</a> in the VS Code documentation.</p>
</div>
</li>
<li>
<p>You entered a multitask prompt, but code recommendations were not generated.</p>
<div class="paragraph">
<p>To resolve this error, log out of VS Code and log in again using your Red Hat account.</p>
</div>
</li>
<li>
<p>You clicked a different location or switched to a different window; therefore, the populated code recommendations disappeared.</p>
<div class="paragraph">
<p>The Red Hat Ansible Lightspeed service could take multiple seconds per task to populate the code recommendations. If you are using a multitask prompt, the Red Hat Ansible Lightspeed service takes a bit longer to populate the results. Do not move your cursor or press any key while the code recommendation is being generated. If you change the cursor location or press any key, the Ansible VS Code extension cancels the request and the Red Hat Ansible Lightspeed service does not process your request. In this scenario, you must get the cursor back to its original position and repopulate the results.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_request_code_recommendations_by_using_the_ansible_vs_code_extension">9.2.2. Cannot request code recommendations by using the Ansible VS Code extension</h4>
<div class="paragraph">
<p>The following error message is displayed:<br>
<code>Your trial to the generative AI model has expired. Refer to your IBM Cloud Account to re-enable access to the IBM watsonx Code Assistant.</code></p>
</div>
<div class="paragraph">
<p>To resolve this error, refer to your IBM Cloud account and select an upgrade option.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-code-bot_troubleshooting-lightspeed">9.3. Troubleshooting Ansible code bot errors</h3>
<div class="sect3">
<h4 id="_cannot_access_ansible_code_bot">9.3.1. Cannot access Ansible code bot</h4>
<div class="paragraph">
<p>After you install Ansible code bot and attempt to log in, you receive the following error message:</p>
</div>
<div class="paragraph">
<p><code>Your organization does not have a valid Red Hat Ansible Lightspeed subscription</code></p>
</div>
<div class="paragraph">
<p>After you install Ansible code bot, you are redirected to a page that shows an active subscription status, as shown in the following image:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/code_bot_login_screen.png" alt="Ansible code bot login screen with an active subscription">
</div>
<div class="title">Figure 7. Ansible code bot login screen with an active subscription</div>
</div>
<div class="paragraph">
<p>If the login screen displays an inactive subscription status, Ansible code bot does not scan your Git repositories. The error occurs because your organization does not have a valid Ansible Automation Platform subscription. To resolve this error, ensure that you are part of an organization that has a valid Red Hat Ansible Automation Platform subscription.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_scan_your_git_repository_using_ansible_code_bot">9.3.2. Cannot scan your Git repository using Ansible code bot</h4>
<div class="paragraph">
<p>If the Ansible code bot is not configured correctly, it does not scan your Git repositories or does not create pull requests.</p>
</div>
<div class="paragraph">
<p>To resolve Ansible code bot errors, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have selected all the Git repositories that you want to scan.</p>
</li>
<li>
<p>You have a <code>.yml</code> configuration file named <code>ansible-code-bot.yml</code> in your repository <code>.github</code> folder. For example, <code>.github/ansible-code-bot.yml</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Run a manual scan on your git repositories by adding the <strong>ansible-code-bot-scan</strong> topic to your repository. For more information, see <a href="#manually-scan-repo_using-code-bot-for-suggestions">Manually scan your Git repositories</a>.</p>
</div>
<div class="paragraph">
<p>If the Ansible code bot still cannot scan your Git repository, the following scenarios are possible:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Ansible code bot did not identify any ansible-lint violations in the Git repository.</p>
</li>
<li>
<p>The Ansible code bot does not have permission to scan the Git repository.</p>
</li>
<li>
<p>Your organization does not have a valid Red Hat Ansible Automation Platform subscription.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_cannot_create_pull_requests">9.3.3. Cannot create pull requests</h4>
<div class="paragraph">
<p>You might encounter an error where the Ansible code bot cannot create pull requests after scanning your Git repositories.</p>
</div>
<div class="paragraph">
<p>To resolve this error, ensure that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have verified that there are are no duplicate pull requests. For more information, see <a href="assembly_using-code-bot-for-suggestions.html#ansible-code-bot-duplicate-pr">How Ansible code bot handles duplicate pull requests</a>.</p>
</li>
<li>
<p>You have deleted the branches after closing the pull requests created by the Ansible code bot. For more information, see <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-branches-in-your-repository/deleting-and-restoring-branches-in-a-pull-request#deleting-a-branch-used-for-a-pull-request">Deleting a branch used for a pull request</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-02-26 12:24:18 UTC
</div>
</div>
</body>
</html>